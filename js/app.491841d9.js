(function(){"use strict";var e={45:function(e,t,o){var s=o(963),a=o(252),n=o(577);const i=(0,a._)("div",{id:"color-picker"},null,-1);function r(e,t,o,s,r,p){const l=(0,a.up)("Nav"),d=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",{id:"app",class:(0,n.C_)(p.mode)},[(0,a.Wm)(l),i,(0,a.Wm)(d)],2)}const p={class:"breadcrumbs"},l={key:0},d={key:1};function c(e,t,o,i,r,c){const h=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",{class:(0,n.C_)({"at-root":!c.currentProject})},[(0,a._)("section",p,[(0,a.Wm)(h,{to:"/",class:"link-to-home"},{default:(0,a.w5)((()=>[(0,a.Uk)("zerodivs.com")])),_:1}),c.currentProject?((0,a.wg)(),(0,a.iD)("span",l,"/")):(0,a.kq)("",!0),c.currentProject?((0,a.wg)(),(0,a.iD)("span",d,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>c.projectName=e),placeholder:"Project name"},null,512),[[s.nr,c.projectName]])])):(0,a.kq)("",!0)]),c.currentProject?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>c.toggleOutput&&c.toggleOutput(...e))},"Result")):(0,a.kq)("",!0),c.currentProject?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(h,{key:1,to:"/about",class:"about-link secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)("About")])),_:1}))],2)}var h=o(907),u=o(201);const f=e=>((0,a.dD)("data-v-658d4e7c"),e=e(),(0,a.Cn)(),e),m={class:"div-gallery"},v={key:0,class:"project-name"},g={key:0,class:"actions"},y=["onClick"],b=["onClick"],S=["onClick"],w={class:"div-thumbnail new"},x={key:0,class:"modal-container delete-confirmation-modal"},k={class:"modal"},P=f((()=>(0,a._)("h3",{class:"header"},"Delete Project?",-1))),C=f((()=>(0,a._)("div",{class:"main"},[(0,a._)("p",null,"This operation cannot be undone.")],-1))),j={class:"actions actions-bottom"};function _(e,t,o,s,i,r){const p=(0,a.up)("GalleryThumbnail"),l=(0,a.up)("router-link"),d=(0,a.up)("HamburgerButton");return(0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.divs,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id,class:(0,n.C_)(["div-thumbnail",{"options-open":r.isOptionsOpenId(e.id)}])},[(0,a.Wm)(l,{to:r.link(e.id)},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{projectId:e.id},null,8,["projectId"]),e.name?((0,a.wg)(),(0,a.iD)("div",v,(0,n.zw)(e.name),1)):(0,a.kq)("",!0)])),_:2},1032,["to"]),r.isOptionsOpenId(e.id)?((0,a.wg)(),(0,a.iD)("ul",g,[(0,a._)("li",null,[(0,a._)("button",{onClick:t=>r.duplicate(e),class:"action-button"}," Duplicate ",8,y)]),(0,a._)("li",null,[(0,a._)("button",{onClick:t=>r.confirmDeleteDiv(e),class:"action-button"}," Delete ",8,b)])])):(0,a.kq)("",!0),(0,a._)("div",{class:"options-toggle",onClick:()=>r.toggleOptions(e.id)},[(0,a.Wm)(d,{class:"close-button",isOpen:r.isOptionsOpenId(e.id)},null,8,["isOpen"])],8,S)],2)))),128)),(0,a._)("li",w,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>r.createNewDiv&&r.createNewDiv(...e)),class:"new-project-button"}," Create New ")])]),r.askingForDeleteConfirmation?((0,a.wg)(),(0,a.iD)("div",x,[(0,a._)("div",{class:"modal-overlay",onClick:t[1]||(t[1]=(...e)=>r.cancelDelete&&r.cancelDelete(...e))}),(0,a._)("div",k,[P,C,(0,a._)("div",j,[(0,a._)("button",{class:"cancel-button",onClick:t[2]||(t[2]=(...e)=>r.cancelDelete&&r.cancelDelete(...e))}," Cancel "),(0,a._)("button",{class:"main-action",onClick:t[3]||(t[3]=(...e)=>r.deleteDiv&&r.deleteDiv(...e))},"Delete")])])])):(0,a.kq)("",!0),((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),null,{default:(0,a.w5)((()=>[(0,a.Uk)(" body { background-color: var(--gray-900); } ")])),_:1}))])}function L(e,t,o,s,i,r){return r.shapesLayers?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,n.C_)(["thumbnail-wrapper","thumbnail-wrapper-"+o.projectId]),style:(0,n.j5)(r.offsetStyle)},[(0,a._)("div",{class:(0,n.C_)(["thumbnail","thumbnail-"+o.projectId])},null,2),((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{type:"text/css"},{default:(0,a.w5)((()=>[(0,a.Uk)(" .thumbnail-wrapper-"+(0,n.zw)(o.projectId)+" { "+(0,n.zw)(r.mainCustomStyle)+" } ",1)])),_:1})),r.isMainActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:0,type:"text/css"},{default:(0,a.w5)((()=>[(0,a.Uk)(" .thumbnail-"+(0,n.zw)(o.projectId)+" { "+(0,n.zw)(r.mainStyle)+" } ",1)])),_:1})):(0,a.kq)("",!0),r.isBeforeActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:1,type:"text/css"},{default:(0,a.w5)((()=>[(0,a.Uk)(" .thumbnail-"+(0,n.zw)(o.projectId)+":before { "+(0,n.zw)(r.beforeStyle)+" } ",1)])),_:1})):(0,a.kq)("",!0),r.isAfterActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:2,type:"text/css"},{default:(0,a.w5)((()=>[(0,a.Uk)(" .thumbnail-"+(0,n.zw)(o.projectId)+":after { "+(0,n.zw)(r.afterStyle)+" } ",1)])),_:1})):(0,a.kq)("",!0)],6)):(0,a.kq)("",!0)}function I(e,t=""){const o=[...e].reverse();return!o||o.length<1?"":`${t}background-image: ${T(o)};\n${t}background-position: ${N(o)};\n${t}background-size: ${O(o)};\n${t}background-repeat: ${z(o)};\n`}function M(e){return void 0===e.position?e.color:[e.color,e.position].join(" ")}function D(e){return e.map((e=>M(e))).join(", ")}function T(e){return e.map((e=>B(e))).join(", ")}function B(e){const t=D(e.stops),o=e.direction?[e.direction,t]:[t];return`${A(e.type)}(${o.join(", ")})`}function A(e){return`${e}-gradient`}function N(e){return e.map((e=>U(e))).join(", ")}function U(e){return`${e.left.value}${e.left.units} ${e.top.value}${e.top.units}`}function O(e){return e.map((e=>$(e))).join(", ")}function $(e){return`${e.width.value}${e.width.units} ${e.height.value}${e.height.units}`}function z(e){return R(e)?e.map((e=>Z(e.repeat)?e.repeat:"no-repeat")).join(", "):"no-repeat"}function R(e){for(const t of e)if(Z(t.repeat))return!0;return!1}function Z(e){return e&&"no-repeat"!==e}var W={props:{projectId:String},computed:{mainCustomStyle(){return this.shapesLayers.main.extraStyles},mainStyle(){return I(this.shapesMain)},beforeStyle(){const e=this.shapesBefore;return this.layerExtraStyles("before")+I(e)},afterStyle(){const e=this.shapesAfter;return this.layerExtraStyles("after")+I(e)},isMainActive(){return this.isLayerActive("main")},isBeforeActive(){return this.isLayerActive("before")},isAfterActive(){return this.isLayerActive("after")},offset(){const e=this.shapesMain.concat(this.shapesBefore).concat(this.shapesAfter);if(!e.length)return{x:0,y:0};let t=1/0,o=1/0;for(const s of e)t=Math.min(t,s.left.value),o=Math.min(o,s.top.value);return{x:t,y:o}},offsetStyle(){return{minHeight:`calc(100% + ${this.offset.y}px)`,left:"0",margin:"0",top:"0",transform:`translate(${-this.offset.x}px, ${-this.offset.y}px)`,minWidth:`calc(100% + ${this.offset.x}px)`}},shapesLayers(){return qa.getters.shapesLayersByProjectId(this.projectId)},shapesMain(){return this.getLayerShapes("main")},shapesBefore(){return this.getLayerShapes("before")},shapesAfter(){return this.getLayerShapes("after")}},methods:{getLayerShapes(e){return this.shapesLayers[e].shapes},isLayerActive(e){return this.shapesLayers[e].active},layerExtraStyles(e){return this.shapesLayers[e].extraStyles}}},V=o(744);const K=(0,V.Z)(W,[["render",L],["__scopeId","data-v-afe06dfa"]]);var E=K;function H(e,t,o,s,i,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["hamburger-button",{active:o.isOpen}]),onClick:t[0]||(t[0]=(...e)=>r.tryClick&&r.tryClick(...e))},null,2)}var q={props:{isOpen:Boolean,onClick:{type:Function,required:!1}},methods:{tryClick(e){this.onClick&&this.onClick(e)}}};const F=(0,V.Z)(q,[["render",H],["__scopeId","data-v-b9f81ea8"]]);var G=F,J={components:{GalleryThumbnail:E,HamburgerButton:G},data(){return{optionsOpenId:null,projectToBeDeleted:null}},methods:{cancelDelete(){this.projectToBeDeleted=null},confirmDeleteDiv(e){this.optionsOpenId=null,this.projectToBeDeleted=e},async createNewDiv(){const e=await qa.dispatch("createNewProject");this.$router.push(this.link(e))},deleteDiv(){qa.dispatch("removeProject",this.projectToBeDeleted),this.projectToBeDeleted=null},duplicate(e){this.optionsOpenId=null,qa.dispatch("duplicateProject",e)},isOptionsOpenId(e){return this.optionsOpenId===e},link(e){return`/i/${e}`},toggleOptions(e){this.optionsOpenId===e?this.optionsOpenId=null:this.optionsOpenId=e}},computed:{divs(){return qa.getters.projects},askingForDeleteConfirmation(){return null!==this.projectToBeDeleted}},mounted(){qa.dispatch("loadProjects"),qa.dispatch("setCurrentProject",null)}};const Y=(0,V.Z)(J,[["render",_],["__scopeId","data-v-658d4e7c"]]);var X=Y;const Q={class:"editor"},ee={key:1};function te(e,t,o,s,n,i){const r=(0,a.up)("Toolbar"),p=(0,a.up)("Workspace"),l=(0,a.up)("Layers"),d=(0,a.up)("PropsForm"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",Q,[i.project?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)(r),(0,a._)("div",null,[(0,a.Wm)(p),(0,a.Wm)(l),(0,a.Wm)(d)]),(0,a.Wm)(c)],64)):((0,a.wg)(),(0,a.iD)("div",ee,"Couldn't find this project. :-/"))])}var oe=o(486);const se={type:"text",ref:"focus",class:"fake-focus"},ae={class:"full-wrapper"},ne={class:"full-wrapper"},ie={key:0,class:"reset-zoom"},re={class:"zoom-value"};function pe(e,t,o,s,i,r){const p=(0,a.up)("Canvas"),l=(0,a.up)("ShapeOverlays"),d=(0,a.up)("pinch-zoom"),c=(0,a.up)("ShapeResizeHandles");return(0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["workspace",{"adding-shape":r.addingShape}]),ref:"workspace"},[(0,a._)("input",se,null,512),(0,a.Wm)(d,{ref:"pinchZoom"},{default:(0,a.w5)((()=>[(0,a._)("div",{class:"pinch-zoom-wrapper",onMousemove:t[0]||(t[0]=(...e)=>r.onDrag&&r.onDrag(...e)),onMouseup:t[1]||(t[1]=(...e)=>r.onMouseUp&&r.onMouseUp(...e)),onPointerdown:t[2]||(t[2]=(...e)=>r.onMouseDown&&r.onMouseDown(...e)),ref:"pinchZoomInner"},[(0,a._)("div",ae,[(0,a._)("div",{class:(0,n.C_)(["canvas-wrapper","canvas-wrapper-"+r.projectId]),ref:"canvas"},[(0,a.Wm)(p,{projectId:r.projectId,shapesLayers:r.shapesLayers},null,8,["projectId","shapesLayers"])],2)]),(0,a._)("div",ne,[(0,a.Wm)(l,{onShapeMouseDown:r.onShapeMouseDown,onShapeMouseUp:r.onShapeMouseUp,projectId:r.projectId,shapesLayers:r.shapesLayers},null,8,["onShapeMouseDown","onShapeMouseUp","projectId","shapesLayers"])])],544)])),_:1},512),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.selectedShapes,(e=>((0,a.wg)(),(0,a.j4)(c,{canvasPosition:i.canvasPosition,key:e.id,onMouseDown:r.onResizeHandleMouseDown,onMouseUp:r.onMouseUp,shape:e,showHandles:!!r.selectedShape,viewportTransform:i.viewportTransform},null,8,["canvasPosition","onMouseDown","onMouseUp","shape","showHandles","viewportTransform"])))),128)),r.zoomLevel&&1!==r.zoomLevel?((0,a.wg)(),(0,a.iD)("div",ie,[(0,a._)("p",re,"Zoom: "+(0,n.zw)(r.zoomLevelPercentage)+"%",1),(0,a._)("button",{onClick:t[3]||(t[3]=(...e)=>r.resetZoom&&r.resetZoom(...e))},"Reset")])):(0,a.kq)("",!0)],2)}function le(e,t,o,s,i,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["canvas","canvas-"+o.projectId])},[((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{type:"text/css"},{default:(0,a.w5)((()=>[(0,a.Uk)(" .canvas-wrapper-"+(0,n.zw)(o.projectId)+" { "+(0,n.zw)(r.mainCustomStyle)+" } ",1)])),_:1})),r.isMainActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:0,type:"text/css"},{default:(0,a.w5)((()=>[(0,a.Uk)(" .canvas-"+(0,n.zw)(o.projectId)+" { "+(0,n.zw)(r.mainStyle)+" } ",1)])),_:1})):(0,a.kq)("",!0),r.isBeforeActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:1,type:"text/css"},{default:(0,a.w5)((()=>[(0,a.Uk)(" .canvas-"+(0,n.zw)(o.projectId)+":before { "+(0,n.zw)(r.beforeStyle)+" } ",1)])),_:1})):(0,a.kq)("",!0),r.isAfterActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:2,type:"text/css"},{default:(0,a.w5)((()=>[(0,a.Uk)(" .canvas-"+(0,n.zw)(o.projectId)+":after { "+(0,n.zw)(r.afterStyle)+" } ",1)])),_:1})):(0,a.kq)("",!0)],2)}var de={props:{projectId:String,shapesLayers:Object},computed:{mainCustomStyle(){return this.shapesLayers.main.extraStyles},mainStyle(){const e=[],t=qa.getters.currentSnaps,o=(0,oe.get)(t,"x"),s="khaki";if(o){const t="left"===o.location?o.point.value-1:o.point.value;e.push({type:"linear",direction:"to right",left:{value:t,units:"px"},top:{value:0,units:"px"},width:{value:1,units:"px"},height:{value:100,units:"%"},stops:[{color:s},{color:s}]})}const a=(0,oe.get)(t,"y");if(a){const t="top"===a.location?a.point.value-1:a.point.value;e.push({type:"linear",direction:"to bottom",left:{value:0,units:"%"},top:{value:t,units:"px"},width:{value:100,units:"%"},height:{value:1,units:"px"},stops:[{color:s},{color:s}]})}const n=this.shapesMain.concat(e);return I(n)},beforeStyle(){const e=this.shapesBefore;return this.layerExtraStyles("before")+I(e)},afterStyle(){const e=this.shapesAfter;return this.layerExtraStyles("after")+I(e)},isMainActive(){return this.isLayerActive("main")},isBeforeActive(){return this.isLayerActive("before")},isAfterActive(){return this.isLayerActive("after")},shapesMain(){const e=this.getLayerShapes("main");return this.shapeToBeAdded&&"main"===qa.getters.selectedLayer?e.concat([this.shapeToBeAdded]):e},shapesBefore(){const e=this.getLayerShapes("before");return this.shapeToBeAdded&&"before"===qa.getters.selectedLayer?e.concat([this.shapeToBeAdded]):e},shapesAfter(){const e=this.getLayerShapes("after");return this.shapeToBeAdded&&"after"===qa.getters.selectedLayer?e.concat([this.shapeToBeAdded]):e},shapeToBeAdded(){return"number"===typeof(0,oe.get)(qa.getters,"shapeToBeAdded.top.value")&&"number"===typeof(0,oe.get)(qa.getters,"shapeToBeAdded.left.value")&&"number"===typeof(0,oe.get)(qa.getters,"shapeToBeAdded.width.value")&&"number"===typeof(0,oe.get)(qa.getters,"shapeToBeAdded.height.value")&&qa.getters.shapeToBeAdded}},methods:{getLayerShapes(e){return this.shapesLayers[e].shapes},isLayerActive(e){return this.shapesLayers[e].active},layerExtraStyles(e){return this.shapesLayers[e].extraStyles}}};const ce=(0,V.Z)(de,[["render",le],["__scopeId","data-v-51ebc8fd"]]);var he=ce;function ue(e){return JSON.parse(JSON.stringify(e))}function fe({x:e,y:t,viewportTransform:o}){return{x:(e-o.x)/o.scale,y:(t-o.y)/o.scale}}const me={class:"overlays-wrapper"},ve={key:0,class:"overlays--main"},ge={key:1,class:"overlays--before"},ye={key:2,class:"overlays--after"};function be(e,t,o,s,i,r){const p=(0,a.up)("ShapeOverlay");return(0,a.wg)(),(0,a.iD)("div",me,[(0,a._)("div",{class:(0,n.C_)(["overlays","overlays-"+o.projectId])},[r.isMainActive?((0,a.wg)(),(0,a.iD)("div",ve,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.shapesMain,(e=>((0,a.wg)(),(0,a.j4)(p,{shape:e,onMouseDown:o.onShapeMouseDown,onMouseUp:o.onShapeMouseUp,key:e.id},null,8,["shape","onMouseDown","onMouseUp"])))),128))])):(0,a.kq)("",!0),r.isBeforeActive?((0,a.wg)(),(0,a.iD)("div",ge,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.shapesBefore,(e=>((0,a.wg)(),(0,a.j4)(p,{shape:e,onMouseDown:o.onShapeMouseDown,onMouseUp:o.onShapeMouseUp,key:e.id},null,8,["shape","onMouseDown","onMouseUp"])))),128))])):(0,a.kq)("",!0),r.isAfterActive?((0,a.wg)(),(0,a.iD)("div",ye,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.shapesAfter,(e=>((0,a.wg)(),(0,a.j4)(p,{shape:e,onMouseDown:o.onShapeMouseDown,onMouseUp:o.onShapeMouseUp,key:e.id},null,8,["shape","onMouseDown","onMouseUp"])))),128))])):(0,a.kq)("",!0)],2),((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{type:"text/css"},{default:(0,a.w5)((()=>[(0,a.Uk)(" .overlays-"+(0,n.zw)(o.projectId)+" { "+(0,n.zw)(r.mainCustomStyle)+" } ",1)])),_:1})),r.isBeforeActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:0,type:"text/css"},{default:(0,a.w5)((()=>[(0,a.Uk)(" .overlays-"+(0,n.zw)(o.projectId)+" .overlays--before { "+(0,n.zw)(r.beforeStyle)+" } ",1)])),_:1})):(0,a.kq)("",!0),r.isAfterActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:1,type:"text/css"},{default:(0,a.w5)((()=>[(0,a.Uk)(" .overlays-"+(0,n.zw)(o.projectId)+" .overlays--after { "+(0,n.zw)(r.afterStyle)+" } ",1)])),_:1})):(0,a.kq)("",!0)])}function Se(e,t,o,s,i,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["overlay",{selected:r.isSelected}]),style:(0,n.j5)(r.computedStyle),onPointerdown:t[0]||(t[0]=e=>o.onMouseDown(o.shape,e)),onPointerup:t[1]||(t[1]=e=>o.onMouseUp(o.shape,e))},null,38)}var we={props:{onMouseDown:Function,onMouseUp:Function,shape:Object},computed:{computedStyle(){const e=this.shape.left.value+this.shape.left.units,t=this.shape.top.value+this.shape.left.units;return{transform:`translate(${e}, ${t})`,width:this.shape.width.value+this.shape.width.units,height:this.shape.height.value+this.shape.height.units}},isSelected(){return qa.getters.selectedShape===this.shape}}};const xe=(0,V.Z)(we,[["render",Se],["__scopeId","data-v-c7dfe3b8"]]);var ke=xe,Pe={props:{onShapeMouseDown:Function,onShapeMouseUp:Function,projectId:String,shapesLayers:Object},components:{ShapeOverlay:ke},computed:{mainCustomStyle(){return this.shapesLayers.main.extraStyles},beforeStyle(){const e=this.shapesBefore;return this.layerExtraStyles("before")+I(e)},afterStyle(){const e=this.shapesAfter;return this.layerExtraStyles("after")+I(e)},isMainActive(){return this.isLayerActive("main")},isBeforeActive(){return this.isLayerActive("before")},isAfterActive(){return this.isLayerActive("after")},shapesMain(){return this.getLayerShapes("main")},shapesBefore(){return this.getLayerShapes("before")},shapesAfter(){return this.getLayerShapes("after")}},methods:{getLayerShapes(e){return this.shapesLayers[e].shapes},isLayerActive(e){return this.shapesLayers[e].active},layerExtraStyles(e){return this.shapesLayers[e].extraStyles}}};const Ce=(0,V.Z)(Pe,[["render",be],["__scopeId","data-v-8b7f5976"]]);var je=Ce;function _e(e,t,o,s,i,r){return o.canvasPosition?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"shape-handles-wrapper",style:(0,n.j5)(r.containerStyle),ref:"wrapper",onMouseup:t[8]||(t[8]=(...e)=>o.onMouseUp&&o.onMouseUp(...e))},[o.showHandles?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("div",{class:"handle top-left",onMousedown:t[0]||(t[0]=e=>o.onMouseDown("top-left",e)),style:(0,n.j5)(r.transformTopLeft)},null,36),(0,a._)("div",{class:"handle top",onMousedown:t[1]||(t[1]=e=>o.onMouseDown("top",e)),style:(0,n.j5)(r.transformTop)},null,36),(0,a._)("div",{class:"handle top-right",onMousedown:t[2]||(t[2]=e=>o.onMouseDown("top-right",e)),style:(0,n.j5)(r.transformTopRight)},null,36),(0,a._)("div",{class:"handle right",onMousedown:t[3]||(t[3]=e=>o.onMouseDown("right",e)),style:(0,n.j5)(r.transformRight)},null,36),(0,a._)("div",{class:"handle bottom-right",onMousedown:t[4]||(t[4]=e=>o.onMouseDown("bottom-right",e)),style:(0,n.j5)(r.transformBottomRight)},null,36),(0,a._)("div",{class:"handle bottom",onMousedown:t[5]||(t[5]=e=>o.onMouseDown("bottom",e)),style:(0,n.j5)(r.transformBottom)},null,36),(0,a._)("div",{class:"handle bottom-left",onMousedown:t[6]||(t[6]=e=>o.onMouseDown("bottom-left",e)),style:(0,n.j5)(r.transformBottomLeft)},null,36),(0,a._)("div",{class:"handle left",onMousedown:t[7]||(t[7]=e=>o.onMouseDown("left",e)),style:(0,n.j5)(r.transformLeft)},null,36)],64)):(0,a.kq)("",!0)],36)):(0,a.kq)("",!0)}var Le={props:{canvasPosition:Object,showHandles:{type:Boolean,required:!1,default:!0},onMouseDown:Function,onMouseUp:Function,viewportTransform:Object,shape:Object},computed:{containerStyle(){const e="orange",t=[{height:{value:1,units:"px"},width:{value:this.shape.width.value*this.viewportTransform.scale,units:this.shape.width.units},...this.transformCoords({top:this.shapeTop,left:this.shapeLeft}),type:"linear",direction:"to bottom",stops:[{color:e},{color:e}]},{height:{value:this.shape.height.value*this.viewportTransform.scale,units:this.shape.height.units},width:{value:1,units:"px"},...this.transformCoords({top:this.shapeTop,left:this.shapeRight}),type:"linear",direction:"to bottom",stops:[{color:e},{color:e}]},{height:{value:1,units:"px"},width:{value:this.shape.width.value*this.viewportTransform.scale,units:this.shape.width.units},...this.transformCoords({top:this.shapeBottom,left:this.shapeLeft}),type:"linear",direction:"to bottom",stops:[{color:e},{color:e}]},{height:{value:this.shape.height.value*this.viewportTransform.scale,units:this.shape.height.units},width:{value:1,units:"px"},...this.transformCoords({top:this.shapeTop,left:this.shapeLeft}),type:"linear",direction:"to bottom",stops:[{color:e},{color:e}]}];return I(t)},shapeBottom(){return{value:this.shape.top.value+this.shape.height.value,units:this.shape.top.units}},shapeLeft(){return{value:this.shape.left.value,units:this.shape.left.units}},shapeRight(){return{value:this.shape.left.value+this.shape.width.value,units:this.shape.left.units}},shapeTop(){return{value:this.shape.top.value,units:this.shape.top.units}},transformBottom(){return this.cssTransform({top:this.shapeBottom,left:{value:(this.shapeLeft.value+this.shapeRight.value)/2,units:this.shapeLeft.units}})},transformBottomLeft(){return this.cssTransform({top:this.shapeBottom,left:this.shapeLeft})},transformBottomRight(){return this.cssTransform({top:this.shapeBottom,left:this.shapeRight})},transformLeft(){return this.cssTransform({top:{value:(this.shapeTop.value+this.shapeBottom.value)/2,units:this.shapeTop.units},left:this.shapeLeft})},transformRight(){return this.cssTransform({top:{value:(this.shapeTop.value+this.shapeBottom.value)/2,units:this.shapeTop.units},left:this.shapeRight})},transformTop(){return this.cssTransform({top:this.shapeTop,left:{value:(this.shapeLeft.value+this.shapeRight.value)/2,units:this.shapeLeft.units}})},transformTopLeft(){return this.cssTransform({top:this.shapeTop,left:this.shapeLeft})},transformTopRight(){return this.cssTransform({top:this.shapeTop,left:this.shapeRight})}},methods:{cssTransform({top:e,left:t}){const o=this.transformCoords({top:e,left:t});return`transform: translate(${o.left.value}${t.units}, ${o.top.value}${e.units})`},handleWheel(e){e.target.classList.contains("handle")&&e.preventDefault()},transformCoords({top:e,left:t,offset:o={top:0,left:0}}){if(this.canvasPosition)return{top:{...e,value:e.value*this.viewportTransform.scale+o.top+this.canvasPosition.y},left:{...t,value:t.value*this.viewportTransform.scale+o.left+this.canvasPosition.x}}}},mounted(){this.$refs.wrapper.addEventListener("wheel",this.handleWheel)},beforeDestroy(){this.$refs.wrapper.removeEventListener("wheel",this.handleWheel)}};const Ie=(0,V.Z)(Le,[["render",_e],["__scopeId","data-v-46965900"]]);var Me=Ie,De=(o(984),{data(){return{canvasPosition:null,currentAction:null,dragging:!1,initialNewShapePosition:null,initialShapeProps:null,initialMousePosition:null,initialPointerPosition:null,resizeDirection:null,shapeBeingAdded:null,shapesBeingMoved:null,viewportTransform:{x:0,y:0,scale:1}}},components:{Canvas:he,ShapeOverlays:je,ShapeResizeHandles:Me},methods:{dragNewShape(e){const t={left:Math.round(e.left),top:Math.round(e.top)},o=0<=t.left?this.initialNewShapePosition.left:this.initialNewShapePosition.left+t.left,s=Math.abs(t.left),a=0<=t.top?this.initialNewShapePosition.top:this.initialNewShapePosition.top+t.top,n=Math.abs(t.top);qa.dispatch("updateShape",{shape:qa.getters.shapeToBeAdded,width:{value:s},height:{value:n},top:{value:a},left:{value:o},round:!0})},initDrag({event:e}){this.shapesBeingMoved={};for(const t of qa.getters.selectedShapes)this.shapesBeingMoved[t.id]=ue(t);this.updateCanvasPosition(),this.initialMousePosition=this.transformCoords({x:e.x,y:e.y})},moveShapes(e){const t=qa.getters.selectedShapes;if(1===t.length){const o={left:this.initialShapeProps.left.value+e.left,top:this.initialShapeProps.top.value+e.top};qa.dispatch("moveShape",{shape:t[0],left:{value:o.left,units:"px"},top:{value:o.top,units:"px"}})}else for(const o of qa.getters.selectedShapes){const t=this.shapesBeingMoved[o.id];qa.dispatch("moveShape",{shape:o,left:{value:t.left.value+e.left,units:"px"},top:{value:t.top.value+e.top,units:"px"}})}},onChange(){qa.dispatch("setCurrentSnaps"),qa.dispatch("commitChange")},onDrag(e){if(!this.initialMousePosition)return void this.updateViewport();e.stopPropagation(),this.dragging=!0;const{x:t,y:o}=this.transformCoords({x:e.x,y:e.y}),s={left:t-this.initialMousePosition.x,top:o-this.initialMousePosition.y};this.addingShape?this.dragNewShape(s):this.resizeDirection?this.resizeShape(s):this.shapesBeingMoved&&this.moveShapes(s)},onMouseDown(e){this.$refs.focus.focus(),this.addingShape?(e.stopPropagation(),this.updateCanvasPosition(),this.initialMousePosition=this.transformCoords({x:e.x,y:e.y}),this.initialNewShapePosition={left:(e.x-this.canvasPosition.x)/this.viewportTransform.scale,top:(e.y-this.canvasPosition.y)/this.viewportTransform.scale},this.shapeBeingAdded={...qa.getters.shapeToBeAdded,width:{units:"px",value:0},height:{units:"px",value:0},left:{units:"px",value:this.initialNewShapePosition.left},top:{units:"px",value:this.initialNewShapePosition.top}},qa.dispatch("setShapeToBeAdded",this.shapeBeingAdded)):qa.dispatch("unselectShape")},onMouseUp(e){e.stopPropagation(),this.initialMousePosition=null,this.initialShapeProps=null,this.resizeDirection=null,this.shapesBeingMoved=null,this.addingShape&&(qa.dispatch("addShape",{layerName:qa.getters.selectedLayer,shape:qa.getters.shapeToBeAdded}).then((e=>{qa.dispatch("selectShape",{shape:e}).then((()=>qa.dispatch("generateSnapPoints")))})),this.shapeBeingAdded=null),this.dragging&&(this.onChange(),this.dragging=!1)},onResizeHandleMouseDown(e,t){t.stopPropagation();const o=qa.getters.selectedShape;o&&(this.resizeDirection=e,this.updateCanvasPosition(),this.initialMousePosition=this.transformCoords({x:t.x,y:t.y}),this.initialShapeProps={left:{...o.left},top:{...o.top},width:{...o.width},height:{...o.height}})},onShapeMouseDown(e,t){this.addingShape||(t.stopPropagation(),this.initDrag({event:t}),this.initialShapeProps={left:{...e.left},top:{...e.top},width:{...e.width},height:{...e.height}},this.selectingMultipleShapes||qa.dispatch("selectShape",{shape:e}).then((()=>qa.dispatch("generateSnapPoints"))))},onShapeMouseUp(e,t){this.addingShape||(t.stopPropagation(),this.initialMousePosition=null,this.initialShapeProps=null,this.resizeDirection=null,this.shapesBeingMoved=null,this.dragging?(this.onChange(),this.dragging=!1):this.selectingMultipleShapes&&qa.dispatch("selectShape",{shape:e,keepSelection:qa.getters.isKeyPressed("Shift")}).then((()=>qa.dispatch("generateSnapPoints"))))},resetZoom(){this.$refs.pinchZoom.setTransform({scale:1,x:0,y:0}),this.updateViewport()},resizeShape(e){qa.dispatch("resizeShape",{diff:e,direction:this.resizeDirection,initialShapeProps:this.initialShapeProps,shape:qa.getters.selectedShape})},preventZoom(e){e.stopPropagation()},transformCoords({x:e,y:t}){return fe({x:e,y:t,viewportTransform:this.viewportTransform})},updateCanvasPosition(){const e=this.$refs.canvas.getBoundingClientRect();this.canvasPosition={x:e.left,y:e.top}},updateViewport(){setTimeout((()=>{this.updateCanvasPosition(),this.viewportTransform={x:this.$refs.pinchZoom.x,y:this.$refs.pinchZoom.y,scale:this.$refs.pinchZoom.scale}}),0)}},mounted(){this.$refs.pinchZoom.addEventListener("wheel",this.updateViewport,{passive:!0}),this.$refs.pinchZoom.addEventListener("pointermove",this.updateViewport),this.updateCanvasPosition()},beforeDestroy(){this.$refs.pinchZoom.removeEventListener("wheel",this.updateViewport),this.$refs.pinchZoom.removeEventListener("pointermove",this.updateViewport),qa.dispatch("unselectShape")},computed:{addingShape(){return!!qa.getters.shapeToBeAdded},projectId(){return qa.getters.currentProject.id},selectedShape(){return qa.getters.selectedShape},selectedShapes(){return qa.getters.selectedShapes},selectingMultipleShapes(){const e=qa.getters.isKeyPressed("Shift");return e||1<qa.getters.selectedShapes.length},shapes(){return qa.getters.shapes},shapesLayers(){return qa.getters.allLayers},zoomLevel(){return this.viewportTransform.scale},zoomLevelPercentage(){return Te(100*this.zoomLevel,0)}}});function Te(e,t){if(!t)return Math.round(e);const o=Math.round(e*Math.pow(10,t))/Math.pow(10,t);let s=String(o);const a=s.split(".")[1];let n=0;void 0===a?s+=".":n=a.length;for(let i=0;i<t-n;i++)s+="0";return s}const Be=(0,V.Z)(De,[["render",pe],["__scopeId","data-v-7ba47ea7"]]);var Ae=Be;const Ne={class:"layers panel"};function Ue(e,t,o,s,n,i){const r=(0,a.up)("LayerSubtree");return(0,a.wg)(),(0,a.iD)("ul",Ne,[(0,a.Wm)(r,{layerName:"main"}),(0,a.Wm)(r,{layerName:"before"}),(0,a.Wm)(r,{layerName:"after"})])}const Oe=e=>((0,a.dD)("data-v-09cda357"),e=e(),(0,a.Cn)(),e),$e={class:"checkbox"},ze=["checked"],Re={class:"shapes"},Ze=["onMousedown"],We=Oe((()=>(0,a._)("span",{class:"draggable-indicator"},null,-1)));function Ve(e,t,o,i,r,p){const l=(0,a.up)("ShapeNameInput");return(0,a.wg)(),(0,a.iD)("li",{class:(0,n.C_)(["layer",{active:p.isLayerActive,layerName:o.layerName,selected:p.isLayerSelected}])},[(0,a._)("div",{class:"list-node root-node",onClick:t[1]||(t[1]=(...e)=>p.selectLayer&&p.selectLayer(...e))},[(0,a._)("label",null,(0,n.zw)(p.label),1),(0,a._)("span",$e,[(0,a._)("input",{type:"checkbox",checked:p.isLayerActive,onClick:t[0]||(t[0]=(0,s.iM)(((...e)=>p.toggleLayer&&p.toggleLayer(...e)),["stop"]))},null,8,ze)])]),(0,a._)("ul",Re,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(p.items,((o,s)=>((0,a.wg)(),(0,a.iD)("li",{class:(0,n.C_)(["shape list-node draggable",{selected:p.isShapeSelected(o),"moved-down":e.isItemMovedDown(s),"moved-up":e.isItemMovedUp(s),dragging:o===e.itemBeingDragged}]),style:(0,n.j5)(e.listItemStyle(o)),key:o.id,onMousemove:t[2]||(t[2]=(...t)=>e.onItemMouseMove&&e.onItemMouseMove(...t)),onMousedown:e=>p.onShapeMouseDown(s,e),onMouseup:t[3]||(t[3]=(...t)=>e.onItemMouseUp&&e.onItemMouseUp(...t))},[We,(0,a.Wm)(l,{shape:o,selected:p.isShapeSelected(o)},null,8,["shape","selected"])],46,Ze)))),128))])],2)}function Ke(e){return"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName||e.target.classList.contains("fake-focus")}var Ee={data(){return{elementHeight:null,elementIndex:null,initialMousePosition:null,offset:null,itemBeingDragged:null,indexMovedDown:null,indexMovedUp:null}},methods:{isItemMovedDown(e){return this.indexMovedDown===e},isItemMovedUp(e){return this.indexMovedUp===e},onItemMouseDown(e,t){if(Ke(t)){const o=t.target.closest("li.draggable");if(o){this.elementHeight=parseInt(o.getBoundingClientRect().height);const s=this.items[e];this.itemBeingDragged=s,this.initialMousePosition=t.y,this.elementIndex=e}}},async onItemMouseMove(e){if(this.itemBeingDragged){e.preventDefault(),this.offset=e.y-this.initialMousePosition;while(this.elementHeight/2<this.offset&&this.elementIndex<this.items.length-1)await this.swapItems(this.elementIndex,this.elementIndex+1),this.initialMousePosition+=this.elementHeight,this.offset-=this.elementHeight,this.indexMovedDown=null,this.indexMovedUp=this.elementIndex,this.elementIndex+=1;while(this.offset<-this.elementHeight/2&&0<this.elementIndex)this.swapItems(this.elementIndex,this.elementIndex-1),this.initialMousePosition-=this.elementHeight,this.offset+=this.elementHeight,this.indexMovedUp=null,this.indexMovedDown=this.elementIndex,this.elementIndex-=1}},onItemMouseUp(){this.itemBeingDragged=null,this.initialMousePosition=null,this.offset=null,qa.dispatch("commitChange")},listItemStyle(e){return e===this.itemBeingDragged&&null!==this.offset?{position:"relative",transform:`translateY(${this.offset}px)`,zIndex:10}:{}}}};const He={key:1,class:"shape-name"};function qe(e,t,o,i,r,p){return(0,a.wg)(),(0,a.iD)("span",{class:"root",onClick:t[1]||(t[1]=(...e)=>p.onClick&&p.onClick(...e))},[r.active?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,class:"shape-name",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>p.shapeName=e),ref:"input"},null,512)),[[s.nr,p.shapeName]]):((0,a.wg)(),(0,a.iD)("span",He,(0,n.zw)(p.shapeName),1))])}var Fe={props:{selected:Boolean,shape:Object},data(){return{active:!1,firstClickTime:null}},computed:{shapeName:{get(){return this.shape.name},set(e){qa.dispatch("updateShape",{shape:this.shape,name:e})}}},methods:{onClick(){if(this.firstClickTime){const e=Date.now();e-this.firstClickTime<=500&&(this.active=!0)}this.firstClickTime=Date.now()}},watch:{selected(e){e||(this.active=!1)}}};const Ge=(0,V.Z)(Fe,[["render",qe],["__scopeId","data-v-46ed2b2d"]]);var Je=Ge,Ye={props:{layerName:String},mixins:[Ee],data(){return{elementHeight:null,elementIndex:null,initialMousePosition:null,offset:null,shapeBeingDragged:null,shapeMovedDown:null,shapeMovedUp:null}},components:{ShapeNameInput:Je},methods:{isShapeSelected(e){return qa.getters.isShapeSelected(e)},onShapeMouseDown(e,t){const o=this.items[e];this.selectShape(o),this.onItemMouseDown(e,t)},selectLayer(){qa.dispatch("selectLayer",this.layerName),qa.dispatch("unselectShape")},selectShape(e){qa.dispatch("selectShape",{shape:e,keepSelection:qa.getters.isKeyPressed("Shift")})},shapeLabel(e){return e.name},async swapItems(e,t){await qa.dispatch("swapLayerShapes",{layerName:this.layerName,sourceIndex:e,targetIndex:t})},toggleLayer(){qa.dispatch("toggleLayer",this.layerName)}},computed:{isLayerActive(){return qa.getters.isLayerActive(this.layerName)},isLayerSelected(){return qa.getters.selectedLayer===this.layerName&&!qa.getters.selectedShape},label(){return"before"===this.layerName||"after"===this.layerName?":"+this.layerName:this.layerName},items(){return qa.getters.layerShapes(this.layerName)}}};const Xe=(0,V.Z)(Ye,[["render",Ve],["__scopeId","data-v-09cda357"]]);var Qe=Xe,et={components:{LayerSubtree:Qe}};const tt=(0,V.Z)(et,[["render",Ue],["__scopeId","data-v-9d9ba850"]]);var ot=tt;const st={class:"props panel"};function at(e,t,o,s,n,i){const r=(0,a.up)("LayerPropsFormFields"),p=(0,a.up)("ShapePropsFormFields");return(0,a.wg)(),(0,a.iD)("form",st,[i.layerName?((0,a.wg)(),(0,a.j4)(r,{key:0,"layer-name":i.layerName},null,8,["layer-name"])):(0,a.kq)("",!0),i.shape?((0,a.wg)(),(0,a.j4)(p,{key:1,shape:i.shape},null,8,["shape"])):(0,a.kq)("",!0)])}function nt(e,t,o,s,n,i){const r=(0,a.up)("codemirror");return(0,a.wg)(),(0,a.j4)(r,{modelValue:i.style,"onUpdate:modelValue":t[0]||(t[0]=e=>i.style=e),extensions:n.extensions,mode:"css",height:"auto",class:"code-editor code-editor-extra-styles"},null,8,["modelValue","extensions"])}var it=o(652),rt=o(426),pt={props:{layerName:String},components:{Codemirror:it.Z1},computed:{style:{get(){return qa.getters.extraStyles(this.layerName)},set(e){qa.dispatch("setExtraStyles",{layerName:this.layerName,styles:e}).then((()=>qa.dispatch("updateProject")))}}},data(){return{extensions:[(0,rt.iv)()]}}};const lt=(0,V.Z)(pt,[["render",nt],["__scopeId","data-v-48124085"]]);var dt=lt;const ct={class:"form shape-props-form"},ht={class:"list-node"},ut={class:"row"},ft={class:"wrapper"},mt=(0,a._)("span",{class:"label"},"Top",-1),vt={class:"units"},gt={class:"row"},yt={class:"wrapper"},bt=(0,a._)("span",{class:"label"},"Left",-1),St={class:"units"},wt={class:"list-node"},xt={class:"row"},kt={class:"wrapper"},Pt=(0,a._)("span",{class:"label"},"Width",-1),Ct={class:"units"},jt={class:"row"},_t={class:"wrapper"},Lt=(0,a._)("span",{class:"label"},"Height",-1),It={class:"units"},Mt={class:"list-node"},Dt={class:"row wrapper"},Tt=(0,a._)("span",{class:"label"},"Type",-1),Bt=(0,a._)("option",{value:"linear"},"Linear",-1),At=(0,a._)("option",{value:"radial"},"Radial",-1),Nt=(0,a._)("option",{value:"conic"},"Conic",-1),Ut=[Bt,At,Nt],Ot={class:"list-node"},$t={class:"row wrapper"},zt=(0,a._)("span",{class:"label"},"Direction",-1),Rt={class:"list-node"},Zt={class:"row wrapper"},Wt=(0,a._)("div",{class:"label"},"Repeat",-1);function Vt(e,t,o,i,r,p){const l=(0,a.up)("StopsEditor");return(0,a.wg)(),(0,a.iD)("div",ct,[(0,a._)("div",ht,[(0,a._)("div",ut,[(0,a._)("label",ft,[mt,(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>p.top=e),class:"w-m"},null,512),[[s.nr,p.top]]),(0,a._)("span",vt,(0,n.zw)(o.shape.top.units),1)])]),(0,a._)("div",gt,[(0,a._)("label",yt,[bt,(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>p.left=e),class:"w-m"},null,512),[[s.nr,p.left]]),(0,a._)("span",St,(0,n.zw)(o.shape.left.units),1)])])]),(0,a._)("div",wt,[(0,a._)("div",xt,[(0,a._)("label",kt,[Pt,(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>p.width=e),class:"w-m"},null,512),[[s.nr,p.width]]),(0,a._)("span",Ct,(0,n.zw)(o.shape.width.units),1)])]),(0,a._)("div",jt,[(0,a._)("label",_t,[Lt,(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>p.height=e),class:"w-m"},null,512),[[s.nr,p.height]]),(0,a._)("span",It,(0,n.zw)(o.shape.height.units),1)])])]),(0,a._)("div",Mt,[(0,a._)("label",Dt,[Tt,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>p.type=e),class:"w-l"},Ut,512),[[s.bM,p.type]])])]),(0,a._)("div",Ot,[(0,a._)("label",$t,[zt,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>p.direction=e),class:"m-l-s w-l"},null,512),[[s.nr,p.direction]])])]),(0,a._)("div",Rt,[(0,a._)("label",Zt,[Wt,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>p.backgroundRepeat=e),class:"w-l"},null,512),[[s.nr,p.backgroundRepeat]])])]),(0,a.Wm)(l,{shape:o.shape},null,8,["shape"])])}const Kt=e=>((0,a.dD)("data-v-1de5147f"),e=e(),(0,a.Cn)(),e),Et={class:"list-node"},Ht=Kt((()=>(0,a._)("label",{class:"row wrapper"},"Stops",-1))),qt={class:"stops"},Ft=["onMousedown"],Gt=Kt((()=>(0,a._)("span",{class:"draggable-indicator"},null,-1))),Jt=["onUpdate:modelValue","onChange"],Yt={class:"row add-new"};function Xt(e,t,o,i,r,p){const l=(0,a.up)("ColorPicker"),d=(0,a.up)("CloseButton");return(0,a.wg)(),(0,a.iD)("div",Et,[Ht,(0,a._)("ul",qt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.shape.stops,((o,i)=>((0,a.wg)(),(0,a.iD)("li",{key:o.id,class:(0,n.C_)(["stop draggable",{"moved-down":e.isItemMovedDown(i),"moved-up":e.isItemMovedUp(i),dragging:o===e.itemBeingDragged}]),style:(0,n.j5)(e.listItemStyle(o)),onMousedown:t=>e.onItemMouseDown(i,t),onMousemove:t[0]||(t[0]=(...t)=>e.onItemMouseMove&&e.onItemMouseMove(...t)),onMouseup:t[1]||(t[1]=(...t)=>e.onItemMouseUp&&e.onItemMouseUp(...t))},[Gt,(0,a.Wm)(l,{modelValue:o.color,"onUpdate:modelValue":e=>o.color=e,"on-pick":e=>p.onStopColorPick(o,e),"on-close":p.commitChange,anchor:"right",id:o.id},null,8,["modelValue","onUpdate:modelValue","on-pick","on-close","id"]),(0,a.wy)((0,a._)("input",{type:"text",class:"m-l-s","onUpdate:modelValue":e=>o.position=e,onChange:e=>p.updateStop(o,{position:e.target.value})},null,40,Jt),[[s.nr,o.position]]),(0,a.Wm)(d,{class:"remove-stop","on-click":()=>p.removeStop(i),title:"Remove stop"},null,8,["on-click"])],46,Ft)))),128))]),(0,a._)("div",Yt,[(0,a._)("button",{class:"add-new-stop",onClick:t[2]||(t[2]=()=>p.addNewStop()),title:"Add new stop"}," Add stop ")])])}function Qt(e,t,o,s,n,i){return(0,a.wg)(),(0,a.iD)("button",{onClick:t[0]||(t[0]=(...e)=>o.onClick&&o.onClick(...e))})}var eo={props:{onClick:Function}};const to=(0,V.Z)(eo,[["render",Qt],["__scopeId","data-v-183c56a1"]]);var oo=to;function so(e,t,o,i,r,p){const l=(0,a.up)("ChromeColorPicker"),d=(0,a.up)("EdgeCloseButton");return(0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["color-picker",{active:p.isPickerOpen}]),ref:"container"},[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>p.selectedColor=e)},null,512),[[s.nr,p.selectedColor]]),(0,a._)("span",{class:"sample",style:(0,n.j5)({backgroundColor:p.selectedColor}),onClick:t[1]||(t[1]=(...e)=>p.togglePicker&&p.togglePicker(...e))},null,4),((0,a.wg)(),(0,a.j4)(a.lR,{to:"#color-picker"},[p.isPickerOpen?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,n.C_)(["color-modal",{dragging:r.dragging}]),onPointermove:t[5]||(t[5]=(...e)=>p.onDrag&&p.onDrag(...e))},[(0,a._)("div",{class:(0,n.C_)(["picker-container",p.anchorClass]),style:(0,n.j5)(p.pickerStyle)},[(0,a._)("div",{class:"top-bar",onPointerdown:t[2]||(t[2]=(...e)=>p.onTopBarPointerDown&&p.onTopBarPointerDown(...e)),onPointerup:t[3]||(t[3]=(...e)=>p.onTopBarPointerUp&&p.onTopBarPointerUp(...e))},null,32),(0,a.Wm)(l,{class:"picker",modelValue:p.selectedColorHex,"onUpdate:modelValue":t[4]||(t[4]=e=>p.selectedColorHex=e)},null,8,["modelValue"]),(0,a.Wm)(d,{onClick:p.closePicker},null,8,["onClick"])],6)],34)):(0,a.kq)("",!0)]))],2)}var ao=o(619),no=o.n(ao),io=o(241),ro=o.n(io),po=o(726);function lo(e,t,o,s,n,i){return(0,a.wg)(),(0,a.iD)("a",{onClick:t[0]||(t[0]=(...e)=>o.onClick&&o.onClick(...e))})}var co={props:{onClick:Function}};const ho=(0,V.Z)(co,[["render",lo],["__scopeId","data-v-f761bc5e"]]);var uo=ho,fo={props:{anchor:{type:String,required:!1},id:String,onClose:{type:Function,required:!1},onPick:Function,modelValue:String},data(){return{dragging:!1,initialPointerPosition:null,initialPosition:null,position:ue(qa.getters.colorPickerPosition)}},components:{ChromeColorPicker:po.Z,EdgeCloseButton:uo},computed:{anchorClass(){return this.anchor?`anchor-${this.anchor}`:void 0},isPickerOpen(){return this.openColorPickerId===this.id},openColorPickerId(){return qa.getters.openColorPickerId},pickerStyle(){return{transform:`translate(${this.position.x}px,${this.position.y}px)`}},selectedColor:{get(){return this.modelValue},set(e){this.selectColor(e)}},selectedColorHex:{get(){return no()(this.modelValue||"")},set(e){this.selectColor(e.hex8)}}},beforeDestroy(){this.isPickerOpen&&this.closePicker()},methods:{closePicker(){qa.dispatch("setOpenColorPickerId",null),qa.dispatch("setColorPickerPosition",this.position),this.onClose&&this.onClose()},onDrag(e){if(this.dragging){const t={x:e.x-this.initialPointerPosition.x,y:e.y-this.initialPointerPosition.y};this.position={x:this.initialPosition.x+t.x,y:this.initialPosition.y+t.y}}},onTopBarPointerDown(e){this.initialPointerPosition={x:e.x,y:e.y},this.initialPosition=ue(this.position),this.dragging=!0},onTopBarPointerUp(){this.dragging=!1},openPicker(){if(qa.getters.colorPickerPosition)this.position=qa.getters.colorPickerPosition;else{const e=this.$refs.container.getBoundingClientRect(),t=225,o=242,s=20,a={x:e.left-t/2,y:e.top-o/2};this.anchor&&(this.anchor.includes("left")&&(a.x=e.left+s),this.anchor.includes("right")&&(a.x=e.left-t-s),this.anchor.includes("top")&&(a.y=e.top+s),this.anchor.includes("bottom")&&(a.y=e.top-o-s)),qa.dispatch("setColorPickerPosition",a),this.position=a}qa.dispatch("setOpenColorPickerId",this.id)},selectColor(e){"function"===typeof this.onPick&&ro()(e)&&this.onPick(e)},togglePicker(){this.isPickerOpen?this.closePicker():this.openPicker()}}};const mo=(0,V.Z)(fo,[["render",so],["__scopeId","data-v-6e0df257"]]);var vo=mo,go={components:{CloseButton:oo,ColorPicker:vo},props:{shape:Object},mixins:[Ee],methods:{addNewStop(e){qa.dispatch("addNewStop",{shape:this.shape,index:e})},commitChange(){qa.dispatch("commitChange")},onStopColorPick(e,t){this.updateStop(e,{color:t})},removeStop(e){qa.dispatch("removeStop",{shape:this.shape,index:e})},swapItems(e,t){return qa.dispatch("swapStops",{shape:this.shape,sourceIndex:e,targetIndex:t})},updateStop(e,t){qa.dispatch("updateShapeStop",{shape:this.shape,stop:e,...t})}},computed:{items(){return this.shape.stops}}};const yo=(0,V.Z)(go,[["render",Xt],["__scopeId","data-v-1de5147f"]]);var bo=yo,So={components:{StopsEditor:bo},props:{shape:Object},computed:{backgroundRepeat:{get(){return this.shape.repeat},set(e){qa.dispatch("updateShape",{shape:this.shape,repeat:e})}},direction:{get(){return this.shape.direction},set(e){qa.dispatch("updateShape",{shape:this.shape,direction:e})}},height:{get(){return this.shape.height.value},set(e){qa.dispatch("updateShape",{shape:this.shape,height:{value:Number(e)}})}},left:{get(){return this.shape.left.value},set(e){qa.dispatch("updateShape",{shape:this.shape,left:{value:Number(e)}})}},top:{get(){return this.shape.top.value},set(e){qa.dispatch("updateShape",{shape:this.shape,top:{value:Number(e)}})}},type:{get(){return this.shape.type},set(e){qa.dispatch("updateShape",{shape:this.shape,type:e})}},width:{get(){return this.shape.width.value},set(e){qa.dispatch("updateShape",{shape:this.shape,width:{value:Number(e)}})}}}};const wo=(0,V.Z)(So,[["render",Vt]]);var xo=wo,ko={components:{LayerPropsFormFields:dt,ShapePropsFormFields:xo},computed:{layerName(){return!this.shape&&qa.getters.selectedLayer},shape(){return qa.getters.selectedShape}}};const Po=(0,V.Z)(ko,[["render",at],["__scopeId","data-v-6239d32c"]]);var Co=Po;const jo={class:"toolbar"},_o={class:"input"},Lo={class:"input"};function Io(e,t,o,s,n,i){const r=(0,a.up)("UndoButton"),p=(0,a.up)("RedoButton"),l=(0,a.up)("CurrentColorPicker"),d=(0,a.up)("ShapeButtonGroup"),c=(0,a.up)("LineThicknessPicker"),h=(0,a.up)("ToolbarSnapOptions");return(0,a.wg)(),(0,a.iD)("div",jo,[(0,a._)("section",null,[(0,a._)("section",null,[(0,a.Wm)(r),(0,a.Wm)(p)])]),(0,a._)("section",null,[(0,a.Wm)(l)]),(0,a._)("section",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.buttonShapeGenerators,((e,t)=>((0,a.wg)(),(0,a.j4)(d,{key:t,shapeGeneratorGroup:e},null,8,["shapeGeneratorGroup"])))),128))]),(0,a._)("section",_o,[(0,a.Wm)(c)]),(0,a._)("section",Lo,[(0,a.Wm)(h)])])}const Mo="71%";var Do=[[function(e){const t=qa.getters.lineThickness;return{name:"Line, to bottom right",type:"linear",direction:"to bottom right",stops:[{color:"transparent",position:`calc(50% - ${t} / 2)`},{color:e,position:`calc(50% - ${t} / 2)`},{color:e,position:`calc(50% + ${t} / 2)`},{color:"transparent",position:`calc(50% + ${t} / 2)`}]}},function(e){const t=qa.getters.lineThickness;return{name:"Line, to bottom left",type:"linear",direction:"to bottom left",stops:[{color:"transparent",position:`calc(50% - ${t} / 2)`},{color:e,position:`calc(50% - ${t} / 2)`},{color:e,position:`calc(50% + ${t} / 2)`},{color:"transparent",position:`calc(50% + ${t} / 2)`}]}}],[function(e){return{name:"Rectangle",type:"linear",direction:"to bottom",stops:[{color:e},{color:e}]}}],[function(e){return{name:"Bottom right triangle",type:"linear",direction:"to bottom right",stops:[{color:"transparent",position:"50%"},{color:e,position:"50%"}]}},function(e){return{name:"Top left triangle",type:"linear",direction:"to top left",stops:[{color:"transparent",position:"50%"},{color:e,position:"50%"}]}},function(e){return{name:"Bottom left triangle",type:"linear",direction:"to bottom left",stops:[{color:"transparent",position:"50%"},{color:e,position:"50%"}]}},function(e){return{name:"Top right triangle",type:"linear",direction:"to top right",stops:[{color:"transparent",position:"50%"},{color:e,position:"50%"}]}}],[function(e){return{name:"Circle",type:"radial",direction:"at center",stops:[{color:e,position:Mo},{color:"transparent",position:Mo}],repeat:"no-repeat"}},function(e){const t=qa.getters.lineThickness;return{name:"Empty circle",type:"radial",direction:"at center",stops:[{color:"transparent",position:`calc(${Mo} - ${t})`},{color:e,position:`calc(${Mo} - ${t})`},{color:e,position:Mo},{color:"transparent",position:Mo}],repeat:"no-repeat"}}],[function(e){return{name:"Bottom right circle section",type:"radial",direction:"at top left",stops:[{color:e,position:Mo},{color:"transparent",position:Mo}],repeat:"no-repeat"}},function(e){return{name:"Bottom left circle section",type:"radial",direction:"at top right",stops:[{color:e,position:Mo},{color:"transparent",position:Mo}],repeat:"no-repeat"}},function(e){return{name:"Top left circle section",type:"radial",direction:"at bottom right",stops:[{color:e,position:Mo},{color:"transparent",position:Mo}],repeat:"no-repeat"}},function(e){return{name:"Top right circle section",type:"radial",direction:"at bottom left",stops:[{color:e,position:Mo},{color:"transparent",position:Mo}],repeat:"no-repeat"}}],[function(e){const t=qa.getters.lineThickness;return{name:"Bottom right arc",type:"radial",direction:"at top left",stops:[{color:"transparent",position:`calc(${Mo} - ${t})`},{color:e,position:`calc(${Mo} - ${t})`},{color:e,position:Mo},{color:"transparent",position:Mo}]}},function(e){const t=qa.getters.lineThickness;return{name:"Bottom left arc",type:"radial",direction:"at top right",stops:[{color:"transparent",position:`calc(${Mo} - ${t})`},{color:e,position:`calc(${Mo} - ${t})`},{color:e,position:Mo},{color:"transparent",position:Mo}],repeat:"no-repeat"}},function(e){const t=qa.getters.lineThickness;return{name:"Top left arc",type:"radial",direction:"at bottom right",stops:[{color:"transparent",position:`calc(${Mo} - ${t})`},{color:e,position:`calc(${Mo} - ${t})`},{color:e,position:Mo},{color:"transparent",position:Mo}],repeat:"no-repeat"}},function(e){const t=qa.getters.lineThickness;return{name:"Top right arc",type:"radial",direction:"at bottom left",stops:[{color:"transparent",position:`calc(${Mo} - ${t})`},{color:e,position:`calc(${Mo} - ${t})`},{color:e,position:Mo},{color:"transparent",position:Mo}],repeat:"no-repeat"}}],[function(e){return{name:"4 Tiles #1",type:"conic",stops:[{color:e,position:"25%"},{color:"transparent",position:"25%"},{color:"transparent",position:"50%"},{color:e,position:"50%"},{color:e,position:"75%"},{color:"transparent",position:"75%"}],repeat:"no-repeat"}},function(e){return{name:"4 Tiles #2",type:"conic",stops:[{color:"transparent",position:"25%"},{color:e,position:"25%"},{color:e,position:"50%"},{color:"transparent",position:"50%"},{color:"transparent",position:"75%"},{color:e,position:"75%"}],repeat:"no-repeat"}}]];function To(e,t,o,s,n,i){const r=(0,a.up)("ColorPicker");return(0,a.wg)(),(0,a.j4)(r,{modelValue:i.currentColor,"onUpdate:modelValue":t[0]||(t[0]=e=>i.currentColor=e),"on-pick":i.selectColor,class:"current-color-picker",anchor:"top",id:"current-color"},null,8,["modelValue","on-pick"])}var Bo={components:{ColorPicker:vo},computed:{currentColor(){return qa.getters.currentColor}},methods:{selectColor(e){qa.dispatch("selectColor",e)}}};const Ao=(0,V.Z)(Bo,[["render",To],["__scopeId","data-v-497a89fa"]]);var No=Ao;function Uo(e,t,o,n,i,r){return(0,a.wg)(),(0,a.iD)("label",null,[(0,a.Uk)("Line width "),(0,a.wy)((0,a._)("input",{type:"text",class:"w-m","onUpdate:modelValue":t[0]||(t[0]=e=>r.lineThickness=e)},null,512),[[s.nr,r.lineThickness]])])}var Oo={computed:{lineThickness:{get(){return qa.getters.lineThickness},set(e){qa.dispatch("setLineThickness",e)}}}};const $o=(0,V.Z)(Oo,[["render",Uo]]);var zo=$o;function Ro(e,t,o,s,i,r){return(0,a.wg)(),(0,a.iD)("button",{onClick:t[0]||(t[0]=(...e)=>r.undo&&r.undo(...e)),class:(0,n.C_)({disabled:!r.canRedo})},[(0,a._)("div",{class:"icon",style:(0,n.j5)(i.style)},null,4)],2)}var Zo=JSON.parse('[{"name":"Top right arc","type":"radial","direction":"at bottom left","stops":[{"color":"transparent","position":"45%","id":"3ea80a82-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"45%","id":"3ea80a83-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"71%","id":"3ea80a84-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"71%","id":"3ea80a85-624f-11ea-8b9e-fd8e6004a4d6"}],"repeat":"no-repeat","width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":11},"top":{"units":"px","value":2},"id":"3ea80a81-624f-11ea-8b9e-fd8e6004a4d6"},{"name":"Bottom right arc","type":"radial","direction":"at top right","stops":[{"color":"transparent","position":"45%","id":"44c8a502-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"45%","id":"44c8a503-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"71%","id":"44c8a504-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"71%","id":"44c8a505-624f-11ea-8b9e-fd8e6004a4d6"}],"width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":1},"top":{"units":"px","value":12},"id":"44c8a501-624f-11ea-8b9e-fd8e6004a4d6"},{"name":"Bottom left arc","type":"radial","direction":"at bottom right","stops":[{"color":"transparent","position":"45%","id":"49ff0692-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"45%","id":"49ff0693-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"71%","id":"49ff0694-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"71%","id":"49ff0695-624f-11ea-8b9e-fd8e6004a4d6"}],"repeat":"no-repeat","width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":1},"top":{"units":"px","value":2},"id":"49ff0691-624f-11ea-8b9e-fd8e6004a4d6"},{"name":"Bottom right triangle","type":"linear","direction":"to bottom right","stops":[{"color":"transparent","id":"28319d22-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"50%","id":"28319d23-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"50%","id":"28319d24-624f-11ea-8b9e-fd8e6004a4d6"}],"width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":12},"top":{"units":"px","value":2},"id":"28319d21-624f-11ea-8b9e-fd8e6004a4d6"}]'),Wo={methods:{undo(){qa.dispatch("redo"),qa.dispatch("unselectShape"),qa.dispatch("updateProject")}},data(){return{style:I(Zo)}},computed:{canRedo(){return qa.getters.canRedo}}};const Vo=(0,V.Z)(Wo,[["render",Ro],["__scopeId","data-v-16e044c1"]]);var Ko=Vo;const Eo={class:"other-shapes"};function Ho(e,t,o,s,i,r){const p=(0,a.up)("ShapeButton");return(0,a.wg)(),(0,a.iD)("section",null,[(0,a.Wm)(p,{shape:r.defaultShape,class:(0,n.C_)({selected:r.wasSelected})},null,8,["shape","class"]),(0,a._)("div",Eo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.otherShapes,(e=>((0,a.wg)(),(0,a.j4)(p,{key:e.name,onSelect:()=>r.selectShape(e),shape:e},null,8,["onSelect","shape"])))),128))])])}function qo(e,t,o,s,i,r){const p=(0,a.up)("ToolbarButton");return(0,a.wg)(),(0,a.j4)(p,{style:(0,n.j5)(r.style),callback:r.addShape},null,8,["style","callback"])}function Fo(e,t,o,s,n,i){return(0,a.wg)(),(0,a.iD)("button",{onClick:t[0]||(t[0]=(...e)=>o.callback&&o.callback(...e)),title:"Click to add this shape"})}var Go={props:{callback:Function}};const Jo=(0,V.Z)(Go,[["render",Fo],["__scopeId","data-v-adc836b2"]]);var Yo=Jo,Xo={props:{onSelect:{type:Function,require:!1},shape:Object},components:{ToolbarButton:Yo},methods:{addShape(){"function"===typeof this.onSelect&&this.onSelect(),qa.dispatch("setShapeToBeAdded",this.shape),qa.dispatch("unselectShape")}},computed:{style(){return{backgroundImage:B(this.shape),backgroundSize:"60% 60%",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}}};const Qo=(0,V.Z)(Xo,[["render",qo]]);var es=Qo,ts={props:["shapeGeneratorGroup"],components:{ShapeButton:es},data(){const e=this.shapeGeneratorGroup[0](qa.getters.currentColor);return{defaultShapeName:(0,oe.get)(e,"name")}},methods:{selectShape(e){this.defaultShapeName=e.name}},computed:{defaultShape(){return this.shapes.find((e=>e.name===this.defaultShapeName))},otherShapes(){return this.shapes.filter((e=>e.name!==this.defaultShapeName))},shapes(){return this.shapeGeneratorGroup.map((e=>e(qa.getters.currentColor)))},wasSelected(){return(0,oe.get)(qa.getters.shapeToBeAdded,"name")===this.defaultShapeName}}};const os=(0,V.Z)(ts,[["render",Ho],["__scopeId","data-v-a375bc64"]]);var ss=os;const as=e=>((0,a.dD)("data-v-21dc0ec6"),e=e(),(0,a.Cn)(),e),ns=["checked"],is=["disabled"],rs=as((()=>(0,a._)("span",{class:"units"},"px",-1)));function ps(e,t,o,i,r,p){return(0,a.wg)(),(0,a.iD)("section",null,[(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{type:"checkbox",checked:p.snap,"onUpdate:modelValue":t[0]||(t[0]=e=>p.snap=e)},null,8,ns),[[s.e8,p.snap]]),(0,a.Uk)(" Snap ")]),(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>p.threshold=e),class:(0,n.C_)(["w-s",{inactive:!p.snap}]),disabled:!p.snap},null,10,is),[[s.nr,p.threshold]]),rs])}var ls={computed:{snap:{get(){return qa.getters.snap},set(){qa.dispatch("toggleSnap")}},threshold:{get(){return qa.getters.snapThreshold},set(e){qa.dispatch("setSnapThreshold",e)}}}};const ds=(0,V.Z)(ls,[["render",ps],["__scopeId","data-v-21dc0ec6"]]);var cs=ds;function hs(e,t,o,s,i,r){return(0,a.wg)(),(0,a.iD)("button",{onClick:t[0]||(t[0]=(...e)=>r.undo&&r.undo(...e)),class:(0,n.C_)({disabled:!r.canUndo})},[(0,a._)("div",{class:"icon",style:(0,n.j5)(i.style)},null,4)],2)}var us=JSON.parse('[{"name":"Top right arc","type":"radial","direction":"at bottom left","stops":[{"color":"transparent","position":"45%","id":"3ea80a82-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"45%","id":"3ea80a83-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"71%","id":"3ea80a84-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"71%","id":"3ea80a85-624f-11ea-8b9e-fd8e6004a4d6"}],"repeat":"no-repeat","width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":11},"top":{"units":"px","value":2},"id":"3ea80a81-624f-11ea-8b9e-fd8e6004a4d6"},{"name":"Bottom right arc","type":"radial","direction":"at top left","stops":[{"color":"transparent","position":"45%","id":"44c8a502-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"45%","id":"44c8a503-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"71%","id":"44c8a504-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"71%","id":"44c8a505-624f-11ea-8b9e-fd8e6004a4d6"}],"width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":11},"top":{"units":"px","value":12},"id":"44c8a501-624f-11ea-8b9e-fd8e6004a4d6"},{"name":"Bottom left arc","type":"radial","direction":"at bottom right","stops":[{"color":"transparent","position":"45%","id":"49ff0692-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"45%","id":"49ff0693-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"71%","id":"49ff0694-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"71%","id":"49ff0695-624f-11ea-8b9e-fd8e6004a4d6"}],"repeat":"no-repeat","width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":1},"top":{"units":"px","value":2},"id":"49ff0691-624f-11ea-8b9e-fd8e6004a4d6"},{"name":"Bottom right triangle","type":"linear","direction":"to bottom left","stops":[{"color":"transparent","id":"28319d22-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"50%","id":"28319d23-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"50%","id":"28319d24-624f-11ea-8b9e-fd8e6004a4d6"}],"width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":0},"top":{"units":"px","value":2},"id":"28319d21-624f-11ea-8b9e-fd8e6004a4d6"}]'),fs={methods:{undo(){qa.dispatch("undo"),qa.dispatch("unselectShape"),qa.dispatch("updateProject")}},data(){return{style:I(us)}},computed:{canUndo(){return qa.getters.canUndo}}};const ms=(0,V.Z)(fs,[["render",hs],["__scopeId","data-v-623cea8d"]]);var vs=ms,gs={components:{CurrentColorPicker:No,LineThicknessPicker:zo,RedoButton:Ko,ShapeButtonGroup:ss,ToolbarSnapOptions:cs,UndoButton:vs},data(){return{buttonShapeGenerators:Do}},methods:{redo(){qa.dispatch("redo")}}};const ys=(0,V.Z)(gs,[["render",Io],["__scopeId","data-v-13a980da"]]);var bs=ys;function Ss(e){switch(e.key){case"a":Ke(e)&&e.metaKey&&(e.preventDefault(),qa.dispatch("selectAllShapes"));break;case"Backspace":case"Delete":Ke(e)&&qa.dispatch("removeSelectedShapes");break;case"ArrowLeft":Ke(e)&&qa.dispatch("moveShapesBy",{shapes:qa.getters.selectedShapes,left:{value:-1,units:"px"}});break;case"ArrowUp":Ke(e)&&qa.dispatch("moveShapesBy",{shapes:qa.getters.selectedShapes,top:{value:-1,units:"px"}});break;case"ArrowRight":Ke(e)&&qa.dispatch("moveShapesBy",{shapes:qa.getters.selectedShapes,left:{value:1,units:"px"}});break;case"ArrowDown":Ke(e)&&qa.dispatch("moveShapesBy",{shapes:qa.getters.selectedShapes,top:{value:1,units:"px"}});break;case"c":Ke(e)&&e.metaKey&&qa.dispatch("copyShapes");break;case"d":Ke(e)&&qa.dispatch("duplicateSelectedShapes");break;case"Escape":Ke(e)&&qa.dispatch("setShapeToBeAdded",null);break;case"v":Ke(e)&&e.metaKey&&qa.dispatch("pasteShapes");break;case"x":Ke(e)&&e.metaKey&&qa.dispatch("cutShapes");break;case"z":Ke(e)&&e.metaKey&&(e.shiftKey?qa.dispatch("redo"):qa.dispatch("undo"));break}}var ws={data(){return{pressedKeys:new Set,shapes:null}},components:{Layers:ot,PropsForm:Co,Toolbar:bs,Workspace:Ae},created(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},destroyed(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},mounted(){const e=(0,oe.get)(this,"$route.params.id");qa.dispatch("resetSnapshots"),void 0===e?this.$router.history.push("/"):qa.dispatch("loadProjectById",e).then((()=>{qa.dispatch("addSnapshot")}))},computed:{project(){return qa.getters.currentProject},showOutput(){return qa.getters.showOutput}},methods:{onKeyDown(e){qa.dispatch("addPressedKey",e.key),Ss(e)},onKeyUp(e){qa.dispatch("removePressedKey",e.key)}}};const xs=(0,V.Z)(ws,[["render",te],["__scopeId","data-v-6a560df6"]]);var ks=xs;const Ps=(0,a.uE)('<dt data-v-2bed8fe8>What is this?</dt><dd data-v-2bed8fe8> This is an experimental UI editor for creating illustrations based applying styles (CSS) on a single HTML element. </dd><dt data-v-2bed8fe8>Why did you do it?</dt><dd data-v-2bed8fe8><p data-v-2bed8fe8><em data-v-2bed8fe8>Short answer:</em></p><p data-v-2bed8fe8>Experimentation and fun.</p><p data-v-2bed8fe8><em data-v-2bed8fe8>Long answer:</em></p><p data-v-2bed8fe8> As a web developer I like to learn ways to avoid unnecessary markup (and scripts). Often CSS knowledge helps create elegant and robust solutions and is an often underrated resource. </p><p data-v-2bed8fe8> This does not mean that one should avoid markup and force CSS-based solutions at all costs, the point is just to explore what a medium can do. </p><p data-v-2bed8fe8>Some resources about the topic that I found interesting include:</p><ul data-v-2bed8fe8><li data-v-2bed8fe8> Lea Verou&#39;s book <em data-v-2bed8fe8><a href="https://www.oreilly.com/library/view/css-secrets/9781449372736/" data-v-2bed8fe8>CSS Secrets</a></em></li><li data-v-2bed8fe8> Chris Coyier&#39;s article <em data-v-2bed8fe8><a href="https://css-tricks.com/the-shapes-of-css/" data-v-2bed8fe8>The Shapes of CSS</a></em></li><li data-v-2bed8fe8> Lynn Fisher&#39;s <a href="https://a.singlediv.com" data-v-2bed8fe8>Single Div Illustrations</a></li></ul></dd><dt data-v-2bed8fe8>How did you do it?</dt><dd data-v-2bed8fe8> You can find the code <a href="https://github.com/jperals/zerodivs" data-v-2bed8fe8>here</a>. </dd><dt data-v-2bed8fe8>Is my work being saved?</dt><dd data-v-2bed8fe8> Only to your browser via <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" data-v-2bed8fe8>localStorage</a>. In order to share your illustrations, you can export them to <a href="https://codepen.io/" data-v-2bed8fe8>CodePen</a>. </dd><dt data-v-2bed8fe8>Why the name &quot;Zero Divs&quot;?</dt><dd data-v-2bed8fe8><p data-v-2bed8fe8> This might not be super relevant, but I noticed that it&#39;s not even necessary to have a &quot;div&quot; or similar HTML node, since the styles can be applied directly to the body of a page. So it is possible to display complex visuals on a page that, from the content perspective, is completely empty. </p><p data-v-2bed8fe8> If you make use of the &quot;Export to CodePen&quot; button, you&#39;ll see that the generated pen has no markup at all (nor JavaScript, of course) --only CSS. </p><p data-v-2bed8fe8>And because I just couldn&#39;t come up with a better name, that&#39;s it.</p></dd><dt data-v-2bed8fe8>Who are you?</dt><dd data-v-2bed8fe8> I am <a href="https://perals.io" data-v-2bed8fe8>Joan</a>, a UX Engineer from Catalonia living in Berlin. </dd>',12),Cs=[Ps];function js(e,t){return(0,a.wg)(),(0,a.iD)("dl",null,Cs)}const _s={},Ls=(0,V.Z)(_s,[["render",js],["__scopeId","data-v-2bed8fe8"]]);var Is=Ls;const Ms={class:"modal-container"},Ds={class:"modal output"},Ts={class:"actions"},Bs={class:"tabs"};function As(e,t,o,s,n,i){const r=(0,a.up)("router-link"),p=(0,a.up)("ExportToCodePenButton"),l=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",Ms,[(0,a._)("div",{class:"modal-overlay",onClick:t[0]||(t[0]=(...e)=>i.close&&i.close(...e))}),(0,a._)("div",Ds,[(0,a._)("div",Ts,[(0,a._)("div",Bs,[(0,a.Wm)(r,{to:{name:"json-result"}},{default:(0,a.w5)((()=>[(0,a.Uk)("JSON")])),_:1}),(0,a.Wm)(r,{to:{name:"css-result"}},{default:(0,a.w5)((()=>[(0,a.Uk)("CSS")])),_:1})]),(0,a.Wm)(p),(0,a._)("button",{class:"button close-button",onClick:t[1]||(t[1]=(...e)=>i.close&&i.close(...e))},"Close")]),(0,a.Wm)(l)])])}const Ns={action:"https://codepen.io/pen/define",method:"POST",target:"_blank"},Us=["value"],Os={type:"submit"};function $s(e,t,o,s,i,r){return(0,a.wg)(),(0,a.iD)("form",Ns,[(0,a._)("input",{type:"hidden",name:"data",value:r.value},null,8,Us),(0,a._)("button",Os,[(0,a._)("span",{class:"codepen-icon",style:(0,n.j5)(i.buttonStyle)},null,4),(0,a.Uk)(" Export to CodePen ")])])}function zs({layers:e,selector:t="body"}){let o="html {\n  height: 100%;\n  width: 100%;\n}\n";for(const s of["main","before","after"])if(Zs({layerName:s,layers:e})){o+="main"===s?t:t+":"+s,o+=" {\n";const a=Ws({layerName:s,layers:e});o+=a;const n=Rs({layerName:s,layers:e});o+=I(n,"  "),o+="}\n"}return o}function Rs({layerName:e,layers:t}){return t[e].shapes}function Zs({layerName:e,layers:t}){return t[e].active}function Ws({layerName:e,layers:t}){const o=t[e].extraStyles||"";return"  "+o.replace(/\n[^$]/g,((e,t)=>"\n  "+o[t+1]))}var Vs=JSON.parse('[{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top left","stops":[{"color":"transparent","id":"12baa591-6709-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"12baa592-6709-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"12baa593-6709-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"12baa594-6709-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"12baa595-6709-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":0},"top":{"units":"px","value":0},"id":"12baa590-6709-11ea-9f06-cd94d7526e2a"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"white","position":"0%","id":"b1446e80-6709-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"100%","id":"b1446e81-6709-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":2},"height":{"units":"px","value":5},"left":{"units":"px","value":11},"top":{"units":"px","value":2},"id":"b1444770-6709-11ea-9f06-cd94d7526e2a"},{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top right","stops":[{"color":"transparent","id":"dc7a06e1-670a-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"dc7a06e2-670a-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"dc7a06e3-670a-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"dc7a06e4-670a-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"dc7a06e5-670a-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":11},"top":{"units":"px","value":0},"id":"dc7a06e0-670a-11ea-9f06-cd94d7526e2a"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"white","position":"0%","id":"0d5ea8b0-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"100%","id":"0d5ea8b1-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":2},"height":{"units":"px","value":7},"left":{"units":"px","value":0},"top":{"units":"px","value":8},"id":"0d5e81a1-670b-11ea-9f06-cd94d7526e2a"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"white","position":"0%","id":"138e8572-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"100%","id":"138e8573-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":2},"height":{"units":"px","value":6},"left":{"units":"px","value":22},"top":{"units":"px","value":8},"id":"138e8571-670b-11ea-9f06-cd94d7526e2a"},{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top right","stops":[{"color":"transparent","id":"2d684211-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"2d684212-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"2d684213-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"2d684214-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"2d684215-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":11},"top":{"units":"px","value":7},"id":"2d684210-670b-11ea-9f06-cd94d7526e2a"},{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top left","stops":[{"color":"transparent","id":"2ff1ac12-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"2ff1ac13-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"2ff1ac14-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"2ff1ac15-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"2ff1ac16-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":0},"top":{"units":"px","value":7},"id":"2ff1ac11-670b-11ea-9f06-cd94d7526e2a"},{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top right","stops":[{"color":"transparent","id":"4447d182-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"4447d183-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"4447d184-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"4447d185-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"4447d186-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":0},"top":{"units":"px","value":7},"id":"4447d181-670b-11ea-9f06-cd94d7526e2a"},{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top left","stops":[{"color":"transparent","id":"6a1406e2-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"6a1406e3-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"6a1406e4-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"6a1406e5-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"6a1406e6-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":11},"top":{"units":"px","value":7},"id":"6a1406e1-670b-11ea-9f06-cd94d7526e2a"},{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top left","stops":[{"color":"transparent","id":"6d2c4361-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"6d2c4362-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"6d2c4363-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"6d2c4364-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"6d2c4365-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":11},"top":{"units":"px","value":15},"id":"6d2c4360-670b-11ea-9f06-cd94d7526e2a"},{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top right","stops":[{"color":"transparent","id":"705ee5b2-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"705ee5b3-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"705ee5b4-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"705ee5b5-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"705ee5b6-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":0},"top":{"units":"px","value":15},"id":"705ee5b1-670b-11ea-9f06-cd94d7526e2a"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"white","position":"0%","id":"7719eb71-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"100%","id":"7719eb72-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":2},"height":{"units":"px","value":6},"left":{"units":"px","value":11},"top":{"units":"px","value":15},"id":"7719eb70-670b-11ea-9f06-cd94d7526e2a"}]'),Ks={data(){return{buttonStyle:I(Vs)}},computed:{value(){return JSON.stringify({css:zs({layers:this.shapesLayers}),editors:"010",layout:"left",title:this.projectName})},projectName(){return qa.getters.currentProject.name},shapesLayers(){return qa.getters.allLayers}}};const Es=(0,V.Z)(Ks,[["render",$s],["__scopeId","data-v-0c801ebc"]]);var Hs=Es,qs={components:{ExportToCodePenButton:Hs},methods:{close(){this.$router.push({name:"editor"})}}};const Fs=(0,V.Z)(qs,[["render",As],["__scopeId","data-v-1af993aa"]]);var Gs=Fs;const Js={class:"output-code"};function Ys(e,t,o,s,n,i){const r=(0,a.up)("codemirror"),p=(0,a.up)("CopyButton");return(0,a.wg)(),(0,a.iD)("div",Js,[(0,a.Wm)(r,{modelValue:i.cssCode,"onUpdate:modelValue":t[0]||(t[0]=e=>i.cssCode=e),height:"auto",extensions:n.extensions,mode:"css",disabled:!0,"line-wrapping":!0,class:"code-editor code-editor-css-output"},null,8,["modelValue","extensions"]),(0,a.Wm)(p,{content:i.cssCode,class:"copy-output-to-clipboard"},null,8,["content"])])}var Xs=o(732);function Qs(e,t,o,s,i,r){const p=(0,a.Q2)("clipboard");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{title:"Copy to clipboard",style:(0,n.j5)(i.style)},[(0,a.Uk)(" Copy ")],4)),[[p,o.content,"copy"]])}var ea=JSON.parse('[{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"#9e9e9e","position":"100%","id":"db9b8482-a515-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":""}],"width":{"units":"px","value":7},"height":{"units":"px","value":2},"left":{"units":"px","value":8},"top":{"units":"px","value":5},"id":"db9b8480-a515-11ea-aee9-d1a64d00b111"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"#9e9e9e","position":"100%","id":"401960d0-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"","id":"401960d1-a516-11ea-aee9-d1a64d00b111"}],"width":{"units":"px","value":7},"height":{"units":"px","value":2},"left":{"units":"px","value":12},"top":{"units":"px","value":9},"id":"401939c1-a516-11ea-aee9-d1a64d00b111"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"#9e9e9e","position":"100%","id":"43401c42-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"","id":"43401c43-a516-11ea-aee9-d1a64d00b111"}],"width":{"units":"px","value":2},"height":{"units":"px","value":11},"left":{"units":"px","value":5},"top":{"units":"px","value":8},"id":"43401c41-a516-11ea-aee9-d1a64d00b111"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"#9e9e9e","position":"100%","id":"4c3a1582-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"","id":"4c3a1583-a516-11ea-aee9-d1a64d00b111"}],"width":{"units":"px","value":2},"height":{"units":"px","value":11},"left":{"units":"px","value":9},"top":{"units":"px","value":12},"id":"4c3a1581-a516-11ea-aee9-d1a64d00b111"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"#9e9e9e","position":"100%","id":"586662f2-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"","id":"586662f3-a516-11ea-aee9-d1a64d00b111"}],"width":{"units":"px","value":2},"height":{"units":"px","value":11},"left":{"units":"px","value":20},"top":{"units":"px","value":12},"id":"586662f1-a516-11ea-aee9-d1a64d00b111"},{"name":"Bottom left arc","type":"radial","direction":"at top right","stops":[{"color":"transparent","position":"1px","id":"6a1cfe51-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"1px","id":"6a1cfe52-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"3px","id":"6a1cfe53-a516-11ea-aee9-d1a64d00b111"},{"color":"transparent","position":"3px","id":"6a1cfe54-a516-11ea-aee9-d1a64d00b111"}],"repeat":"no-repeat","width":{"units":"px","value":3},"height":{"units":"px","value":3},"left":{"units":"px","value":9},"top":{"units":"px","value":23},"id":"6a1cfe50-a516-11ea-aee9-d1a64d00b111"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"#9e9e9e","position":"100%","id":"6c1b6662-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"","id":"6c1b6663-a516-11ea-aee9-d1a64d00b111"}],"width":{"units":"px","value":7},"height":{"units":"px","value":2},"left":{"units":"px","value":12},"top":{"units":"px","value":24},"id":"6c1b6661-a516-11ea-aee9-d1a64d00b111"},{"name":"Bottom left arc","type":"radial","direction":"at top left","stops":[{"color":"transparent","position":"1px","id":"cf9f2b41-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"1px","id":"cf9f2b42-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"3px","id":"cf9f2b43-a516-11ea-aee9-d1a64d00b111"},{"color":"transparent","position":"3px","id":"cf9f2b44-a516-11ea-aee9-d1a64d00b111"}],"repeat":"no-repeat","width":{"units":"px","value":3},"height":{"units":"px","value":3},"left":{"units":"px","value":19},"top":{"units":"px","value":23},"id":"cf9f2b40-a516-11ea-aee9-d1a64d00b111"},{"name":"Bottom left arc","type":"radial","direction":"at bottom left","stops":[{"color":"transparent","position":"1px","id":"d9c1c601-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"1px","id":"d9c1c602-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"3px","id":"d9c1c603-a516-11ea-aee9-d1a64d00b111"},{"color":"transparent","position":"3px","id":"d9c1c604-a516-11ea-aee9-d1a64d00b111"}],"repeat":"no-repeat","width":{"units":"px","value":3},"height":{"units":"px","value":3},"left":{"units":"px","value":19},"top":{"units":"px","value":9},"id":"d9c1c600-a516-11ea-aee9-d1a64d00b111"},{"name":"Bottom left arc","type":"radial","direction":"at bottom right","stops":[{"color":"transparent","position":"1px","id":"e4e248c2-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"1px","id":"e4e248c3-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"3px","id":"e4e248c4-a516-11ea-aee9-d1a64d00b111"},{"color":"transparent","position":"3px","id":"e4e248c5-a516-11ea-aee9-d1a64d00b111"}],"repeat":"no-repeat","width":{"units":"px","value":3},"height":{"units":"px","value":3},"left":{"units":"px","value":9},"top":{"units":"px","value":9},"id":"e4e248c1-a516-11ea-aee9-d1a64d00b111"},{"name":"Bottom left arc","type":"radial","direction":"at bottom right","stops":[{"color":"transparent","position":"1px","id":"eef30932-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"1px","id":"eef30933-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"3px","id":"eef30934-a516-11ea-aee9-d1a64d00b111"},{"color":"transparent","position":"3px","id":"eef30935-a516-11ea-aee9-d1a64d00b111"}],"repeat":"no-repeat","width":{"units":"px","value":3},"height":{"units":"px","value":3},"left":{"units":"px","value":5},"top":{"units":"px","value":5},"id":"eef30931-a516-11ea-aee9-d1a64d00b111"},{"name":"Bottom left arc","type":"radial","direction":"at top right","stops":[{"color":"transparent","position":"1px","id":"242644a2-a517-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"1px","id":"242644a3-a517-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"3px","id":"242644a4-a517-11ea-aee9-d1a64d00b111"},{"color":"transparent","position":"3px","id":"242644a5-a517-11ea-aee9-d1a64d00b111"}],"repeat":"no-repeat","width":{"units":"px","value":3},"height":{"units":"px","value":3},"left":{"units":"px","value":5},"top":{"units":"px","value":19},"id":"242644a1-a517-11ea-aee9-d1a64d00b111"},{"name":"Bottom left arc","type":"radial","direction":"at bottom left","stops":[{"color":"transparent","position":"1px","id":"2bbf4e52-a517-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"1px","id":"2bbf4e53-a517-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"3px","id":"2bbf4e54-a517-11ea-aee9-d1a64d00b111"},{"color":"transparent","position":"3px","id":"2bbf4e55-a517-11ea-aee9-d1a64d00b111"}],"repeat":"no-repeat","width":{"units":"px","value":3},"height":{"units":"px","value":3},"left":{"units":"px","value":15},"top":{"units":"px","value":5},"id":"2bbf4e51-a517-11ea-aee9-d1a64d00b111"}]'),ta={props:{content:String},data(){return{style:ea instanceof Array?I(ea):""}}};const oa=(0,V.Z)(ta,[["render",Qs],["__scopeId","data-v-9f2a64ae"]]);var sa=oa,aa={components:{Codemirror:it.Z1,CopyButton:sa},computed:{cssCode(){return zs({layers:this.shapesLayers})},shapesLayers(){return qa.getters.allLayers}},data(){return{extensions:[(0,rt.iv)(),Xs.vk]}},methods:{close(){this.$router.push({name:"editor"})}}};const na=(0,V.Z)(aa,[["render",Ys]]);var ia=na;const ra={class:"output-code"};function pa(e,t,o,s,n,i){const r=(0,a.up)("codemirror"),p=(0,a.up)("CopyButton");return(0,a.wg)(),(0,a.iD)("div",ra,[(0,a.Wm)(r,{modelValue:i.jsonResult,"onUpdate:modelValue":t[0]||(t[0]=e=>i.jsonResult=e),height:"auto",extensions:n.extensions,mode:"json","line-wrapping":!0,disabled:!0,class:"code-editor code-editor-json-output"},null,8,["modelValue","extensions"]),(0,a.Wm)(p,{content:i.jsonResult,class:"copy-output-to-clipboard"},null,8,["content"])])}var la=o(802),da={components:{Codemirror:it.Z1,CopyButton:sa},computed:{jsonResult(){return JSON.stringify(qa.getters.allLayers,null,2)}},data(){return{extensions:[(0,la.AV)(),Xs.vk]}}};const ca=(0,V.Z)(da,[["render",pa]]);var ha=ca;const ua=[{path:"/",name:"gallery",component:X},{path:"/about",name:"about",component:Is},{path:"/i/:id",name:"editor",component:ks,children:[{path:"result",component:Gs,name:"result",redirect:{name:"css-result"},children:[{path:"css",component:ia,name:"css-result"},{path:"json",component:ha,name:"json-result"}]}]}],fa=(0,u.p7)({history:(0,u.PO)(),routes:ua});var ma=fa,va=o(570),ga=o.n(va);function ya(e){console.warn(e)}const ba="deepdiv";function Sa(e){const t=JSON.parse(localStorage.getItem(ka(e)));return Promise.resolve(t)}function wa(e,t){return localStorage.setItem(ka(e),JSON.stringify(t)),Promise.resolve(t)}function xa(e){return localStorage.removeItem(e),Promise.resolve(ka(e))}function ka(e){return`${ba}.${e}`}var Pa={get:Sa,set:wa,remove:xa};const Ca={state:{currentProject:null,projects:[]},getters:{currentProject:e=>e.currentProject,projectById:e=>t=>e.projects.find((e=>e.id===t)),projects:e=>e.projects,shapesLayersByProjectId:(e,t)=>e=>(0,oe.get)(t.projectById(e),"shapes")},mutations:{createNewProject(e,t){e.projects=e.projects.concat([{id:t}])},removeProject(e,t){const o=e.projects.findIndex((e=>e.id===t.id));-1<o?e.projects.splice(o,1):ya("Project to be removed not found")},setCurrentProject(e,t){e.currentProject=t},setProjects(e,t){e.projects=t},updateProject(e,{project:t,newProps:o={}}){for(const s in o)t[s]=o[s]}},actions:{async createNewProject({commit:e,getters:t}){const o=ga()();return e("createNewProject",o),await Pa.set("divs",t.projects),o},async duplicateProject({commit:e,dispatch:t,getters:o},s){const a=await t("createNewProject"),n=o.projectById(a),i=o.shapesLayersByProjectId(s.id);return e("updateProject",{project:n,newProps:{shapes:i}}),Pa.set("divs",o.projects)},loadProjectById({dispatch:e,getters:t},o){return e("loadProjects").then((()=>{const s=t.projectById(o),a=(0,oe.get)(s,"shapes");return e("setCurrentProject",s),e("setShapes",a)}))},loadProjects({commit:e}){return Pa.get("divs").then((t=>e("setProjects",t||[])))},updateProject({commit:e,getters:t},o){const s=(0,oe.get)(o,"project",t.currentProject),a=(0,oe.get)(o,"newProps",{shapes:t.allLayers});return e("updateProject",{project:s,newProps:a}),Pa.set("divs",t.projects)},removeProject({commit:e,getters:t},o){return e("removeProject",o),Pa.set("divs",t.projects)},setCurrentProject({commit:e},t){return e("setCurrentProject",t)}}};var ja=Ca;function _a({left:e,shape:t,top:o}){const s={left:{...t.left},top:{...t.top},width:{...t.width},height:{...t.height}};return void 0!==e&&(s.left.value=e.value),void 0!==o&&(s.top.value=o.value),s}function La({left:e,shape:t,top:o}){const s={left:{...t.left},top:{...t.top},width:{...t.width},height:{...t.height}};return"object"!==typeof e||e.units!==s.left.units&&e.units||(s.left.value+=e.value),"object"!==typeof o||o.units!==s.top.units&&o.units||(s.top.value+=o.value),s}function Ia({snapPointsSorted:e,point:t}){return{x:Ma({snapPointsSorted:e.x,point:t.x}),y:Ma({snapPointsSorted:e.y,point:t.y})}}function Ma({snapPointsSorted:e=[],point:t,start:o=0,end:s=e.length-1}){if(s<o)return;if(o==s)return e[o];if(s-o===1){const a=e[o],n=e[s],i=Oa({snapPoint:a,number:t}),r=Oa({snapPoint:n,number:t});return i<=r?a:n}const a=o+Math.floor((s-o)/2),n=a+1,i=e[a],r=e[n],p=Oa({snapPoint:i,number:t}),l=Oa({snapPoint:r,number:t}),[d,c]=p<=l?[o,a]:[n,s];return Ma({snapPointsSorted:e,point:t,start:d,end:c})}function Da({shapes:e,excluded:t}){const o={x:[],y:[]};for(const s of e)s!==t&&(o.x.push({shape:s,value:s.left.value,property:"left"}),o.x.push({shape:s,value:s.left.value+s.width.value,property:"right"}),o.y.push({shape:s,value:s.top.value,property:"top"}),o.y.push({shape:s,value:s.top.value+s.height.value,property:"bottom"}));return o.x.sort(((e,t)=>e.value-t.value)),o.y.sort(((e,t)=>e.value-t.value)),o}function Ta({shape:e,snapPoints:t,threshold:o}){return{x:Ba({shape:e,snapPoints:t.x,threshold:o}),y:Aa({shape:e,snapPoints:t.y,threshold:o})}}function Ba({shape:e,snapPoints:t,threshold:o}){if(!t||!t.length)return;const s=Ma({snapPointsSorted:t,point:e.left.value}),a=Math.abs(e.left.value-s.value),n=Ma({snapPointsSorted:t,point:e.left.value+e.width.value}),i=Math.abs(e.left.value+e.width.value-n.value);if(a<=i){if(a<=o)return{location:"left",point:s}}else if(i<=o)return{location:"right",point:n}}function Aa({shape:e,snapPoints:t,threshold:o}){if(!t||!t.length)return;const s=Ma({snapPointsSorted:t,point:e.top.value}),a=Math.abs(e.top.value-s.value),n=Ma({snapPointsSorted:t,point:e.top.value+e.height.value}),i=Math.abs(e.top.value+e.height.value-n.value);if(a<=i){if(a<=o)return{location:"top",point:s}}else if(i<=o)return{location:"bottom",point:n}}function Na({shape:e,snap:t}){const o={...e};if(t)switch(t.location){case"top":o.top.value=t.point.value;break;case"right":o.left.value=t.point.value-e.width.value;break;case"bottom":o.top.value=t.point.value-e.height.value;break;case"left":o.left.value=t.point.value;break}return o}function Ua({shape:e,snaps:t}){const o=Na({shape:e,snap:t.x});return Na({shape:o,snap:t.y})}function Oa({snapPoint:e,number:t}){return Math.abs(e.value-t)}function $a(){return{main:{active:!0,extraStyles:"width: 100%;\nheight: 100%;\nposition: relative;\nmargin: 0 auto;\nbackground-color: white;\n",shapes:[]},before:{active:!1,extraStyles:'position: absolute;\ntop: 0;\nleft: 0;\nright: 0;\nbottom: 0;\ndisplay: block;\ncontent: "";\n',shapes:[]},after:{active:!1,extraStyles:'position: absolute;\ntop: 0;\nleft: 0;\nright: 0;\nbottom: 0;\ndisplay: block;\ncontent: "";\n',shapes:[]}}}const za={state:{layers:$a(),round:!0,shapeToBeAdded:null},mutations:{addNewStop(e,{shape:t,index:o}){const s=t.stops[t.stops.length-1],a={color:s.color,id:ga()(),position:""};"number"===typeof o?t.stops.splice(o,0,a):t.stops.push(a)},addShape(e,{layerName:t,shape:o}){(0,oe.get)(o,"stops",[]).forEach((e=>e.id=ga()())),e.layers[t].shapes.push(o)},moveShapeBy(e,{shape:t,left:o,top:s}){"object"===typeof o&&o.units===t.left.units&&(t.left.value+=o.value),"object"===typeof s&&s.units===t.top.units&&(t.top.value+=s.value),e.layers={...e.layers}},removeShape(e,t){for(const o of Object.values(e.layers)){const e=o.shapes.findIndex((e=>e===t));if(-1!==e){o.shapes.splice(e,1);break}}e.layers={...e.layers}},removeStop(e,{shape:t,index:o}){t.stops.splice(o,1)},resizeShape(e,{shape:t,initialShapeProps:o={...t},direction:s,diff:a}){if(s.includes("top")){const e=o.top.value+o.height.value;t.top.value=Math.min(o.top.value+a.top,e),t.height.value=e-t.top.value}if(s.includes("left")){const e=o.left.value+o.width.value;t.left.value=Math.min(o.left.value+a.left,e),t.width.value=e-t.left.value}s.includes("right")&&(t.width.value=Math.max(0,o.width.value+a.left)),s.includes("bottom")&&(t.height.value=Math.max(0,o.height.value+a.top)),e.layers={...e.layers}},roundShapeProperty(e,{shape:t,propertyName:o}){if(e.round){const e=(0,oe.get)(t,o);e&&(0,oe.isObject)(e)?e.value=Math.round(e.value):ya(`Property ${o} of shape is not an object`)}},setExtraStyles(e,{layerName:t,styles:o}){e.layers[t].extraStyles=o},setLayers(e,t){e.layers=t},setShapes(e,t){e.layers={...$a(),...t}},setShapeToBeAdded(e,t){e.shapeToBeAdded=Ra(t)},swapLayerShapes(e,{layerName:t,sourceIndex:o,targetIndex:s}){const a=e.layers[t].shapes,n=a[o],i=a[s];a[o]=i,a[s]=n,e.layers[t].shapes=[...a]},swapStops(e,{shape:t,sourceIndex:o,targetIndex:s}){const{stops:a}=t,n=a[o],i=a[s];a[o]=i,a[s]=n,e.layers={...e.layers}},toggleLayer(e,t){e.layers[t].active=!e.layers[t].active},unsetShapeToBeAdded(e){e.shapeToBeAdded=null},updateShape(e,{shape:t,...o}){for(const s in o)(0,oe.isObject)(t[s])&&(0,oe.isObject)(o[s])?t[s]={...t[s],...o[s]}:t[s]=o[s]},updateShapeStop(e,{shape:t,stop:o,...s}){for(const a in s)(0,oe.isObject)(o[a])&&(0,oe.isObject)(s[a])?o[a]={...o[a],...s[a]}:o[a]=s[a];t.stops=[...t.stops]}},getters:{allLayers:e=>e.layers,extraStyles:e=>t=>e.layers[t].extraStyles||"",isLayerActive:e=>t=>(0,oe.get)(e,`layers[${t}].active`,!1),layerIdFromShape:e=>t=>Object.keys(e.layers).find((o=>e.layers[o].shapes.includes(t))),layerShapes:e=>t=>(0,oe.get)(e,`layers[${t}].shapes`,[]),shapes:(e,t)=>{let o=[];for(const s of["main","before","active"]){const e=t.isLayerActive(s);e&&(o=o.concat(t.layerShapes(s)))}return o},shapeToBeAdded:e=>e.shapeToBeAdded,visibleShapes:(e,t)=>{let o=[];for(const s of["main","before","active"]){const e=t.isLayerActive(s);e&&(o=o.concat(t.layerShapes(s)))}return e.shapeToBeAdded&&"number"===typeof(0,oe.get)(e,"shapeToBeAdded.top.value")&&"number"===typeof(0,oe.get)(e,"shapeToBeAdded.left.value")&&"number"===typeof(0,oe.get)(e,"shapeToBeAdded.width.value")&&"number"===typeof(0,oe.get)(e,"shapeToBeAdded.height.value")&&o.push(e.shapeToBeAdded),o}},actions:{addNewStop({commit:e,dispatch:t},{shape:o,index:s}){e("addNewStop",{shape:o,index:s}),t("updateProject")},addShape({commit:e,dispatch:t,getters:o},{layerName:s=o.selectedLayer,shape:a=o.shapeToBeAdded}){const n=Za(a);return e("addShape",{layerName:s,shape:n}),e("unsetShapeToBeAdded"),t("updateProject"),n},addShapes({commit:e,getters:t},{layerName:o=t.selectedLayer,shapes:s}){const a=[];for(const n of s){const t=Za(n);e("addShape",{layerName:o,shape:t}),a.push(t)}return a},duplicateSelectedShapes({dispatch:e,getters:t}){const o=[];for(const s of t.selectedShapes){const e=Za(Ra(s)),t=La({shape:e,top:{value:10},left:{value:10}});e.left=t.left,e.top=t.top,o.push(e)}e("addShapes",{shapes:o}).then((t=>{e("commitChange"),e("selectShapes",{shapes:t})}))},moveShape({commit:e,dispatch:t,getters:o},{shape:s,left:a,top:n}){const i=_a({left:a,shape:s,top:n});if(o.snap&&o.snapPoints&&o.snapPoints.x.length){const a=Ta({shape:i,snapPoints:o.snapPoints,threshold:o.snapThreshold});t("setCurrentSnaps",a);const n=Ua({shape:i,snaps:a}),r=[];i.left.value===n.left.value&&r.push("left"),i.top.value===n.top.value&&r.push("top"),r.length?t("roundShapeProperties",{shape:n,propertyNames:r}).then((()=>{e("updateShape",{shape:s,left:n.left,top:n.top})})):e("updateShape",{shape:s,left:n.left,top:n.top})}else t("roundShapeProperties",{shape:i,propertyNames:["top","left"]}).then((()=>{e("updateShape",{shape:s,left:i.left,top:i.top})}))},moveShapeBy({commit:e,dispatch:t},{shape:o,left:s,top:a}){o&&(e("moveShapeBy",{shape:o,left:s,top:a}),t("roundShapeProperties",{shape:o,left:s,top:a}).then((()=>{t("setCurrentSnaps"),t("commitChange")})))},moveShapesBy({commit:e,dispatch:t},{shapes:o,left:s,top:a}){for(const n of o)e("moveShapeBy",{shape:n,left:s,top:a});t("setCurrentSnaps"),t("commitChange")},removeSelectedShape({dispatch:e,getters:t}){e("removeShape",t.selectedShape),e("unselectShape")},removeSelectedShapes({commit:e,dispatch:t,getters:o}){for(const s of o.selectedShapes)e("removeShape",s);t("unselectShape"),t("commitChange")},removeShape({commit:e,dispatch:t},o){e("removeShape",o),t("commitChange")},removeStop({commit:e,dispatch:t},{shape:o,index:s}){e("removeStop",{shape:o,index:s}),t("commitChange")},resizeShape({commit:e,dispatch:t},{diff:o,direction:s,initialShapeProps:a,shape:n}){e("resizeShape",{diff:o,direction:s,initialShapeProps:a,shape:n}),t("roundShapeProperties",{shape:n,...a})},roundShapeProperties({commit:e},{shape:t,propertyNames:o,...s}){if(o instanceof Array)for(const a of o)e("roundShapeProperty",{shape:t,propertyName:a});if(s)for(const a in s)void 0!==s[a]&&e("roundShapeProperty",{shape:t,propertyName:a})},setExtraStyles({commit:e},{layerName:t,styles:o}){e("setExtraStyles",{layerName:t,styles:o})},setLayers({commit:e},t){e("setLayers",t)},setShapes({commit:e},t){e("setShapes",t)},setShapeToBeAdded({commit:e},t){e("setShapeToBeAdded",t)},swapLayerShapes({commit:e},{layerName:t,sourceIndex:o,targetIndex:s}){e("swapLayerShapes",{layerName:t,sourceIndex:o,targetIndex:s})},swapStops({commit:e},{shape:t,sourceIndex:o,targetIndex:s}){e("swapStops",{shape:t,sourceIndex:o,targetIndex:s})},toggleLayer({commit:e,dispatch:t},o){e("toggleLayer",o),t("updateProject")},updateShape({commit:e,dispatch:t},{shape:o,round:s=!0,...a}){e("updateShape",{shape:o,...a}),s?t("roundShapeProperties",{shape:o,propertyNames:["left","top"]}).then((()=>t("updateProject"))):t("updateProject")},updateShapeStop({commit:e,dispatch:t},{shape:o,stop:s,...a}){e("updateShapeStop",{shape:o,stop:s,...a}),t("updateProject")}}};function Ra(e){return JSON.parse(JSON.stringify(e))}function Za(e){return{...e,id:ga()()}}var Wa=za,Va={state:{currentSnaps:{},snap:!0,snapPoints:{x:[],y:[]},snapThreshold:5},getters:{currentSnaps:e=>e.currentSnaps,snap:e=>e.snap,snapPoint:e=>t=>Ia({snapPointsSorted:e.snapPoints,point:t}),snapPoints:e=>e.snapPoints,snapThreshold:e=>e.snapThreshold},mutations:{generateSnapPoints(e,{shapes:t,excluded:o}){e.snapPoints=Da({shapes:t,excluded:o})},setCurrentSnaps(e,t){e.currentSnaps=t},setSnapThreshold(e,t){e.snapThreshold=t},toggleSnap(e,t=!e.snap){e.snap=t}},actions:{generateSnapPoints({commit:e,getters:t}){e("generateSnapPoints",{shapes:t.shapes,excluded:t.selectedShape})},setCurrentProject({dispatch:e}){e("generateSnapPoints")},setCurrentSnaps({commit:e},t){e("setCurrentSnaps",t)},setSnapThreshold({commit:e},t){e("setSnapThreshold",t)},toggleSnap({commit:e},t){e("toggleSnap",t)},updateProject({dispatch:e}){e("generateSnapPoints")}}};const Ka={state:{colorPickerPosition:null,copiedShapes:[],currentColor:"black",lineThickness:"4px",openColorPickerId:null,pressedKeys:new Set,selectedLayer:"main",selectedShape:null,selectedShapes:new Set,showOutput:!1},mutations:{addPressedKey(e,t){e.pressedKeys.add(t),e.pressedKeys=new Set(e.pressedKeys)},copyShapes(e,t){e.copiedShapes=t.map((e=>ue(e)))},removePressedKey(e,t){e.pressedKeys.delete(t),e.pressedKeys=new Set(e.pressedKeys)},selectColor(e,t){e.currentColor=t},selectLayer(e,t){e.selectedLayer=t},selectShape(e,{shape:t,keepSelection:o}){o?e.selectedShapes.has(t)?e.selectedShapes.delete(t):e.selectedShapes.add(t):(e.selectedShapes=new Set,t&&e.selectedShapes.add(t)),e.selectedShapes=new Set(e.selectedShapes)},selectShapes(e,{shapes:t,keepSelection:o=!1}){o||(e.selectedShapes=new Set);for(const s of t)e.selectedShapes.add(s);e.selectedShapes=new Set(e.selectedShapes)},setColorPickerPosition(e,t){e.colorPickerPosition=t},setLineThickness(e,t){e.lineThickness=t},setOpenColorPickerId(e,t){e.openColorPickerId=t},toggleOutput(e,t){e.showOutput=void 0===t?!e.showOutput:t},unselectShape(e,t){e.selectedShapes.delete(t)}},getters:{colorPickerPosition:e=>e.colorPickerPosition,copiedShapes:e=>e.copiedShapes,currentColor:e=>e.currentColor,isKeyPressed:e=>t=>e.pressedKeys.has(t),isShapeSelected:e=>t=>e.selectedShapes.has(t),lineThickness:e=>e.lineThickness,openColorPickerId:e=>e.openColorPickerId,selectedLayer:e=>e.selectedLayer,selectedShape:e=>1===e.selectedShapes.size?Array.from(e.selectedShapes)[0]:void 0,selectedShapes:e=>Array.from(e.selectedShapes),selectMultiple:e=>e.pressedKeys.has("Shift"),showOutput:e=>e.showOutput},actions:{addPressedKey({commit:e},t){e("addPressedKey",t)},copyShapes({commit:e,getters:t},o=t.selectedShapes){e("copyShapes",o)},cutShapes({commit:e,dispatch:t,getters:o},s=o.selectedShapes){e("copyShapes",s),t("removeSelectedShapes")},pasteShapes({dispatch:e,getters:t}){e("addShapes",{shapes:t.copiedShapes}).then((t=>{e("commitChange"),e("selectShapes",{shapes:t})}))},removePressedKey({commit:e},t){e("removePressedKey",t)},setColorPickerPosition({commit:e},t){e("setColorPickerPosition",t)},selectAllShapes({commit:e,getters:t}){const o=t.selectedLayer;if(t.isLayerActive(o)){const s=t.layerShapes(o);e("selectShapes",{shapes:s})}},selectColor({commit:e},t){e("selectColor",t)},selectLayer({commit:e},t){e("selectLayer",t)},selectShape({commit:e,getters:t,dispatch:o},{shape:s,keepSelection:a}){e("selectShape",{shape:s,keepSelection:a});const n=t.layerIdFromShape(s);return o("selectLayer",n)},selectShapes({commit:e},{shapes:t,keepSelection:o}){e("selectShapes",{shapes:t,keepSelection:o})},setLineThickness({commit:e},t){e("setLineThickness",t)},setOpenColorPickerId({commit:e},t){e("setOpenColorPickerId",t)},toggleOutput({commit:e},t){e("toggleOutput",t)},unselectShape({commit:e}){e("selectShape",{shape:null})}}};var Ea=Ka,Ha={state:{snapshots:[],snapshotIndex:-1},getters:{canUndo:e=>0<e.snapshotIndex&&0<e.snapshots.length,canRedo:e=>e.snapshotIndex<e.snapshots.length-1,currentSnapshot:e=>e.snapshots[e.snapshotIndex],nextSnapshot:e=>e.snapshots[e.snapshotIndex+1],previousSnapshot:e=>e.snapshots[e.snapshotIndex-1],snapshots:e=>e.snapshots},mutations:{addSnapshot(e,t){e.snapshots.push(ue(t)),e.snapshotIndex+=1},undo(e){e.snapshotIndex-=1},redo(e){e.snapshotIndex+=1},resetSnapshots(e){e.snapshots=[],e.snapshotIndex=-1},trimSnaphots(e){e.snapshots=e.snapshots.slice(0,e.snapshotIndex+1)}},actions:{addSnapshot({commit:e,getters:t}){t.canRedo&&e("trimSnaphots"),e("addSnapshot",t.allLayers)},undo({commit:e,dispatch:t,getters:o}){o.canUndo&&(t("setLayers",ue(o.previousSnapshot)),e("undo"))},redo({commit:e,dispatch:t,getters:o}){o.canRedo&&(t("setLayers",ue(o.nextSnapshot)),e("redo"))},resetSnapshots({commit:e}){e("resetSnapshots")}}},qa=(0,h.MT)({get route(){return ma.currentRoute.value},state:{},mutations:{},getters:{},actions:{commitChange({dispatch:e}){return e("addSnapshot"),e("updateProject")}},modules:{projects:ja,shapes:Wa,snap:Va,ui:Ea,undoRedo:Ha}}),Fa={computed:{currentProject(){return qa.getters.currentProject},projectName:{get(){return this.currentProject.name||""},set(e){qa.dispatch("updateProject",{project:this.currentProject,newProps:{name:e}})}}},methods:{toggleOutput(){this.$router.push({name:"result"})}}};const Ga=(0,V.Z)(Fa,[["render",c],["__scopeId","data-v-5faf536f"]]);var Ja=Ga,Ya={components:{Nav:Ja},computed:{mode(){return"gallery"===this.$route.name||"about"===this.$route.name?"at-root":""}}};const Xa=(0,V.Z)(Ya,[["render",r]]);var Qa=Xa,en=o(803);const tn=(0,s.ri)(Qa);tn.use(qa),tn.use(ma),tn.use(en.Z,{autoSetContainer:!0}),tn.config.productionTip=!1,tn.mount("#app")}},t={};function o(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=e,function(){var e=[];o.O=function(t,s,a,n){if(!s){var i=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],n=e[d][2];for(var r=!0,p=0;p<s.length;p++)(!1&n||i>=n)&&Object.keys(o.O).every((function(e){return o.O[e](s[p])}))?s.splice(p--,1):(r=!1,n<i&&(i=n));if(r){e.splice(d--,1);var l=a();void 0!==l&&(t=l)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,a,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,n,i=s[0],r=s[1],p=s[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(a in r)o.o(r,a)&&(o.m[a]=r[a]);if(p)var d=p(o)}for(t&&t(s);l<i.length;l++)n=i[l],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},s=self["webpackChunkzerodivs"]=self["webpackChunkzerodivs"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(45)}));s=o.O(s)})();
//# sourceMappingURL=app.491841d9.js.map