(function(){"use strict";var e={3045:function(e,t,n){n(7726),n(3473),n(2151),n(1286);var o=n(9963),a=n(6252),i=n(3577),s=(0,a._)("div",{id:"color-picker"},null,-1);function r(e,t,n,o,r,p){var c=(0,a.up)("Nav"),u=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",{id:"app",class:(0,i.C_)(p.mode)},[(0,a.Wm)(c),s,(0,a.Wm)(u)],2)}n(8309);var p={class:"breadcrumbs"},c={key:0},u={key:1};function l(e,t,n,s,r,l){var d=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",{class:(0,i.C_)({"at-root":!l.currentProject})},[(0,a._)("section",p,[(0,a.Wm)(d,{to:"/",class:"link-to-home"},{default:(0,a.w5)((function(){return[(0,a.Uk)("zerodivs.com")]})),_:1}),l.currentProject?((0,a.wg)(),(0,a.iD)("span",c,"/")):(0,a.kq)("",!0),l.currentProject?((0,a.wg)(),(0,a.iD)("span",u,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.projectName=e}),placeholder:"Project name"},null,512),[[o.nr,l.projectName]])])):(0,a.kq)("",!0)]),l.currentProject?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[1]||(t[1]=function(){return l.toggleOutput&&l.toggleOutput.apply(l,arguments)})},"Result")):(0,a.kq)("",!0),l.currentProject?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(d,{key:1,to:"/about",class:"about-link secondary"},{default:(0,a.w5)((function(){return[(0,a.Uk)("About")]})),_:1}))],2)}var d=n(3907),h=n(2201),f=(n(9254),function(e){return(0,a.dD)("data-v-658d4e7c"),e=e(),(0,a.Cn)(),e}),v={class:"div-gallery"},m={key:0,class:"project-name"},y={key:0,class:"actions"},g=["onClick"],b=["onClick"],w=["onClick"],S={class:"div-thumbnail new"},x={key:0,class:"modal-container delete-confirmation-modal"},k={class:"modal"},P=f((function(){return(0,a._)("h3",{class:"header"},"Delete Project?",-1)})),C=f((function(){return(0,a._)("div",{class:"main"},[(0,a._)("p",null,"This operation cannot be undone.")],-1)})),j={class:"actions actions-bottom"};function _(e,t,n,o,s,r){var p=(0,a.up)("GalleryThumbnail"),c=(0,a.up)("router-link"),u=(0,a.up)("HamburgerButton");return(0,a.wg)(),(0,a.iD)("div",v,[(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.divs,(function(e){return(0,a.wg)(),(0,a.iD)("li",{key:e.id,class:(0,i.C_)(["div-thumbnail",{"options-open":r.isOptionsOpenId(e.id)}])},[(0,a.Wm)(c,{to:r.link(e.id)},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{projectId:e.id},null,8,["projectId"]),e.name?((0,a.wg)(),(0,a.iD)("div",m,(0,i.zw)(e.name),1)):(0,a.kq)("",!0)]})),_:2},1032,["to"]),r.isOptionsOpenId(e.id)?((0,a.wg)(),(0,a.iD)("ul",y,[(0,a._)("li",null,[(0,a._)("button",{onClick:function(t){return r.duplicate(e)},class:"action-button"}," Duplicate ",8,g)]),(0,a._)("li",null,[(0,a._)("button",{onClick:function(t){return r.confirmDeleteDiv(e)},class:"action-button"}," Delete ",8,b)])])):(0,a.kq)("",!0),(0,a._)("div",{class:"options-toggle",onClick:function(){return r.toggleOptions(e.id)}},[(0,a.Wm)(u,{class:"close-button",isOpen:r.isOptionsOpenId(e.id)},null,8,["isOpen"])],8,w)],2)})),128)),(0,a._)("li",S,[(0,a._)("button",{onClick:t[0]||(t[0]=function(){return r.createNewDiv&&r.createNewDiv.apply(r,arguments)}),class:"new-project-button"}," Create New ")])]),r.askingForDeleteConfirmation?((0,a.wg)(),(0,a.iD)("div",x,[(0,a._)("div",{class:"modal-overlay",onClick:t[1]||(t[1]=function(){return r.cancelDelete&&r.cancelDelete.apply(r,arguments)})}),(0,a._)("div",k,[P,C,(0,a._)("div",j,[(0,a._)("button",{class:"cancel-button",onClick:t[2]||(t[2]=function(){return r.cancelDelete&&r.cancelDelete.apply(r,arguments)})}," Cancel "),(0,a._)("button",{class:"main-action",onClick:t[3]||(t[3]=function(){return r.deleteDiv&&r.deleteDiv.apply(r,arguments)})},"Delete")])])])):(0,a.kq)("",!0),((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),null,{default:(0,a.w5)((function(){return[(0,a.Uk)(" body { background-color: var(--gray-900); } ")]})),_:1}))])}var L=n(124),I=n(8534);function M(e,t,n,o,s,r){return r.shapesLayers?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,i.C_)(["thumbnail-wrapper","thumbnail-wrapper-"+n.projectId]),style:(0,i.j5)(r.offsetStyle)},[(0,a._)("div",{class:(0,i.C_)(["thumbnail","thumbnail-"+n.projectId])},null,2),((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{type:"text/css"},{default:(0,a.w5)((function(){return[(0,a.Uk)(" .thumbnail-wrapper-"+(0,i.zw)(n.projectId)+" { "+(0,i.zw)(r.mainCustomStyle)+" } ",1)]})),_:1})),r.isMainActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:0,type:"text/css"},{default:(0,a.w5)((function(){return[(0,a.Uk)(" .thumbnail-"+(0,i.zw)(n.projectId)+" { "+(0,i.zw)(r.mainStyle)+" } ",1)]})),_:1})):(0,a.kq)("",!0),r.isBeforeActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:1,type:"text/css"},{default:(0,a.w5)((function(){return[(0,a.Uk)(" .thumbnail-"+(0,i.zw)(n.projectId)+":before { "+(0,i.zw)(r.beforeStyle)+" } ",1)]})),_:1})):(0,a.kq)("",!0),r.isAfterActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:2,type:"text/css"},{default:(0,a.w5)((function(){return[(0,a.Uk)(" .thumbnail-"+(0,i.zw)(n.projectId)+":after { "+(0,i.zw)(r.afterStyle)+" } ",1)]})),_:1})):(0,a.kq)("",!0)],6)):(0,a.kq)("",!0)}var D=n(6347),T=(n(2222),n(9584));n(9600),n(1249),n(2481);function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(0,T.Z)(e).reverse();return!n||n.length<1?"":"".concat(t,"background-image: ").concat(N(n),";\n").concat(t,"background-position: ").concat(z(n),";\n").concat(t,"background-size: ").concat(W(n),";\n").concat(t,"background-repeat: ").concat(K(n),";\n")}function Z(e){return void 0===e.position?e.color:[e.color,e.position].join(" ")}function A(e){return e.map((function(e){return Z(e)})).join(", ")}function N(e){return e.map((function(e){return U(e)})).join(", ")}function U(e){var t=A(e.stops),n=e.direction?[e.direction,t]:[t];return"".concat(O(e.type),"(").concat(n.join(", "),")")}function O(e){return"".concat(e,"-gradient")}function z(e){return e.map((function(e){return R(e)})).join(", ")}function R(e){return"".concat(e.left.value).concat(e.left.units," ").concat(e.top.value).concat(e.top.units)}function W(e){return e.map((function(e){return V(e)})).join(", ")}function V(e){return"".concat(e.width.value).concat(e.width.units," ").concat(e.height.value).concat(e.height.units)}function K(e){return E(e)?e.map((function(e){return H(e.repeat)?e.repeat:"no-repeat"})).join(", "):"no-repeat"}function E(e){var t,n=(0,D.Z)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(H(o.repeat))return!0}}catch(a){n.e(a)}finally{n.f()}return!1}function H(e){return e&&"no-repeat"!==e}var q={props:{projectId:String},computed:{mainCustomStyle:function(){return this.shapesLayers.main.extraStyles},mainStyle:function(){return B(this.shapesMain)},beforeStyle:function(){var e=this.shapesBefore;return this.layerExtraStyles("before")+B(e)},afterStyle:function(){var e=this.shapesAfter;return this.layerExtraStyles("after")+B(e)},isMainActive:function(){return this.isLayerActive("main")},isBeforeActive:function(){return this.isLayerActive("before")},isAfterActive:function(){return this.isLayerActive("after")},offset:function(){var e=this.shapesMain.concat(this.shapesBefore).concat(this.shapesAfter);if(!e.length)return{x:0,y:0};var t,n=1/0,o=1/0,a=(0,D.Z)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n=Math.min(n,i.left.value),o=Math.min(o,i.top.value)}}catch(s){a.e(s)}finally{a.f()}return{x:n,y:o}},offsetStyle:function(){return{minHeight:"calc(100% + ".concat(this.offset.y,"px)"),left:"0",margin:"0",top:"0",transform:"translate(".concat(-this.offset.x,"px, ").concat(-this.offset.y,"px)"),minWidth:"calc(100% + ".concat(this.offset.x,"px)")}},shapesLayers:function(){return ri.getters.shapesLayersByProjectId(this.projectId)},shapesMain:function(){return this.getLayerShapes("main")},shapesBefore:function(){return this.getLayerShapes("before")},shapesAfter:function(){return this.getLayerShapes("after")}},methods:{getLayerShapes:function(e){return this.shapesLayers[e].shapes},isLayerActive:function(e){return this.shapesLayers[e].active},layerExtraStyles:function(e){return this.shapesLayers[e].extraStyles}}},F=n(3744);const $=(0,F.Z)(q,[["render",M],["__scopeId","data-v-afe06dfa"]]);var G=$;function J(e,t,n,o,s,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["hamburger-button",{active:n.isOpen}]),onClick:t[0]||(t[0]=function(){return r.tryClick&&r.tryClick.apply(r,arguments)})},null,2)}var Y={props:{isOpen:Boolean,onClick:{type:Function,required:!1}},methods:{tryClick:function(e){this.onClick&&this.onClick(e)}}};const X=(0,F.Z)(Y,[["render",J],["__scopeId","data-v-b9f81ea8"]]);var Q=X,ee={components:{GalleryThumbnail:G,HamburgerButton:Q},data:function(){return{optionsOpenId:null,projectToBeDeleted:null}},methods:{cancelDelete:function(){this.projectToBeDeleted=null},confirmDeleteDiv:function(e){this.optionsOpenId=null,this.projectToBeDeleted=e},createNewDiv:function(){var e=this;return(0,I.Z)((0,L.Z)().mark((function t(){var n;return(0,L.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ri.dispatch("createNewProject");case 2:n=t.sent,e.$router.push(e.link(n));case 4:case"end":return t.stop()}}),t)})))()},deleteDiv:function(){ri.dispatch("removeProject",this.projectToBeDeleted),this.projectToBeDeleted=null},duplicate:function(e){this.optionsOpenId=null,ri.dispatch("duplicateProject",e)},isOptionsOpenId:function(e){return this.optionsOpenId===e},link:function(e){return"/i/".concat(e)},toggleOptions:function(e){this.optionsOpenId===e?this.optionsOpenId=null:this.optionsOpenId=e}},computed:{divs:function(){return ri.getters.projects},askingForDeleteConfirmation:function(){return null!==this.projectToBeDeleted}},mounted:function(){ri.dispatch("loadProjects"),ri.dispatch("setCurrentProject",null)}};const te=(0,F.Z)(ee,[["render",_],["__scopeId","data-v-658d4e7c"]]);var ne=te,oe={class:"editor"},ae={key:1};function ie(e,t,n,o,i,s){var r=(0,a.up)("Toolbar"),p=(0,a.up)("Workspace"),c=(0,a.up)("Layers"),u=(0,a.up)("PropsForm"),l=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",oe,[s.project?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)(r),(0,a._)("div",null,[(0,a.Wm)(p),(0,a.Wm)(c),(0,a.Wm)(u)]),(0,a.Wm)(l)],64)):((0,a.wg)(),(0,a.iD)("div",ae,"Couldn't find this project. :-/"))])}n(1539),n(189),n(8783),n(3948);var se=n(6486),re={type:"text",ref:"focus",class:"fake-focus"},pe={class:"full-wrapper"},ce={class:"full-wrapper"},ue={key:0,class:"reset-zoom"},le={class:"zoom-value"};function de(e,t,n,o,s,r){var p=(0,a.up)("Canvas"),c=(0,a.up)("ShapeOverlays"),u=(0,a.up)("pinch-zoom"),l=(0,a.up)("ShapeResizeHandles");return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["workspace",{"adding-shape":r.addingShape}]),ref:"workspace"},[(0,a._)("input",re,null,512),(0,a.Wm)(u,{ref:"pinchZoom"},{default:(0,a.w5)((function(){return[(0,a._)("div",{class:"pinch-zoom-wrapper",onMousemove:t[0]||(t[0]=function(){return r.onDrag&&r.onDrag.apply(r,arguments)}),onMouseup:t[1]||(t[1]=function(){return r.onMouseUp&&r.onMouseUp.apply(r,arguments)}),onPointerdown:t[2]||(t[2]=function(){return r.onMouseDown&&r.onMouseDown.apply(r,arguments)}),ref:"pinchZoomInner"},[(0,a._)("div",pe,[(0,a._)("div",{class:(0,i.C_)(["canvas-wrapper","canvas-wrapper-"+r.projectId]),ref:"canvas"},[(0,a.Wm)(p,{projectId:r.projectId,shapesLayers:r.shapesLayers},null,8,["projectId","shapesLayers"])],2)]),(0,a._)("div",ce,[(0,a.Wm)(c,{onShapeMouseDown:r.onShapeMouseDown,onShapeMouseUp:r.onShapeMouseUp,projectId:r.projectId,shapesLayers:r.shapesLayers},null,8,["onShapeMouseDown","onShapeMouseUp","projectId","shapesLayers"])])],544)]})),_:1},512),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.selectedShapes,(function(e){return(0,a.wg)(),(0,a.j4)(l,{canvasPosition:s.canvasPosition,key:e.id,onMouseDown:r.onResizeHandleMouseDown,onMouseUp:r.onMouseUp,shape:e,showHandles:!!r.selectedShape,viewportTransform:s.viewportTransform},null,8,["canvasPosition","onMouseDown","onMouseUp","shape","showHandles","viewportTransform"])})),128)),r.zoomLevel&&1!==r.zoomLevel?((0,a.wg)(),(0,a.iD)("div",ue,[(0,a._)("p",le,"Zoom: "+(0,i.zw)(r.zoomLevelPercentage)+"%",1),(0,a._)("button",{onClick:t[3]||(t[3]=function(){return r.resetZoom&&r.resetZoom.apply(r,arguments)})},"Reset")])):(0,a.kq)("",!0)],2)}var he=n(4648);n(4916),n(3123);function fe(e,t,n,o,s,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["canvas","canvas-"+n.projectId])},[((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{type:"text/css"},{default:(0,a.w5)((function(){return[(0,a.Uk)(" .canvas-wrapper-"+(0,i.zw)(n.projectId)+" { "+(0,i.zw)(r.mainCustomStyle)+" } ",1)]})),_:1})),r.isMainActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:0,type:"text/css"},{default:(0,a.w5)((function(){return[(0,a.Uk)(" .canvas-"+(0,i.zw)(n.projectId)+" { "+(0,i.zw)(r.mainStyle)+" } ",1)]})),_:1})):(0,a.kq)("",!0),r.isBeforeActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:1,type:"text/css"},{default:(0,a.w5)((function(){return[(0,a.Uk)(" .canvas-"+(0,i.zw)(n.projectId)+":before { "+(0,i.zw)(r.beforeStyle)+" } ",1)]})),_:1})):(0,a.kq)("",!0),r.isAfterActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:2,type:"text/css"},{default:(0,a.w5)((function(){return[(0,a.Uk)(" .canvas-"+(0,i.zw)(n.projectId)+":after { "+(0,i.zw)(r.afterStyle)+" } ",1)]})),_:1})):(0,a.kq)("",!0)],2)}var ve={props:{projectId:String,shapesLayers:Object},computed:{mainCustomStyle:function(){return this.shapesLayers.main.extraStyles},mainStyle:function(){var e=[],t=ri.getters.currentSnaps,n=(0,se.get)(t,"x"),o="khaki";if(n){var a="left"===n.location?n.point.value-1:n.point.value;e.push({type:"linear",direction:"to right",left:{value:a,units:"px"},top:{value:0,units:"px"},width:{value:1,units:"px"},height:{value:100,units:"%"},stops:[{color:o},{color:o}]})}var i=(0,se.get)(t,"y");if(i){var s="top"===i.location?i.point.value-1:i.point.value;e.push({type:"linear",direction:"to bottom",left:{value:0,units:"%"},top:{value:s,units:"px"},width:{value:100,units:"%"},height:{value:1,units:"px"},stops:[{color:o},{color:o}]})}var r=this.shapesMain.concat(e);return B(r)},beforeStyle:function(){var e=this.shapesBefore;return this.layerExtraStyles("before")+B(e)},afterStyle:function(){var e=this.shapesAfter;return this.layerExtraStyles("after")+B(e)},isMainActive:function(){return this.isLayerActive("main")},isBeforeActive:function(){return this.isLayerActive("before")},isAfterActive:function(){return this.isLayerActive("after")},shapesMain:function(){var e=this.getLayerShapes("main");return this.shapeToBeAdded&&"main"===ri.getters.selectedLayer?e.concat([this.shapeToBeAdded]):e},shapesBefore:function(){var e=this.getLayerShapes("before");return this.shapeToBeAdded&&"before"===ri.getters.selectedLayer?e.concat([this.shapeToBeAdded]):e},shapesAfter:function(){var e=this.getLayerShapes("after");return this.shapeToBeAdded&&"after"===ri.getters.selectedLayer?e.concat([this.shapeToBeAdded]):e},shapeToBeAdded:function(){return"number"===typeof(0,se.get)(ri.getters,"shapeToBeAdded.top.value")&&"number"===typeof(0,se.get)(ri.getters,"shapeToBeAdded.left.value")&&"number"===typeof(0,se.get)(ri.getters,"shapeToBeAdded.width.value")&&"number"===typeof(0,se.get)(ri.getters,"shapeToBeAdded.height.value")&&ri.getters.shapeToBeAdded}},methods:{getLayerShapes:function(e){return this.shapesLayers[e].shapes},isLayerActive:function(e){return this.shapesLayers[e].active},layerExtraStyles:function(e){return this.shapesLayers[e].extraStyles}}};const me=(0,F.Z)(ve,[["render",fe],["__scopeId","data-v-51ebc8fd"]]);var ye=me;n(8862);function ge(e){return JSON.parse(JSON.stringify(e))}function be(e){var t=e.x,n=e.y,o=e.viewportTransform;return{x:(t-o.x)/o.scale,y:(n-o.y)/o.scale}}var we={class:"overlays-wrapper"},Se={key:0,class:"overlays--main"},xe={key:1,class:"overlays--before"},ke={key:2,class:"overlays--after"};function Pe(e,t,n,o,s,r){var p=(0,a.up)("ShapeOverlay");return(0,a.wg)(),(0,a.iD)("div",we,[(0,a._)("div",{class:(0,i.C_)(["overlays","overlays-"+n.projectId])},[r.isMainActive?((0,a.wg)(),(0,a.iD)("div",Se,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.shapesMain,(function(e){return(0,a.wg)(),(0,a.j4)(p,{shape:e,onMouseDown:n.onShapeMouseDown,onMouseUp:n.onShapeMouseUp,key:e.id},null,8,["shape","onMouseDown","onMouseUp"])})),128))])):(0,a.kq)("",!0),r.isBeforeActive?((0,a.wg)(),(0,a.iD)("div",xe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.shapesBefore,(function(e){return(0,a.wg)(),(0,a.j4)(p,{shape:e,onMouseDown:n.onShapeMouseDown,onMouseUp:n.onShapeMouseUp,key:e.id},null,8,["shape","onMouseDown","onMouseUp"])})),128))])):(0,a.kq)("",!0),r.isAfterActive?((0,a.wg)(),(0,a.iD)("div",ke,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.shapesAfter,(function(e){return(0,a.wg)(),(0,a.j4)(p,{shape:e,onMouseDown:n.onShapeMouseDown,onMouseUp:n.onShapeMouseUp,key:e.id},null,8,["shape","onMouseDown","onMouseUp"])})),128))])):(0,a.kq)("",!0)],2),((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{type:"text/css"},{default:(0,a.w5)((function(){return[(0,a.Uk)(" .overlays-"+(0,i.zw)(n.projectId)+" { "+(0,i.zw)(r.mainCustomStyle)+" } ",1)]})),_:1})),r.isBeforeActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:0,type:"text/css"},{default:(0,a.w5)((function(){return[(0,a.Uk)(" .overlays-"+(0,i.zw)(n.projectId)+" .overlays--before { "+(0,i.zw)(r.beforeStyle)+" } ",1)]})),_:1})):(0,a.kq)("",!0),r.isAfterActive?((0,a.wg)(),(0,a.j4)((0,a.LL)("style"),{key:1,type:"text/css"},{default:(0,a.w5)((function(){return[(0,a.Uk)(" .overlays-"+(0,i.zw)(n.projectId)+" .overlays--after { "+(0,i.zw)(r.afterStyle)+" } ",1)]})),_:1})):(0,a.kq)("",!0)])}function Ce(e,t,n,o,s,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["overlay",{selected:r.isSelected}]),style:(0,i.j5)(r.computedStyle),onPointerdown:t[0]||(t[0]=function(e){return n.onMouseDown(n.shape,e)}),onPointerup:t[1]||(t[1]=function(e){return n.onMouseUp(n.shape,e)})},null,38)}var je={props:{onMouseDown:Function,onMouseUp:Function,shape:Object},computed:{computedStyle:function(){var e=this.shape.left.value+this.shape.left.units,t=this.shape.top.value+this.shape.left.units;return{transform:"translate(".concat(e,", ").concat(t,")"),width:this.shape.width.value+this.shape.width.units,height:this.shape.height.value+this.shape.height.units}},isSelected:function(){return ri.getters.selectedShape===this.shape}}};const _e=(0,F.Z)(je,[["render",Ce],["__scopeId","data-v-c7dfe3b8"]]);var Le=_e,Ie={props:{onShapeMouseDown:Function,onShapeMouseUp:Function,projectId:String,shapesLayers:Object},components:{ShapeOverlay:Le},computed:{mainCustomStyle:function(){return this.shapesLayers.main.extraStyles},beforeStyle:function(){var e=this.shapesBefore;return this.layerExtraStyles("before")+B(e)},afterStyle:function(){var e=this.shapesAfter;return this.layerExtraStyles("after")+B(e)},isMainActive:function(){return this.isLayerActive("main")},isBeforeActive:function(){return this.isLayerActive("before")},isAfterActive:function(){return this.isLayerActive("after")},shapesMain:function(){return this.getLayerShapes("main")},shapesBefore:function(){return this.getLayerShapes("before")},shapesAfter:function(){return this.getLayerShapes("after")}},methods:{getLayerShapes:function(e){return this.shapesLayers[e].shapes},isLayerActive:function(e){return this.shapesLayers[e].active},layerExtraStyles:function(e){return this.shapesLayers[e].extraStyles}}};const Me=(0,F.Z)(Ie,[["render",Pe],["__scopeId","data-v-8b7f5976"]]);var De=Me;function Te(e,t,n,o,s,r){return n.canvasPosition?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"shape-handles-wrapper",style:(0,i.j5)(r.containerStyle),ref:"wrapper",onMouseup:t[8]||(t[8]=function(){return n.onMouseUp&&n.onMouseUp.apply(n,arguments)})},[n.showHandles?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("div",{class:"handle top-left",onMousedown:t[0]||(t[0]=function(e){return n.onMouseDown("top-left",e)}),style:(0,i.j5)(r.transformTopLeft)},null,36),(0,a._)("div",{class:"handle top",onMousedown:t[1]||(t[1]=function(e){return n.onMouseDown("top",e)}),style:(0,i.j5)(r.transformTop)},null,36),(0,a._)("div",{class:"handle top-right",onMousedown:t[2]||(t[2]=function(e){return n.onMouseDown("top-right",e)}),style:(0,i.j5)(r.transformTopRight)},null,36),(0,a._)("div",{class:"handle right",onMousedown:t[3]||(t[3]=function(e){return n.onMouseDown("right",e)}),style:(0,i.j5)(r.transformRight)},null,36),(0,a._)("div",{class:"handle bottom-right",onMousedown:t[4]||(t[4]=function(e){return n.onMouseDown("bottom-right",e)}),style:(0,i.j5)(r.transformBottomRight)},null,36),(0,a._)("div",{class:"handle bottom",onMousedown:t[5]||(t[5]=function(e){return n.onMouseDown("bottom",e)}),style:(0,i.j5)(r.transformBottom)},null,36),(0,a._)("div",{class:"handle bottom-left",onMousedown:t[6]||(t[6]=function(e){return n.onMouseDown("bottom-left",e)}),style:(0,i.j5)(r.transformBottomLeft)},null,36),(0,a._)("div",{class:"handle left",onMousedown:t[7]||(t[7]=function(e){return n.onMouseDown("left",e)}),style:(0,i.j5)(r.transformLeft)},null,36)],64)):(0,a.kq)("",!0)],36)):(0,a.kq)("",!0)}var Be={props:{canvasPosition:Object,showHandles:{type:Boolean,required:!1,default:!0},onMouseDown:Function,onMouseUp:Function,viewportTransform:Object,shape:Object},computed:{containerStyle:function(){var e="orange",t=[(0,he.Z)((0,he.Z)({height:{value:1,units:"px"},width:{value:this.shape.width.value*this.viewportTransform.scale,units:this.shape.width.units}},this.transformCoords({top:this.shapeTop,left:this.shapeLeft})),{},{type:"linear",direction:"to bottom",stops:[{color:e},{color:e}]}),(0,he.Z)((0,he.Z)({height:{value:this.shape.height.value*this.viewportTransform.scale,units:this.shape.height.units},width:{value:1,units:"px"}},this.transformCoords({top:this.shapeTop,left:this.shapeRight})),{},{type:"linear",direction:"to bottom",stops:[{color:e},{color:e}]}),(0,he.Z)((0,he.Z)({height:{value:1,units:"px"},width:{value:this.shape.width.value*this.viewportTransform.scale,units:this.shape.width.units}},this.transformCoords({top:this.shapeBottom,left:this.shapeLeft})),{},{type:"linear",direction:"to bottom",stops:[{color:e},{color:e}]}),(0,he.Z)((0,he.Z)({height:{value:this.shape.height.value*this.viewportTransform.scale,units:this.shape.height.units},width:{value:1,units:"px"}},this.transformCoords({top:this.shapeTop,left:this.shapeLeft})),{},{type:"linear",direction:"to bottom",stops:[{color:e},{color:e}]})];return B(t)},shapeBottom:function(){return{value:this.shape.top.value+this.shape.height.value,units:this.shape.top.units}},shapeLeft:function(){return{value:this.shape.left.value,units:this.shape.left.units}},shapeRight:function(){return{value:this.shape.left.value+this.shape.width.value,units:this.shape.left.units}},shapeTop:function(){return{value:this.shape.top.value,units:this.shape.top.units}},transformBottom:function(){return this.cssTransform({top:this.shapeBottom,left:{value:(this.shapeLeft.value+this.shapeRight.value)/2,units:this.shapeLeft.units}})},transformBottomLeft:function(){return this.cssTransform({top:this.shapeBottom,left:this.shapeLeft})},transformBottomRight:function(){return this.cssTransform({top:this.shapeBottom,left:this.shapeRight})},transformLeft:function(){return this.cssTransform({top:{value:(this.shapeTop.value+this.shapeBottom.value)/2,units:this.shapeTop.units},left:this.shapeLeft})},transformRight:function(){return this.cssTransform({top:{value:(this.shapeTop.value+this.shapeBottom.value)/2,units:this.shapeTop.units},left:this.shapeRight})},transformTop:function(){return this.cssTransform({top:this.shapeTop,left:{value:(this.shapeLeft.value+this.shapeRight.value)/2,units:this.shapeLeft.units}})},transformTopLeft:function(){return this.cssTransform({top:this.shapeTop,left:this.shapeLeft})},transformTopRight:function(){return this.cssTransform({top:this.shapeTop,left:this.shapeRight})}},methods:{cssTransform:function(e){var t=e.top,n=e.left,o=this.transformCoords({top:t,left:n});return"transform: translate(".concat(o.left.value).concat(n.units,", ").concat(o.top.value).concat(t.units,")")},handleWheel:function(e){e.target.classList.contains("handle")&&e.preventDefault()},transformCoords:function(e){var t=e.top,n=e.left,o=e.offset,a=void 0===o?{top:0,left:0}:o;if(this.canvasPosition)return{top:(0,he.Z)((0,he.Z)({},t),{},{value:t.value*this.viewportTransform.scale+a.top+this.canvasPosition.y}),left:(0,he.Z)((0,he.Z)({},n),{},{value:n.value*this.viewportTransform.scale+a.left+this.canvasPosition.x})}}},mounted:function(){this.$refs.wrapper.addEventListener("wheel",this.handleWheel)},beforeDestroy:function(){this.$refs.wrapper.removeEventListener("wheel",this.handleWheel)}};const Ze=(0,F.Z)(Be,[["render",Te],["__scopeId","data-v-46965900"]]);var Ae=Ze,Ne=(n(6984),{data:function(){return{canvasPosition:null,currentAction:null,dragging:!1,initialNewShapePosition:null,initialShapeProps:null,initialMousePosition:null,initialPointerPosition:null,resizeDirection:null,shapeBeingAdded:null,shapesBeingMoved:null,viewportTransform:{x:0,y:0,scale:1}}},components:{Canvas:ye,ShapeOverlays:De,ShapeResizeHandles:Ae},methods:{dragNewShape:function(e){var t={left:Math.round(e.left),top:Math.round(e.top)},n=0<=t.left?this.initialNewShapePosition.left:this.initialNewShapePosition.left+t.left,o=Math.abs(t.left),a=0<=t.top?this.initialNewShapePosition.top:this.initialNewShapePosition.top+t.top,i=Math.abs(t.top);ri.dispatch("updateShape",{shape:ri.getters.shapeToBeAdded,width:{value:o},height:{value:i},top:{value:a},left:{value:n},round:!0})},initDrag:function(e){var t=e.event;this.shapesBeingMoved={};var n,o=(0,D.Z)(ri.getters.selectedShapes);try{for(o.s();!(n=o.n()).done;){var a=n.value;this.shapesBeingMoved[a.id]=ge(a)}}catch(i){o.e(i)}finally{o.f()}this.updateCanvasPosition(),this.initialMousePosition=this.transformCoords({x:t.x,y:t.y})},moveShapes:function(e){var t=ri.getters.selectedShapes;if(1===t.length){var n={left:this.initialShapeProps.left.value+e.left,top:this.initialShapeProps.top.value+e.top};ri.dispatch("moveShape",{shape:t[0],left:{value:n.left,units:"px"},top:{value:n.top,units:"px"}})}else{var o,a=(0,D.Z)(ri.getters.selectedShapes);try{for(a.s();!(o=a.n()).done;){var i=o.value,s=this.shapesBeingMoved[i.id];ri.dispatch("moveShape",{shape:i,left:{value:s.left.value+e.left,units:"px"},top:{value:s.top.value+e.top,units:"px"}})}}catch(r){a.e(r)}finally{a.f()}}},onChange:function(){ri.dispatch("setCurrentSnaps"),ri.dispatch("commitChange")},onDrag:function(e){if(this.initialMousePosition){e.stopPropagation(),this.dragging=!0;var t=this.transformCoords({x:e.x,y:e.y}),n=t.x,o=t.y,a={left:n-this.initialMousePosition.x,top:o-this.initialMousePosition.y};this.addingShape?this.dragNewShape(a):this.resizeDirection?this.resizeShape(a):this.shapesBeingMoved&&this.moveShapes(a)}else this.updateViewport()},onMouseDown:function(e){this.$refs.focus.focus(),this.addingShape?(e.stopPropagation(),this.updateCanvasPosition(),this.initialMousePosition=this.transformCoords({x:e.x,y:e.y}),this.initialNewShapePosition={left:(e.x-this.canvasPosition.x)/this.viewportTransform.scale,top:(e.y-this.canvasPosition.y)/this.viewportTransform.scale},this.shapeBeingAdded=(0,he.Z)((0,he.Z)({},ri.getters.shapeToBeAdded),{},{width:{units:"px",value:0},height:{units:"px",value:0},left:{units:"px",value:this.initialNewShapePosition.left},top:{units:"px",value:this.initialNewShapePosition.top}}),ri.dispatch("setShapeToBeAdded",this.shapeBeingAdded)):ri.dispatch("unselectShape")},onMouseUp:function(e){e.stopPropagation(),this.initialMousePosition=null,this.initialShapeProps=null,this.resizeDirection=null,this.shapesBeingMoved=null,this.addingShape&&(ri.dispatch("addShape",{layerName:ri.getters.selectedLayer,shape:ri.getters.shapeToBeAdded}).then((function(e){ri.dispatch("selectShape",{shape:e}).then((function(){return ri.dispatch("generateSnapPoints")}))})),this.shapeBeingAdded=null),this.dragging&&(this.onChange(),this.dragging=!1)},onResizeHandleMouseDown:function(e,t){t.stopPropagation();var n=ri.getters.selectedShape;n&&(this.resizeDirection=e,this.updateCanvasPosition(),this.initialMousePosition=this.transformCoords({x:t.x,y:t.y}),this.initialShapeProps={left:(0,he.Z)({},n.left),top:(0,he.Z)({},n.top),width:(0,he.Z)({},n.width),height:(0,he.Z)({},n.height)})},onShapeMouseDown:function(e,t){this.addingShape||(t.stopPropagation(),this.initDrag({event:t}),this.initialShapeProps={left:(0,he.Z)({},e.left),top:(0,he.Z)({},e.top),width:(0,he.Z)({},e.width),height:(0,he.Z)({},e.height)},this.selectingMultipleShapes||ri.dispatch("selectShape",{shape:e}).then((function(){return ri.dispatch("generateSnapPoints")})))},onShapeMouseUp:function(e,t){this.addingShape||(t.stopPropagation(),this.initialMousePosition=null,this.initialShapeProps=null,this.resizeDirection=null,this.shapesBeingMoved=null,this.dragging?(this.onChange(),this.dragging=!1):this.selectingMultipleShapes&&ri.dispatch("selectShape",{shape:e,keepSelection:ri.getters.isKeyPressed("Shift")}).then((function(){return ri.dispatch("generateSnapPoints")})))},resetZoom:function(){this.$refs.pinchZoom.setTransform({scale:1,x:0,y:0}),this.updateViewport()},resizeShape:function(e){ri.dispatch("resizeShape",{diff:e,direction:this.resizeDirection,initialShapeProps:this.initialShapeProps,shape:ri.getters.selectedShape})},preventZoom:function(e){e.stopPropagation()},transformCoords:function(e){var t=e.x,n=e.y;return be({x:t,y:n,viewportTransform:this.viewportTransform})},updateCanvasPosition:function(){var e=this.$refs.canvas.getBoundingClientRect();this.canvasPosition={x:e.left,y:e.top}},updateViewport:function(){var e=this;setTimeout((function(){e.updateCanvasPosition(),e.viewportTransform={x:e.$refs.pinchZoom.x,y:e.$refs.pinchZoom.y,scale:e.$refs.pinchZoom.scale}}),0)}},mounted:function(){this.$refs.pinchZoom.addEventListener("wheel",this.updateViewport,{passive:!0}),this.$refs.pinchZoom.addEventListener("pointermove",this.updateViewport),this.updateCanvasPosition()},beforeDestroy:function(){this.$refs.pinchZoom.removeEventListener("wheel",this.updateViewport),this.$refs.pinchZoom.removeEventListener("pointermove",this.updateViewport),ri.dispatch("unselectShape")},computed:{addingShape:function(){return!!ri.getters.shapeToBeAdded},projectId:function(){return ri.getters.currentProject.id},selectedShape:function(){return ri.getters.selectedShape},selectedShapes:function(){return ri.getters.selectedShapes},selectingMultipleShapes:function(){var e=ri.getters.isKeyPressed("Shift");return e||1<ri.getters.selectedShapes.length},shapes:function(){return ri.getters.shapes},shapesLayers:function(){return ri.getters.allLayers},zoomLevel:function(){return this.viewportTransform.scale},zoomLevelPercentage:function(){return Ue(100*this.zoomLevel,0)}}});function Ue(e,t){if(!t)return Math.round(e);var n=Math.round(e*Math.pow(10,t))/Math.pow(10,t),o=String(n),a=o.split(".")[1],i=0;void 0===a?o+=".":i=a.length;for(var s=0;s<t-i;s++)o+="0";return o}const Oe=(0,F.Z)(Ne,[["render",de],["__scopeId","data-v-7ba47ea7"]]);var ze=Oe,Re={class:"layers panel"};function We(e,t,n,o,i,s){var r=(0,a.up)("LayerSubtree");return(0,a.wg)(),(0,a.iD)("ul",Re,[(0,a.Wm)(r,{layerName:"main"}),(0,a.Wm)(r,{layerName:"before"}),(0,a.Wm)(r,{layerName:"after"})])}var Ve=function(e){return(0,a.dD)("data-v-09cda357"),e=e(),(0,a.Cn)(),e},Ke={class:"checkbox"},Ee=["checked"],He={class:"shapes"},qe=["onMousedown"],Fe=Ve((function(){return(0,a._)("span",{class:"draggable-indicator"},null,-1)}));function $e(e,t,n,s,r,p){var c=(0,a.up)("ShapeNameInput");return(0,a.wg)(),(0,a.iD)("li",{class:(0,i.C_)(["layer",{active:p.isLayerActive,layerName:n.layerName,selected:p.isLayerSelected}])},[(0,a._)("div",{class:"list-node root-node",onClick:t[1]||(t[1]=function(){return p.selectLayer&&p.selectLayer.apply(p,arguments)})},[(0,a._)("label",null,(0,i.zw)(p.label),1),(0,a._)("span",Ke,[(0,a._)("input",{type:"checkbox",checked:p.isLayerActive,onClick:t[0]||(t[0]=(0,o.iM)((function(){return p.toggleLayer&&p.toggleLayer.apply(p,arguments)}),["stop"]))},null,8,Ee)])]),(0,a._)("ul",He,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(p.items,(function(n,o){return(0,a.wg)(),(0,a.iD)("li",{class:(0,i.C_)(["shape list-node draggable",{selected:p.isShapeSelected(n),"moved-down":e.isItemMovedDown(o),"moved-up":e.isItemMovedUp(o),dragging:n===e.itemBeingDragged}]),style:(0,i.j5)(e.listItemStyle(n)),key:n.id,onMousemove:t[2]||(t[2]=function(){return e.onItemMouseMove&&e.onItemMouseMove.apply(e,arguments)}),onMousedown:function(e){return p.onShapeMouseDown(o,e)},onMouseup:t[3]||(t[3]=function(){return e.onItemMouseUp&&e.onItemMouseUp.apply(e,arguments)})},[Fe,(0,a.Wm)(c,{shape:n,selected:p.isShapeSelected(n)},null,8,["shape","selected"])],46,qe)})),128))])],2)}function Ge(e){return"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName||e.target.classList.contains("fake-focus")}var Je={data:function(){return{elementHeight:null,elementIndex:null,initialMousePosition:null,offset:null,itemBeingDragged:null,indexMovedDown:null,indexMovedUp:null}},methods:{isItemMovedDown:function(e){return this.indexMovedDown===e},isItemMovedUp:function(e){return this.indexMovedUp===e},onItemMouseDown:function(e,t){if(Ge(t)){var n=t.target.closest("li.draggable");if(n){this.elementHeight=parseInt(n.getBoundingClientRect().height);var o=this.items[e];this.itemBeingDragged=o,this.initialMousePosition=t.y,this.elementIndex=e}}},onItemMouseMove:function(e){var t=this;return(0,I.Z)((0,L.Z)().mark((function n(){return(0,L.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.itemBeingDragged){n.next=14;break}e.preventDefault(),t.offset=e.y-t.initialMousePosition;case 3:if(!(t.elementHeight/2<t.offset&&t.elementIndex<t.items.length-1)){n.next=13;break}return n.next=6,t.swapItems(t.elementIndex,t.elementIndex+1);case 6:t.initialMousePosition+=t.elementHeight,t.offset-=t.elementHeight,t.indexMovedDown=null,t.indexMovedUp=t.elementIndex,t.elementIndex+=1,n.next=3;break;case 13:while(t.offset<-t.elementHeight/2&&0<t.elementIndex)t.swapItems(t.elementIndex,t.elementIndex-1),t.initialMousePosition-=t.elementHeight,t.offset+=t.elementHeight,t.indexMovedUp=null,t.indexMovedDown=t.elementIndex,t.elementIndex-=1;case 14:case"end":return n.stop()}}),n)})))()},onItemMouseUp:function(){this.itemBeingDragged=null,this.initialMousePosition=null,this.offset=null,ri.dispatch("commitChange")},listItemStyle:function(e){return e===this.itemBeingDragged&&null!==this.offset?{position:"relative",transform:"translateY(".concat(this.offset,"px)"),zIndex:10}:{}}}},Ye={key:1,class:"shape-name"};function Xe(e,t,n,s,r,p){return(0,a.wg)(),(0,a.iD)("span",{class:"root",onClick:t[1]||(t[1]=function(){return p.onClick&&p.onClick.apply(p,arguments)})},[r.active?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,class:"shape-name",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return p.shapeName=e}),ref:"input"},null,512)),[[o.nr,p.shapeName]]):((0,a.wg)(),(0,a.iD)("span",Ye,(0,i.zw)(p.shapeName),1))])}var Qe={props:{selected:Boolean,shape:Object},data:function(){return{active:!1,firstClickTime:null}},computed:{shapeName:{get:function(){return this.shape.name},set:function(e){ri.dispatch("updateShape",{shape:this.shape,name:e})}}},methods:{onClick:function(){if(this.firstClickTime){var e=Date.now();e-this.firstClickTime<=500&&(this.active=!0)}this.firstClickTime=Date.now()}},watch:{selected:function(e){e||(this.active=!1)}}};const et=(0,F.Z)(Qe,[["render",Xe],["__scopeId","data-v-46ed2b2d"]]);var tt=et,nt={props:{layerName:String},mixins:[Je],data:function(){return{elementHeight:null,elementIndex:null,initialMousePosition:null,offset:null,shapeBeingDragged:null,shapeMovedDown:null,shapeMovedUp:null}},components:{ShapeNameInput:tt},methods:{isShapeSelected:function(e){return ri.getters.isShapeSelected(e)},onShapeMouseDown:function(e,t){var n=this.items[e];this.selectShape(n),this.onItemMouseDown(e,t)},selectLayer:function(){ri.dispatch("selectLayer",this.layerName),ri.dispatch("unselectShape")},selectShape:function(e){ri.dispatch("selectShape",{shape:e,keepSelection:ri.getters.isKeyPressed("Shift")})},shapeLabel:function(e){return e.name},swapItems:function(e,t){var n=this;return(0,I.Z)((0,L.Z)().mark((function o(){return(0,L.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,ri.dispatch("swapLayerShapes",{layerName:n.layerName,sourceIndex:e,targetIndex:t});case 2:case"end":return o.stop()}}),o)})))()},toggleLayer:function(){ri.dispatch("toggleLayer",this.layerName)}},computed:{isLayerActive:function(){return ri.getters.isLayerActive(this.layerName)},isLayerSelected:function(){return ri.getters.selectedLayer===this.layerName&&!ri.getters.selectedShape},label:function(){return"before"===this.layerName||"after"===this.layerName?":"+this.layerName:this.layerName},items:function(){return ri.getters.layerShapes(this.layerName)}}};const ot=(0,F.Z)(nt,[["render",$e],["__scopeId","data-v-09cda357"]]);var at=ot,it={components:{LayerSubtree:at}};const st=(0,F.Z)(it,[["render",We],["__scopeId","data-v-9d9ba850"]]);var rt=st,pt={class:"props panel"};function ct(e,t,n,o,i,s){var r=(0,a.up)("LayerPropsFormFields"),p=(0,a.up)("ShapePropsFormFields");return(0,a.wg)(),(0,a.iD)("form",pt,[s.layerName?((0,a.wg)(),(0,a.j4)(r,{key:0,"layer-name":s.layerName},null,8,["layer-name"])):(0,a.kq)("",!0),s.shape?((0,a.wg)(),(0,a.j4)(p,{key:1,shape:s.shape},null,8,["shape"])):(0,a.kq)("",!0)])}function ut(e,t,n,o,i,s){var r=(0,a.up)("codemirror");return(0,a.wg)(),(0,a.j4)(r,{modelValue:s.style,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.style=e}),extensions:i.extensions,mode:"css",height:"auto",class:"code-editor code-editor-extra-styles"},null,8,["modelValue","extensions"])}var lt=n(1652),dt=n(1426),ht={props:{layerName:String},components:{Codemirror:lt.Z1},computed:{style:{get:function(){return ri.getters.extraStyles(this.layerName)},set:function(e){ri.dispatch("setExtraStyles",{layerName:this.layerName,styles:e}).then((function(){return ri.dispatch("updateProject")}))}}},data:function(){return{extensions:[(0,dt.iv)()]}}};const ft=(0,F.Z)(ht,[["render",ut],["__scopeId","data-v-48124085"]]);var vt=ft,mt={class:"form shape-props-form"},yt={class:"list-node"},gt={class:"row"},bt={class:"wrapper"},wt=(0,a._)("span",{class:"label"},"Top",-1),St={class:"units"},xt={class:"row"},kt={class:"wrapper"},Pt=(0,a._)("span",{class:"label"},"Left",-1),Ct={class:"units"},jt={class:"list-node"},_t={class:"row"},Lt={class:"wrapper"},It=(0,a._)("span",{class:"label"},"Width",-1),Mt={class:"units"},Dt={class:"row"},Tt={class:"wrapper"},Bt=(0,a._)("span",{class:"label"},"Height",-1),Zt={class:"units"},At={class:"list-node"},Nt={class:"row wrapper"},Ut=(0,a._)("span",{class:"label"},"Type",-1),Ot=(0,a._)("option",{value:"linear"},"Linear",-1),zt=(0,a._)("option",{value:"radial"},"Radial",-1),Rt=(0,a._)("option",{value:"conic"},"Conic",-1),Wt=[Ot,zt,Rt],Vt={class:"list-node"},Kt={class:"row wrapper"},Et=(0,a._)("span",{class:"label"},"Direction",-1),Ht={class:"list-node"},qt={class:"row wrapper"},Ft=(0,a._)("div",{class:"label"},"Repeat",-1);function $t(e,t,n,s,r,p){var c=(0,a.up)("StopsEditor");return(0,a.wg)(),(0,a.iD)("div",mt,[(0,a._)("div",yt,[(0,a._)("div",gt,[(0,a._)("label",bt,[wt,(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=function(e){return p.top=e}),class:"w-m"},null,512),[[o.nr,p.top]]),(0,a._)("span",St,(0,i.zw)(n.shape.top.units),1)])]),(0,a._)("div",xt,[(0,a._)("label",kt,[Pt,(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=function(e){return p.left=e}),class:"w-m"},null,512),[[o.nr,p.left]]),(0,a._)("span",Ct,(0,i.zw)(n.shape.left.units),1)])])]),(0,a._)("div",jt,[(0,a._)("div",_t,[(0,a._)("label",Lt,[It,(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=function(e){return p.width=e}),class:"w-m"},null,512),[[o.nr,p.width]]),(0,a._)("span",Mt,(0,i.zw)(n.shape.width.units),1)])]),(0,a._)("div",Dt,[(0,a._)("label",Tt,[Bt,(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=function(e){return p.height=e}),class:"w-m"},null,512),[[o.nr,p.height]]),(0,a._)("span",Zt,(0,i.zw)(n.shape.height.units),1)])])]),(0,a._)("div",At,[(0,a._)("label",Nt,[Ut,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return p.type=e}),class:"w-l"},Wt,512),[[o.bM,p.type]])])]),(0,a._)("div",Vt,[(0,a._)("label",Kt,[Et,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return p.direction=e}),class:"m-l-s w-l"},null,512),[[o.nr,p.direction]])])]),(0,a._)("div",Ht,[(0,a._)("label",qt,[Ft,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=function(e){return p.backgroundRepeat=e}),class:"w-l"},null,512),[[o.nr,p.backgroundRepeat]])])]),(0,a.Wm)(c,{shape:n.shape},null,8,["shape"])])}n(9653);var Gt=function(e){return(0,a.dD)("data-v-1de5147f"),e=e(),(0,a.Cn)(),e},Jt={class:"list-node"},Yt=Gt((function(){return(0,a._)("label",{class:"row wrapper"},"Stops",-1)})),Xt={class:"stops"},Qt=["onMousedown"],en=Gt((function(){return(0,a._)("span",{class:"draggable-indicator"},null,-1)})),tn=["onUpdate:modelValue","onChange"],nn={class:"row add-new"};function on(e,t,n,s,r,p){var c=(0,a.up)("ColorPicker"),u=(0,a.up)("CloseButton");return(0,a.wg)(),(0,a.iD)("div",Jt,[Yt,(0,a._)("ul",Xt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.shape.stops,(function(n,s){return(0,a.wg)(),(0,a.iD)("li",{key:n.id,class:(0,i.C_)(["stop draggable",{"moved-down":e.isItemMovedDown(s),"moved-up":e.isItemMovedUp(s),dragging:n===e.itemBeingDragged}]),style:(0,i.j5)(e.listItemStyle(n)),onMousedown:function(t){return e.onItemMouseDown(s,t)},onMousemove:t[0]||(t[0]=function(){return e.onItemMouseMove&&e.onItemMouseMove.apply(e,arguments)}),onMouseup:t[1]||(t[1]=function(){return e.onItemMouseUp&&e.onItemMouseUp.apply(e,arguments)})},[en,(0,a.Wm)(c,{modelValue:n.color,"onUpdate:modelValue":function(e){return n.color=e},"on-pick":function(e){return p.onStopColorPick(n,e)},"on-close":p.commitChange,anchor:"right",id:n.id},null,8,["modelValue","onUpdate:modelValue","on-pick","on-close","id"]),(0,a.wy)((0,a._)("input",{type:"text",class:"m-l-s","onUpdate:modelValue":function(e){return n.position=e},onChange:function(e){return p.updateStop(n,{position:e.target.value})}},null,40,tn),[[o.nr,n.position]]),(0,a.Wm)(u,{class:"remove-stop","on-click":function(){return p.removeStop(s)},title:"Remove stop"},null,8,["on-click"])],46,Qt)})),128))]),(0,a._)("div",nn,[(0,a._)("button",{class:"add-new-stop",onClick:t[2]||(t[2]=function(){return p.addNewStop()}),title:"Add new stop"}," Add stop ")])])}function an(e,t,n,o,i,s){return(0,a.wg)(),(0,a.iD)("button",{onClick:t[0]||(t[0]=function(){return n.onClick&&n.onClick.apply(n,arguments)})})}var sn={props:{onClick:Function}};const rn=(0,F.Z)(sn,[["render",an],["__scopeId","data-v-183c56a1"]]);var pn=rn;function cn(e,t,n,s,r,p){var c=(0,a.up)("ChromeColorPicker"),u=(0,a.up)("EdgeCloseButton");return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["color-picker",{active:p.isPickerOpen}]),ref:"container"},[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return p.selectedColor=e})},null,512),[[o.nr,p.selectedColor]]),(0,a._)("span",{class:"sample",style:(0,i.j5)({backgroundColor:p.selectedColor}),onClick:t[1]||(t[1]=function(){return p.togglePicker&&p.togglePicker.apply(p,arguments)})},null,4),((0,a.wg)(),(0,a.j4)(a.lR,{to:"#color-picker"},[p.isPickerOpen?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,i.C_)(["color-modal",{dragging:r.dragging}]),onPointermove:t[5]||(t[5]=function(){return p.onDrag&&p.onDrag.apply(p,arguments)})},[(0,a._)("div",{class:(0,i.C_)(["picker-container",p.anchorClass]),style:(0,i.j5)(p.pickerStyle)},[(0,a._)("div",{class:"top-bar",onPointerdown:t[2]||(t[2]=function(){return p.onTopBarPointerDown&&p.onTopBarPointerDown.apply(p,arguments)}),onPointerup:t[3]||(t[3]=function(){return p.onTopBarPointerUp&&p.onTopBarPointerUp.apply(p,arguments)})},null,32),(0,a.Wm)(c,{class:"picker",modelValue:p.selectedColorHex,"onUpdate:modelValue":t[4]||(t[4]=function(e){return p.selectedColorHex=e})},null,8,["modelValue"]),(0,a.Wm)(u,{onClick:p.closePicker},null,8,["onClick"])],6)],34)):(0,a.kq)("",!0)]))],2)}n(5218),n(6699),n(2023);var un=n(8619),ln=n.n(un),dn=n(1241),hn=n.n(dn),fn=n(5726);function vn(e,t,n,o,i,s){return(0,a.wg)(),(0,a.iD)("a",{onClick:t[0]||(t[0]=function(){return n.onClick&&n.onClick.apply(n,arguments)})})}var mn={props:{onClick:Function}};const yn=(0,F.Z)(mn,[["render",vn],["__scopeId","data-v-f761bc5e"]]);var gn=yn,bn={props:{anchor:{type:String,required:!1},id:String,onClose:{type:Function,required:!1},onPick:Function,modelValue:String},data:function(){return{dragging:!1,initialPointerPosition:null,initialPosition:null,position:ge(ri.getters.colorPickerPosition)}},components:{ChromeColorPicker:fn.Z,EdgeCloseButton:gn},computed:{anchorClass:function(){return this.anchor?"anchor-".concat(this.anchor):void 0},isPickerOpen:function(){return this.openColorPickerId===this.id},openColorPickerId:function(){return ri.getters.openColorPickerId},pickerStyle:function(){return{transform:"translate(".concat(this.position.x,"px,").concat(this.position.y,"px)")}},selectedColor:{get:function(){return this.modelValue},set:function(e){this.selectColor(e)}},selectedColorHex:{get:function(){return ln()(this.modelValue||"")},set:function(e){this.selectColor(e.hex8)}}},beforeDestroy:function(){this.isPickerOpen&&this.closePicker()},methods:{closePicker:function(){ri.dispatch("setOpenColorPickerId",null),ri.dispatch("setColorPickerPosition",this.position),this.onClose&&this.onClose()},onDrag:function(e){if(this.dragging){var t={x:e.x-this.initialPointerPosition.x,y:e.y-this.initialPointerPosition.y};this.position={x:this.initialPosition.x+t.x,y:this.initialPosition.y+t.y}}},onTopBarPointerDown:function(e){this.initialPointerPosition={x:e.x,y:e.y},this.initialPosition=ge(this.position),this.dragging=!0},onTopBarPointerUp:function(){this.dragging=!1},openPicker:function(){if(ri.getters.colorPickerPosition)this.position=ri.getters.colorPickerPosition;else{var e=this.$refs.container.getBoundingClientRect(),t=225,n=242,o=20,a={x:e.left-t/2,y:e.top-n/2};this.anchor&&(this.anchor.includes("left")&&(a.x=e.left+o),this.anchor.includes("right")&&(a.x=e.left-t-o),this.anchor.includes("top")&&(a.y=e.top+o),this.anchor.includes("bottom")&&(a.y=e.top-n-o)),ri.dispatch("setColorPickerPosition",a),this.position=a}ri.dispatch("setOpenColorPickerId",this.id)},selectColor:function(e){"function"===typeof this.onPick&&hn()(e)&&this.onPick(e)},togglePicker:function(){this.isPickerOpen?this.closePicker():this.openPicker()}}};const wn=(0,F.Z)(bn,[["render",cn],["__scopeId","data-v-6e0df257"]]);var Sn=wn,xn={components:{CloseButton:pn,ColorPicker:Sn},props:{shape:Object},mixins:[Je],methods:{addNewStop:function(e){ri.dispatch("addNewStop",{shape:this.shape,index:e})},commitChange:function(){ri.dispatch("commitChange")},onStopColorPick:function(e,t){this.updateStop(e,{color:t})},removeStop:function(e){ri.dispatch("removeStop",{shape:this.shape,index:e})},swapItems:function(e,t){return ri.dispatch("swapStops",{shape:this.shape,sourceIndex:e,targetIndex:t})},updateStop:function(e,t){ri.dispatch("updateShapeStop",(0,he.Z)({shape:this.shape,stop:e},t))}},computed:{items:function(){return this.shape.stops}}};const kn=(0,F.Z)(xn,[["render",on],["__scopeId","data-v-1de5147f"]]);var Pn=kn,Cn={components:{StopsEditor:Pn},props:{shape:Object},computed:{backgroundRepeat:{get:function(){return this.shape.repeat},set:function(e){ri.dispatch("updateShape",{shape:this.shape,repeat:e})}},direction:{get:function(){return this.shape.direction},set:function(e){ri.dispatch("updateShape",{shape:this.shape,direction:e})}},height:{get:function(){return this.shape.height.value},set:function(e){ri.dispatch("updateShape",{shape:this.shape,height:{value:Number(e)}})}},left:{get:function(){return this.shape.left.value},set:function(e){ri.dispatch("updateShape",{shape:this.shape,left:{value:Number(e)}})}},top:{get:function(){return this.shape.top.value},set:function(e){ri.dispatch("updateShape",{shape:this.shape,top:{value:Number(e)}})}},type:{get:function(){return this.shape.type},set:function(e){ri.dispatch("updateShape",{shape:this.shape,type:e})}},width:{get:function(){return this.shape.width.value},set:function(e){ri.dispatch("updateShape",{shape:this.shape,width:{value:Number(e)}})}}}};const jn=(0,F.Z)(Cn,[["render",$t]]);var _n=jn,Ln={components:{LayerPropsFormFields:vt,ShapePropsFormFields:_n},computed:{layerName:function(){return!this.shape&&ri.getters.selectedLayer},shape:function(){return ri.getters.selectedShape}}};const In=(0,F.Z)(Ln,[["render",ct],["__scopeId","data-v-6239d32c"]]);var Mn=In,Dn={class:"toolbar"},Tn={class:"input"},Bn={class:"input"};function Zn(e,t,n,o,i,s){var r=(0,a.up)("UndoButton"),p=(0,a.up)("RedoButton"),c=(0,a.up)("CurrentColorPicker"),u=(0,a.up)("ShapeButtonGroup"),l=(0,a.up)("LineThicknessPicker"),d=(0,a.up)("ToolbarSnapOptions");return(0,a.wg)(),(0,a.iD)("div",Dn,[(0,a._)("section",null,[(0,a._)("section",null,[(0,a.Wm)(r),(0,a.Wm)(p)])]),(0,a._)("section",null,[(0,a.Wm)(c)]),(0,a._)("section",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.buttonShapeGenerators,(function(e,t){return(0,a.wg)(),(0,a.j4)(u,{key:t,shapeGeneratorGroup:e},null,8,["shapeGeneratorGroup"])})),128))]),(0,a._)("section",Tn,[(0,a.Wm)(l)]),(0,a._)("section",Bn,[(0,a.Wm)(d)])])}var An="71%",Nn=[[function(e){var t=ri.getters.lineThickness;return{name:"Line, to bottom right",type:"linear",direction:"to bottom right",stops:[{color:"transparent",position:"calc(50% - ".concat(t," / 2)")},{color:e,position:"calc(50% - ".concat(t," / 2)")},{color:e,position:"calc(50% + ".concat(t," / 2)")},{color:"transparent",position:"calc(50% + ".concat(t," / 2)")}]}},function(e){var t=ri.getters.lineThickness;return{name:"Line, to bottom left",type:"linear",direction:"to bottom left",stops:[{color:"transparent",position:"calc(50% - ".concat(t," / 2)")},{color:e,position:"calc(50% - ".concat(t," / 2)")},{color:e,position:"calc(50% + ".concat(t," / 2)")},{color:"transparent",position:"calc(50% + ".concat(t," / 2)")}]}}],[function(e){return{name:"Rectangle",type:"linear",direction:"to bottom",stops:[{color:e},{color:e}]}}],[function(e){return{name:"Bottom right triangle",type:"linear",direction:"to bottom right",stops:[{color:"transparent",position:"50%"},{color:e,position:"50%"}]}},function(e){return{name:"Top left triangle",type:"linear",direction:"to top left",stops:[{color:"transparent",position:"50%"},{color:e,position:"50%"}]}},function(e){return{name:"Bottom left triangle",type:"linear",direction:"to bottom left",stops:[{color:"transparent",position:"50%"},{color:e,position:"50%"}]}},function(e){return{name:"Top right triangle",type:"linear",direction:"to top right",stops:[{color:"transparent",position:"50%"},{color:e,position:"50%"}]}}],[function(e){return{name:"Circle",type:"radial",direction:"at center",stops:[{color:e,position:An},{color:"transparent",position:An}],repeat:"no-repeat"}},function(e){var t=ri.getters.lineThickness;return{name:"Empty circle",type:"radial",direction:"at center",stops:[{color:"transparent",position:"calc(".concat(An," - ").concat(t,")")},{color:e,position:"calc(".concat(An," - ").concat(t,")")},{color:e,position:An},{color:"transparent",position:An}],repeat:"no-repeat"}}],[function(e){return{name:"Bottom right circle section",type:"radial",direction:"at top left",stops:[{color:e,position:An},{color:"transparent",position:An}],repeat:"no-repeat"}},function(e){return{name:"Bottom left circle section",type:"radial",direction:"at top right",stops:[{color:e,position:An},{color:"transparent",position:An}],repeat:"no-repeat"}},function(e){return{name:"Top left circle section",type:"radial",direction:"at bottom right",stops:[{color:e,position:An},{color:"transparent",position:An}],repeat:"no-repeat"}},function(e){return{name:"Top right circle section",type:"radial",direction:"at bottom left",stops:[{color:e,position:An},{color:"transparent",position:An}],repeat:"no-repeat"}}],[function(e){var t=ri.getters.lineThickness;return{name:"Bottom right arc",type:"radial",direction:"at top left",stops:[{color:"transparent",position:"calc(".concat(An," - ").concat(t,")")},{color:e,position:"calc(".concat(An," - ").concat(t,")")},{color:e,position:An},{color:"transparent",position:An}]}},function(e){var t=ri.getters.lineThickness;return{name:"Bottom left arc",type:"radial",direction:"at top right",stops:[{color:"transparent",position:"calc(".concat(An," - ").concat(t,")")},{color:e,position:"calc(".concat(An," - ").concat(t,")")},{color:e,position:An},{color:"transparent",position:An}],repeat:"no-repeat"}},function(e){var t=ri.getters.lineThickness;return{name:"Top left arc",type:"radial",direction:"at bottom right",stops:[{color:"transparent",position:"calc(".concat(An," - ").concat(t,")")},{color:e,position:"calc(".concat(An," - ").concat(t,")")},{color:e,position:An},{color:"transparent",position:An}],repeat:"no-repeat"}},function(e){var t=ri.getters.lineThickness;return{name:"Top right arc",type:"radial",direction:"at bottom left",stops:[{color:"transparent",position:"calc(".concat(An," - ").concat(t,")")},{color:e,position:"calc(".concat(An," - ").concat(t,")")},{color:e,position:An},{color:"transparent",position:An}],repeat:"no-repeat"}}],[function(e){return{name:"4 Tiles #1",type:"conic",stops:[{color:e,position:"25%"},{color:"transparent",position:"25%"},{color:"transparent",position:"50%"},{color:e,position:"50%"},{color:e,position:"75%"},{color:"transparent",position:"75%"}],repeat:"no-repeat"}},function(e){return{name:"4 Tiles #2",type:"conic",stops:[{color:"transparent",position:"25%"},{color:e,position:"25%"},{color:e,position:"50%"},{color:"transparent",position:"50%"},{color:"transparent",position:"75%"},{color:e,position:"75%"}],repeat:"no-repeat"}}]];function Un(e,t,n,o,i,s){var r=(0,a.up)("ColorPicker");return(0,a.wg)(),(0,a.j4)(r,{modelValue:s.currentColor,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.currentColor=e}),"on-pick":s.selectColor,class:"current-color-picker",anchor:"top",id:"current-color"},null,8,["modelValue","on-pick"])}var On={components:{ColorPicker:Sn},computed:{currentColor:function(){return ri.getters.currentColor}},methods:{selectColor:function(e){ri.dispatch("selectColor",e)}}};const zn=(0,F.Z)(On,[["render",Un],["__scopeId","data-v-497a89fa"]]);var Rn=zn;function Wn(e,t,n,i,s,r){return(0,a.wg)(),(0,a.iD)("label",null,[(0,a.Uk)("Line width"),(0,a.wy)((0,a._)("input",{type:"text",class:"w-m","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.lineThickness=e})},null,512),[[o.nr,r.lineThickness]])])}var Vn={computed:{lineThickness:{get:function(){return ri.getters.lineThickness},set:function(e){ri.dispatch("setLineThickness",e)}}}};const Kn=(0,F.Z)(Vn,[["render",Wn]]);var En=Kn;function Hn(e,t,n,o,s,r){return(0,a.wg)(),(0,a.iD)("button",{onClick:t[0]||(t[0]=function(){return r.undo&&r.undo.apply(r,arguments)}),class:(0,i.C_)({disabled:!r.canRedo})},[(0,a._)("div",{class:"icon",style:(0,i.j5)(s.style)},null,4)],2)}var qn=JSON.parse('[{"name":"Top right arc","type":"radial","direction":"at bottom left","stops":[{"color":"transparent","position":"45%","id":"3ea80a82-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"45%","id":"3ea80a83-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"71%","id":"3ea80a84-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"71%","id":"3ea80a85-624f-11ea-8b9e-fd8e6004a4d6"}],"repeat":"no-repeat","width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":11},"top":{"units":"px","value":2},"id":"3ea80a81-624f-11ea-8b9e-fd8e6004a4d6"},{"name":"Bottom right arc","type":"radial","direction":"at top right","stops":[{"color":"transparent","position":"45%","id":"44c8a502-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"45%","id":"44c8a503-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"71%","id":"44c8a504-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"71%","id":"44c8a505-624f-11ea-8b9e-fd8e6004a4d6"}],"width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":1},"top":{"units":"px","value":12},"id":"44c8a501-624f-11ea-8b9e-fd8e6004a4d6"},{"name":"Bottom left arc","type":"radial","direction":"at bottom right","stops":[{"color":"transparent","position":"45%","id":"49ff0692-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"45%","id":"49ff0693-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"71%","id":"49ff0694-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"71%","id":"49ff0695-624f-11ea-8b9e-fd8e6004a4d6"}],"repeat":"no-repeat","width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":1},"top":{"units":"px","value":2},"id":"49ff0691-624f-11ea-8b9e-fd8e6004a4d6"},{"name":"Bottom right triangle","type":"linear","direction":"to bottom right","stops":[{"color":"transparent","id":"28319d22-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"50%","id":"28319d23-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"50%","id":"28319d24-624f-11ea-8b9e-fd8e6004a4d6"}],"width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":12},"top":{"units":"px","value":2},"id":"28319d21-624f-11ea-8b9e-fd8e6004a4d6"}]'),Fn={methods:{undo:function(){ri.dispatch("redo"),ri.dispatch("unselectShape"),ri.dispatch("updateProject")}},data:function(){return{style:B(qn)}},computed:{canRedo:function(){return ri.getters.canRedo}}};const $n=(0,F.Z)(Fn,[["render",Hn],["__scopeId","data-v-16e044c1"]]);var Gn=$n,Jn={class:"other-shapes"};function Yn(e,t,n,o,s,r){var p=(0,a.up)("ShapeButton");return(0,a.wg)(),(0,a.iD)("section",null,[(0,a.Wm)(p,{shape:r.defaultShape,class:(0,i.C_)({selected:r.wasSelected})},null,8,["shape","class"]),(0,a._)("div",Jn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.otherShapes,(function(e){return(0,a.wg)(),(0,a.j4)(p,{key:e.name,onSelect:function(){return r.selectShape(e)},shape:e},null,8,["onSelect","shape"])})),128))])])}n(9826),n(7327);function Xn(e,t,n,o,s,r){var p=(0,a.up)("ToolbarButton");return(0,a.wg)(),(0,a.j4)(p,{style:(0,i.j5)(r.style),callback:r.addShape},null,8,["style","callback"])}function Qn(e,t,n,o,i,s){return(0,a.wg)(),(0,a.iD)("button",{onClick:t[0]||(t[0]=function(){return n.callback&&n.callback.apply(n,arguments)}),title:"Click to add this shape"})}var eo={props:{callback:Function}};const to=(0,F.Z)(eo,[["render",Qn],["__scopeId","data-v-adc836b2"]]);var no=to,oo={props:{onSelect:{type:Function,require:!1},shape:Object},components:{ToolbarButton:no},methods:{addShape:function(){"function"===typeof this.onSelect&&this.onSelect(),ri.dispatch("setShapeToBeAdded",this.shape),ri.dispatch("unselectShape")}},computed:{style:function(){return{backgroundImage:U(this.shape),backgroundSize:"60% 60%",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}}};const ao=(0,F.Z)(oo,[["render",Xn]]);var io=ao,so={props:["shapeGeneratorGroup"],components:{ShapeButton:io},data:function(){var e=this.shapeGeneratorGroup[0](ri.getters.currentColor);return{defaultShapeName:(0,se.get)(e,"name")}},methods:{selectShape:function(e){this.defaultShapeName=e.name}},computed:{defaultShape:function(){var e=this;return this.shapes.find((function(t){return t.name===e.defaultShapeName}))},otherShapes:function(){var e=this;return this.shapes.filter((function(t){return t.name!==e.defaultShapeName}))},shapes:function(){return this.shapeGeneratorGroup.map((function(e){return e(ri.getters.currentColor)}))},wasSelected:function(){return(0,se.get)(ri.getters.shapeToBeAdded,"name")===this.defaultShapeName}}};const ro=(0,F.Z)(so,[["render",Yn],["__scopeId","data-v-a375bc64"]]);var po=ro,co=function(e){return(0,a.dD)("data-v-21dc0ec6"),e=e(),(0,a.Cn)(),e},uo=["checked"],lo=["disabled"],ho=co((function(){return(0,a._)("span",{class:"units"},"px",-1)}));function fo(e,t,n,s,r,p){return(0,a.wg)(),(0,a.iD)("section",null,[(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{type:"checkbox",checked:p.snap,"onUpdate:modelValue":t[0]||(t[0]=function(e){return p.snap=e})},null,8,uo),[[o.e8,p.snap]]),(0,a.Uk)(" Snap ")]),(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=function(e){return p.threshold=e}),class:(0,i.C_)(["w-s",{inactive:!p.snap}]),disabled:!p.snap},null,10,lo),[[o.nr,p.threshold]]),ho])}var vo={computed:{snap:{get:function(){return ri.getters.snap},set:function(){ri.dispatch("toggleSnap")}},threshold:{get:function(){return ri.getters.snapThreshold},set:function(e){ri.dispatch("setSnapThreshold",e)}}}};const mo=(0,F.Z)(vo,[["render",fo],["__scopeId","data-v-21dc0ec6"]]);var yo=mo;function go(e,t,n,o,s,r){return(0,a.wg)(),(0,a.iD)("button",{onClick:t[0]||(t[0]=function(){return r.undo&&r.undo.apply(r,arguments)}),class:(0,i.C_)({disabled:!r.canUndo})},[(0,a._)("div",{class:"icon",style:(0,i.j5)(s.style)},null,4)],2)}var bo=JSON.parse('[{"name":"Top right arc","type":"radial","direction":"at bottom left","stops":[{"color":"transparent","position":"45%","id":"3ea80a82-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"45%","id":"3ea80a83-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"71%","id":"3ea80a84-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"71%","id":"3ea80a85-624f-11ea-8b9e-fd8e6004a4d6"}],"repeat":"no-repeat","width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":11},"top":{"units":"px","value":2},"id":"3ea80a81-624f-11ea-8b9e-fd8e6004a4d6"},{"name":"Bottom right arc","type":"radial","direction":"at top left","stops":[{"color":"transparent","position":"45%","id":"44c8a502-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"45%","id":"44c8a503-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"71%","id":"44c8a504-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"71%","id":"44c8a505-624f-11ea-8b9e-fd8e6004a4d6"}],"width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":11},"top":{"units":"px","value":12},"id":"44c8a501-624f-11ea-8b9e-fd8e6004a4d6"},{"name":"Bottom left arc","type":"radial","direction":"at bottom right","stops":[{"color":"transparent","position":"45%","id":"49ff0692-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"45%","id":"49ff0693-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"71%","id":"49ff0694-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"71%","id":"49ff0695-624f-11ea-8b9e-fd8e6004a4d6"}],"repeat":"no-repeat","width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":1},"top":{"units":"px","value":2},"id":"49ff0691-624f-11ea-8b9e-fd8e6004a4d6"},{"name":"Bottom right triangle","type":"linear","direction":"to bottom left","stops":[{"color":"transparent","id":"28319d22-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"transparent","position":"50%","id":"28319d23-624f-11ea-8b9e-fd8e6004a4d6"},{"color":"gray","position":"50%","id":"28319d24-624f-11ea-8b9e-fd8e6004a4d6"}],"width":{"units":"px","value":10},"height":{"units":"px","value":10},"left":{"units":"px","value":0},"top":{"units":"px","value":2},"id":"28319d21-624f-11ea-8b9e-fd8e6004a4d6"}]'),wo={methods:{undo:function(){ri.dispatch("undo"),ri.dispatch("unselectShape"),ri.dispatch("updateProject")}},data:function(){return{style:B(bo)}},computed:{canUndo:function(){return ri.getters.canUndo}}};const So=(0,F.Z)(wo,[["render",go],["__scopeId","data-v-623cea8d"]]);var xo=So,ko={components:{CurrentColorPicker:Rn,LineThicknessPicker:En,RedoButton:Gn,ShapeButtonGroup:po,ToolbarSnapOptions:yo,UndoButton:xo},data:function(){return{buttonShapeGenerators:Nn}},methods:{redo:function(){ri.dispatch("redo")}}};const Po=(0,F.Z)(ko,[["render",Zn],["__scopeId","data-v-13a980da"]]);var Co=Po;function jo(e){switch(e.key){case"a":Ge(e)&&e.metaKey&&(e.preventDefault(),ri.dispatch("selectAllShapes"));break;case"Backspace":case"Delete":Ge(e)&&ri.dispatch("removeSelectedShapes");break;case"ArrowLeft":Ge(e)&&ri.dispatch("moveShapesBy",{shapes:ri.getters.selectedShapes,left:{value:-1,units:"px"}});break;case"ArrowUp":Ge(e)&&ri.dispatch("moveShapesBy",{shapes:ri.getters.selectedShapes,top:{value:-1,units:"px"}});break;case"ArrowRight":Ge(e)&&ri.dispatch("moveShapesBy",{shapes:ri.getters.selectedShapes,left:{value:1,units:"px"}});break;case"ArrowDown":Ge(e)&&ri.dispatch("moveShapesBy",{shapes:ri.getters.selectedShapes,top:{value:1,units:"px"}});break;case"c":Ge(e)&&e.metaKey&&ri.dispatch("copyShapes");break;case"d":Ge(e)&&ri.dispatch("duplicateSelectedShapes");break;case"Escape":Ge(e)&&ri.dispatch("setShapeToBeAdded",null);break;case"v":Ge(e)&&e.metaKey&&ri.dispatch("pasteShapes");break;case"x":Ge(e)&&e.metaKey&&ri.dispatch("cutShapes");break;case"z":Ge(e)&&e.metaKey&&(e.shiftKey?ri.dispatch("redo"):ri.dispatch("undo"));break}}var _o={data:function(){return{pressedKeys:new Set,shapes:null}},components:{Layers:rt,PropsForm:Mn,Toolbar:Co,Workspace:ze},created:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},destroyed:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},mounted:function(){var e=(0,se.get)(this,"$route.params.id");ri.dispatch("resetSnapshots"),void 0===e?this.$router.history.push("/"):ri.dispatch("loadProjectById",e).then((function(){ri.dispatch("addSnapshot")}))},computed:{project:function(){return ri.getters.currentProject},showOutput:function(){return ri.getters.showOutput}},methods:{onKeyDown:function(e){ri.dispatch("addPressedKey",e.key),jo(e)},onKeyUp:function(e){ri.dispatch("removePressedKey",e.key)}}};const Lo=(0,F.Z)(_o,[["render",ie],["__scopeId","data-v-6a560df6"]]);var Io=Lo,Mo=(0,a.uE)('<dt data-v-2bed8fe8>What is this?</dt><dd data-v-2bed8fe8> This is an experimental UI editor for creating illustrations based applying styles (CSS) on a single HTML element. </dd><dt data-v-2bed8fe8>Why did you do it?</dt><dd data-v-2bed8fe8><p data-v-2bed8fe8><em data-v-2bed8fe8>Short answer:</em></p><p data-v-2bed8fe8>Experimentation and fun.</p><p data-v-2bed8fe8><em data-v-2bed8fe8>Long answer:</em></p><p data-v-2bed8fe8> As a web developer I like to learn ways to avoid unnecessary markup (and scripts). Often CSS knowledge helps create elegant and robust solutions and is an often underrated resource. </p><p data-v-2bed8fe8> This does not mean that one should avoid markup and force CSS-based solutions at all costs, the point is just to explore what a medium can do. </p><p data-v-2bed8fe8>Some resources about the topic that I found interesting include:</p><ul data-v-2bed8fe8><li data-v-2bed8fe8> Lea Verou&#39;s book <em data-v-2bed8fe8><a href="https://www.oreilly.com/library/view/css-secrets/9781449372736/" data-v-2bed8fe8>CSS Secrets</a></em></li><li data-v-2bed8fe8> Chris Coyier&#39;s article <em data-v-2bed8fe8><a href="https://css-tricks.com/the-shapes-of-css/" data-v-2bed8fe8>The Shapes of CSS</a></em></li><li data-v-2bed8fe8> Lynn Fisher&#39;s <a href="https://a.singlediv.com" data-v-2bed8fe8>Single Div Illustrations</a></li></ul></dd><dt data-v-2bed8fe8>How did you do it?</dt><dd data-v-2bed8fe8> You can find the code <a href="https://github.com/jperals/zerodivs" data-v-2bed8fe8>here</a>. </dd><dt data-v-2bed8fe8>Is my work being saved?</dt><dd data-v-2bed8fe8> Only to your browser via <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" data-v-2bed8fe8>localStorage</a>. In order to share your illustrations, you can export them to <a href="https://codepen.io/" data-v-2bed8fe8>CodePen</a>. </dd><dt data-v-2bed8fe8>Why the name &quot;Zero Divs&quot;?</dt><dd data-v-2bed8fe8><p data-v-2bed8fe8> This might not be super relevant, but I noticed that it&#39;s not even necessary to have a &quot;div&quot; or similar HTML node, since the styles can be applied directly to the body of a page. So it is possible to display complex visuals on a page that, from the content perspective, is completely empty. </p><p data-v-2bed8fe8> If you make use of the &quot;Export to CodePen&quot; button, you&#39;ll see that the generated pen has no markup at all (nor JavaScript, of course) --only CSS. </p><p data-v-2bed8fe8>And because I just couldn&#39;t come up with a better name, that&#39;s it.</p></dd><dt data-v-2bed8fe8>Who are you?</dt><dd data-v-2bed8fe8> I am <a href="https://perals.io" data-v-2bed8fe8>Joan</a>, a UX Engineer from Catalonia living in Berlin. </dd>',12),Do=[Mo];function To(e,t){return(0,a.wg)(),(0,a.iD)("dl",null,Do)}const Bo={},Zo=(0,F.Z)(Bo,[["render",To],["__scopeId","data-v-2bed8fe8"]]);var Ao=Zo,No={class:"modal-container"},Uo={class:"modal output"},Oo={class:"actions"},zo={class:"tabs"};function Ro(e,t,n,o,i,s){var r=(0,a.up)("router-link"),p=(0,a.up)("ExportToCodePenButton"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",No,[(0,a._)("div",{class:"modal-overlay",onClick:t[0]||(t[0]=function(){return s.close&&s.close.apply(s,arguments)})}),(0,a._)("div",Uo,[(0,a._)("div",Oo,[(0,a._)("div",zo,[(0,a.Wm)(r,{to:{name:"json-result"}},{default:(0,a.w5)((function(){return[(0,a.Uk)("JSON")]})),_:1}),(0,a.Wm)(r,{to:{name:"css-result"}},{default:(0,a.w5)((function(){return[(0,a.Uk)("CSS")]})),_:1})]),(0,a.Wm)(p),(0,a._)("button",{class:"button close-button",onClick:t[1]||(t[1]=function(){return s.close&&s.close.apply(s,arguments)})},"Close")]),(0,a.Wm)(c)])])}var Wo={action:"https://codepen.io/pen/define",method:"POST",target:"_blank"},Vo=["value"],Ko={type:"submit"};function Eo(e,t,n,o,s,r){return(0,a.wg)(),(0,a.iD)("form",Wo,[(0,a._)("input",{type:"hidden",name:"data",value:r.value},null,8,Vo),(0,a._)("button",Ko,[(0,a._)("span",{class:"codepen-icon",style:(0,i.j5)(s.buttonStyle)},null,4),(0,a.Uk)(" Export to CodePen ")])])}n(5306);function Ho(e){for(var t=e.layers,n=e.selector,o=void 0===n?"body":n,a="html {\n  height: 100%;\n  width: 100%;\n}\n",i=0,s=["main","before","after"];i<s.length;i++){var r=s[i];if(Fo({layerName:r,layers:t})){a+="main"===r?o:o+":"+r,a+=" {\n";var p=$o({layerName:r,layers:t});a+=p;var c=qo({layerName:r,layers:t});a+=B(c,"  "),a+="}\n"}}return a}function qo(e){var t=e.layerName,n=e.layers;return n[t].shapes}function Fo(e){var t=e.layerName,n=e.layers;return n[t].active}function $o(e){var t=e.layerName,n=e.layers,o=n[t].extraStyles||"";return"  "+o.replace(/\n[^$]/g,(function(e,t){return"\n  "+o[t+1]}))}var Go=JSON.parse('[{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top left","stops":[{"color":"transparent","id":"12baa591-6709-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"12baa592-6709-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"12baa593-6709-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"12baa594-6709-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"12baa595-6709-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":0},"top":{"units":"px","value":0},"id":"12baa590-6709-11ea-9f06-cd94d7526e2a"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"white","position":"0%","id":"b1446e80-6709-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"100%","id":"b1446e81-6709-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":2},"height":{"units":"px","value":5},"left":{"units":"px","value":11},"top":{"units":"px","value":2},"id":"b1444770-6709-11ea-9f06-cd94d7526e2a"},{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top right","stops":[{"color":"transparent","id":"dc7a06e1-670a-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"dc7a06e2-670a-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"dc7a06e3-670a-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"dc7a06e4-670a-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"dc7a06e5-670a-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":11},"top":{"units":"px","value":0},"id":"dc7a06e0-670a-11ea-9f06-cd94d7526e2a"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"white","position":"0%","id":"0d5ea8b0-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"100%","id":"0d5ea8b1-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":2},"height":{"units":"px","value":7},"left":{"units":"px","value":0},"top":{"units":"px","value":8},"id":"0d5e81a1-670b-11ea-9f06-cd94d7526e2a"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"white","position":"0%","id":"138e8572-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"100%","id":"138e8573-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":2},"height":{"units":"px","value":6},"left":{"units":"px","value":22},"top":{"units":"px","value":8},"id":"138e8571-670b-11ea-9f06-cd94d7526e2a"},{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top right","stops":[{"color":"transparent","id":"2d684211-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"2d684212-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"2d684213-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"2d684214-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"2d684215-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":11},"top":{"units":"px","value":7},"id":"2d684210-670b-11ea-9f06-cd94d7526e2a"},{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top left","stops":[{"color":"transparent","id":"2ff1ac12-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"2ff1ac13-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"2ff1ac14-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"2ff1ac15-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"2ff1ac16-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":0},"top":{"units":"px","value":7},"id":"2ff1ac11-670b-11ea-9f06-cd94d7526e2a"},{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top right","stops":[{"color":"transparent","id":"4447d182-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"4447d183-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"4447d184-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"4447d185-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"4447d186-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":0},"top":{"units":"px","value":7},"id":"4447d181-670b-11ea-9f06-cd94d7526e2a"},{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top left","stops":[{"color":"transparent","id":"6a1406e2-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"6a1406e3-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"6a1406e4-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"6a1406e5-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"6a1406e6-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":11},"top":{"units":"px","value":7},"id":"6a1406e1-670b-11ea-9f06-cd94d7526e2a"},{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top left","stops":[{"color":"transparent","id":"6d2c4361-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"6d2c4362-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"6d2c4363-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"6d2c4364-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"6d2c4365-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":11},"top":{"units":"px","value":15},"id":"6d2c4360-670b-11ea-9f06-cd94d7526e2a"},{"name":"Cropped stripe, bottom right to top left","type":"linear","direction":"to top right","stops":[{"color":"transparent","id":"705ee5b2-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"43%","id":"705ee5b3-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"43%","id":"705ee5b4-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"57%","id":"705ee5b5-670b-11ea-9f06-cd94d7526e2a"},{"color":"transparent","position":"57%","id":"705ee5b6-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":13},"height":{"units":"px","value":8},"left":{"units":"px","value":0},"top":{"units":"px","value":15},"id":"705ee5b1-670b-11ea-9f06-cd94d7526e2a"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"white","position":"0%","id":"7719eb71-670b-11ea-9f06-cd94d7526e2a"},{"color":"white","position":"100%","id":"7719eb72-670b-11ea-9f06-cd94d7526e2a"}],"width":{"units":"px","value":2},"height":{"units":"px","value":6},"left":{"units":"px","value":11},"top":{"units":"px","value":15},"id":"7719eb70-670b-11ea-9f06-cd94d7526e2a"}]'),Jo={data:function(){return{buttonStyle:B(Go)}},computed:{value:function(){return JSON.stringify({css:Ho({layers:this.shapesLayers}),editors:"010",layout:"left",title:this.projectName})},projectName:function(){return ri.getters.currentProject.name},shapesLayers:function(){return ri.getters.allLayers}}};const Yo=(0,F.Z)(Jo,[["render",Eo],["__scopeId","data-v-0c801ebc"]]);var Xo=Yo,Qo={components:{ExportToCodePenButton:Xo},methods:{close:function(){this.$router.push({name:"editor"})}}};const ea=(0,F.Z)(Qo,[["render",Ro],["__scopeId","data-v-1af993aa"]]);var ta=ea,na={class:"output-code"};function oa(e,t,n,o,i,s){var r=(0,a.up)("codemirror"),p=(0,a.up)("CopyButton");return(0,a.wg)(),(0,a.iD)("div",na,[(0,a.Wm)(r,{modelValue:s.cssCode,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.cssCode=e}),height:"auto",extensions:i.extensions,mode:"css",disabled:!0,"line-wrapping":!0,class:"code-editor code-editor-css-output"},null,8,["modelValue","extensions"]),(0,a.Wm)(p,{content:s.cssCode,class:"copy-output-to-clipboard"},null,8,["content"])])}var aa=n(3732);function ia(e,t,n,o,s,r){var p=(0,a.Q2)("clipboard");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{title:"Copy to clipboard",style:(0,i.j5)(s.style)},[(0,a.Uk)(" Copy ")],4)),[[p,n.content,"copy"]])}var sa=JSON.parse('[{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"#9e9e9e","position":"100%","id":"db9b8482-a515-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":""}],"width":{"units":"px","value":7},"height":{"units":"px","value":2},"left":{"units":"px","value":8},"top":{"units":"px","value":5},"id":"db9b8480-a515-11ea-aee9-d1a64d00b111"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"#9e9e9e","position":"100%","id":"401960d0-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"","id":"401960d1-a516-11ea-aee9-d1a64d00b111"}],"width":{"units":"px","value":7},"height":{"units":"px","value":2},"left":{"units":"px","value":12},"top":{"units":"px","value":9},"id":"401939c1-a516-11ea-aee9-d1a64d00b111"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"#9e9e9e","position":"100%","id":"43401c42-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"","id":"43401c43-a516-11ea-aee9-d1a64d00b111"}],"width":{"units":"px","value":2},"height":{"units":"px","value":11},"left":{"units":"px","value":5},"top":{"units":"px","value":8},"id":"43401c41-a516-11ea-aee9-d1a64d00b111"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"#9e9e9e","position":"100%","id":"4c3a1582-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"","id":"4c3a1583-a516-11ea-aee9-d1a64d00b111"}],"width":{"units":"px","value":2},"height":{"units":"px","value":11},"left":{"units":"px","value":9},"top":{"units":"px","value":12},"id":"4c3a1581-a516-11ea-aee9-d1a64d00b111"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"#9e9e9e","position":"100%","id":"586662f2-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"","id":"586662f3-a516-11ea-aee9-d1a64d00b111"}],"width":{"units":"px","value":2},"height":{"units":"px","value":11},"left":{"units":"px","value":20},"top":{"units":"px","value":12},"id":"586662f1-a516-11ea-aee9-d1a64d00b111"},{"name":"Bottom left arc","type":"radial","direction":"at top right","stops":[{"color":"transparent","position":"1px","id":"6a1cfe51-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"1px","id":"6a1cfe52-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"3px","id":"6a1cfe53-a516-11ea-aee9-d1a64d00b111"},{"color":"transparent","position":"3px","id":"6a1cfe54-a516-11ea-aee9-d1a64d00b111"}],"repeat":"no-repeat","width":{"units":"px","value":3},"height":{"units":"px","value":3},"left":{"units":"px","value":9},"top":{"units":"px","value":23},"id":"6a1cfe50-a516-11ea-aee9-d1a64d00b111"},{"name":"Rectangle","type":"linear","direction":"to bottom","stops":[{"color":"#9e9e9e","position":"100%","id":"6c1b6662-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"","id":"6c1b6663-a516-11ea-aee9-d1a64d00b111"}],"width":{"units":"px","value":7},"height":{"units":"px","value":2},"left":{"units":"px","value":12},"top":{"units":"px","value":24},"id":"6c1b6661-a516-11ea-aee9-d1a64d00b111"},{"name":"Bottom left arc","type":"radial","direction":"at top left","stops":[{"color":"transparent","position":"1px","id":"cf9f2b41-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"1px","id":"cf9f2b42-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"3px","id":"cf9f2b43-a516-11ea-aee9-d1a64d00b111"},{"color":"transparent","position":"3px","id":"cf9f2b44-a516-11ea-aee9-d1a64d00b111"}],"repeat":"no-repeat","width":{"units":"px","value":3},"height":{"units":"px","value":3},"left":{"units":"px","value":19},"top":{"units":"px","value":23},"id":"cf9f2b40-a516-11ea-aee9-d1a64d00b111"},{"name":"Bottom left arc","type":"radial","direction":"at bottom left","stops":[{"color":"transparent","position":"1px","id":"d9c1c601-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"1px","id":"d9c1c602-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"3px","id":"d9c1c603-a516-11ea-aee9-d1a64d00b111"},{"color":"transparent","position":"3px","id":"d9c1c604-a516-11ea-aee9-d1a64d00b111"}],"repeat":"no-repeat","width":{"units":"px","value":3},"height":{"units":"px","value":3},"left":{"units":"px","value":19},"top":{"units":"px","value":9},"id":"d9c1c600-a516-11ea-aee9-d1a64d00b111"},{"name":"Bottom left arc","type":"radial","direction":"at bottom right","stops":[{"color":"transparent","position":"1px","id":"e4e248c2-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"1px","id":"e4e248c3-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"3px","id":"e4e248c4-a516-11ea-aee9-d1a64d00b111"},{"color":"transparent","position":"3px","id":"e4e248c5-a516-11ea-aee9-d1a64d00b111"}],"repeat":"no-repeat","width":{"units":"px","value":3},"height":{"units":"px","value":3},"left":{"units":"px","value":9},"top":{"units":"px","value":9},"id":"e4e248c1-a516-11ea-aee9-d1a64d00b111"},{"name":"Bottom left arc","type":"radial","direction":"at bottom right","stops":[{"color":"transparent","position":"1px","id":"eef30932-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"1px","id":"eef30933-a516-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"3px","id":"eef30934-a516-11ea-aee9-d1a64d00b111"},{"color":"transparent","position":"3px","id":"eef30935-a516-11ea-aee9-d1a64d00b111"}],"repeat":"no-repeat","width":{"units":"px","value":3},"height":{"units":"px","value":3},"left":{"units":"px","value":5},"top":{"units":"px","value":5},"id":"eef30931-a516-11ea-aee9-d1a64d00b111"},{"name":"Bottom left arc","type":"radial","direction":"at top right","stops":[{"color":"transparent","position":"1px","id":"242644a2-a517-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"1px","id":"242644a3-a517-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"3px","id":"242644a4-a517-11ea-aee9-d1a64d00b111"},{"color":"transparent","position":"3px","id":"242644a5-a517-11ea-aee9-d1a64d00b111"}],"repeat":"no-repeat","width":{"units":"px","value":3},"height":{"units":"px","value":3},"left":{"units":"px","value":5},"top":{"units":"px","value":19},"id":"242644a1-a517-11ea-aee9-d1a64d00b111"},{"name":"Bottom left arc","type":"radial","direction":"at bottom left","stops":[{"color":"transparent","position":"1px","id":"2bbf4e52-a517-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"1px","id":"2bbf4e53-a517-11ea-aee9-d1a64d00b111"},{"color":"#9e9e9e","position":"3px","id":"2bbf4e54-a517-11ea-aee9-d1a64d00b111"},{"color":"transparent","position":"3px","id":"2bbf4e55-a517-11ea-aee9-d1a64d00b111"}],"repeat":"no-repeat","width":{"units":"px","value":3},"height":{"units":"px","value":3},"left":{"units":"px","value":15},"top":{"units":"px","value":5},"id":"2bbf4e51-a517-11ea-aee9-d1a64d00b111"}]'),ra={props:{content:String},data:function(){return{style:sa instanceof Array?B(sa):""}}};const pa=(0,F.Z)(ra,[["render",ia],["__scopeId","data-v-9f2a64ae"]]);var ca=pa,ua={components:{Codemirror:lt.Z1,CopyButton:ca},computed:{cssCode:function(){return Ho({layers:this.shapesLayers})},shapesLayers:function(){return ri.getters.allLayers}},data:function(){return{extensions:[(0,dt.iv)(),aa.vk]}},methods:{close:function(){this.$router.push({name:"editor"})}}};const la=(0,F.Z)(ua,[["render",oa]]);var da=la,ha={class:"output-code"};function fa(e,t,n,o,i,s){var r=(0,a.up)("codemirror"),p=(0,a.up)("CopyButton");return(0,a.wg)(),(0,a.iD)("div",ha,[(0,a.Wm)(r,{modelValue:s.jsonResult,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.jsonResult=e}),height:"auto",extensions:i.extensions,mode:"json","line-wrapping":!0,disabled:!0,class:"code-editor code-editor-json-output"},null,8,["modelValue","extensions"]),(0,a.Wm)(p,{content:s.jsonResult,class:"copy-output-to-clipboard"},null,8,["content"])])}var va=n(4732),ma={components:{Codemirror:lt.Z1,CopyButton:ca},computed:{jsonResult:function(){return JSON.stringify(ri.getters.allLayers,null,2)}},data:function(){return{extensions:[(0,va.AV)(),aa.vk]}}};const ya=(0,F.Z)(ma,[["render",fa]]);var ga=ya,ba=[{path:"/",name:"gallery",component:ne},{path:"/about",name:"about",component:Ao},{path:"/i/:id",name:"editor",component:Io,children:[{path:"result",component:ta,name:"result",redirect:{name:"css-result"},children:[{path:"css",component:da,name:"css-result"},{path:"json",component:ga,name:"json-result"}]}]}],wa=(0,h.p7)({history:(0,h.PO)(),routes:ba}),Sa=wa,xa=(n(4553),n(561),n(3570)),ka=n.n(xa);function Pa(e){console.warn(e)}var Ca="deepdiv";function ja(e){var t=JSON.parse(localStorage.getItem(Ia(e)));return Promise.resolve(t)}function _a(e,t){return localStorage.setItem(Ia(e),JSON.stringify(t)),Promise.resolve(t)}function La(e){return localStorage.removeItem(e),Promise.resolve(Ia(e))}function Ia(e){return"".concat(Ca,".").concat(e)}var Ma={get:ja,set:_a,remove:La},Da={state:{currentProject:null,projects:[]},getters:{currentProject:function(e){return e.currentProject},projectById:function(e){return function(t){return e.projects.find((function(e){return e.id===t}))}},projects:function(e){return e.projects},shapesLayersByProjectId:function(e,t){return function(e){return(0,se.get)(t.projectById(e),"shapes")}}},mutations:{createNewProject:function(e,t){e.projects=e.projects.concat([{id:t}])},removeProject:function(e,t){var n=e.projects.findIndex((function(e){return e.id===t.id}));-1<n?e.projects.splice(n,1):Pa("Project to be removed not found")},setCurrentProject:function(e,t){e.currentProject=t},setProjects:function(e,t){e.projects=t},updateProject:function(e,t){var n=t.project,o=t.newProps,a=void 0===o?{}:o;for(var i in a)n[i]=a[i]}},actions:{createNewProject:function(e){return(0,I.Z)((0,L.Z)().mark((function t(){var n,o,a;return(0,L.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,o=e.getters,a=ka()(),n("createNewProject",a),t.next=5,Ma.set("divs",o.projects);case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))()},duplicateProject:function(e,t){return(0,I.Z)((0,L.Z)().mark((function n(){var o,a,i,s,r,p;return(0,L.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.commit,a=e.dispatch,i=e.getters,n.next=3,a("createNewProject");case 3:return s=n.sent,r=i.projectById(s),p=i.shapesLayersByProjectId(t.id),o("updateProject",{project:r,newProps:{shapes:p}}),n.abrupt("return",Ma.set("divs",i.projects));case 8:case"end":return n.stop()}}),n)})))()},loadProjectById:function(e,t){var n=e.dispatch,o=e.getters;return n("loadProjects").then((function(){var e=o.projectById(t),a=(0,se.get)(e,"shapes");return n("setCurrentProject",e),n("setShapes",a)}))},loadProjects:function(e){var t=e.commit;return Ma.get("divs").then((function(e){return t("setProjects",e||[])}))},updateProject:function(e,t){var n=e.commit,o=e.getters,a=(0,se.get)(t,"project",o.currentProject),i=(0,se.get)(t,"newProps",{shapes:o.allLayers});return n("updateProject",{project:a,newProps:i}),Ma.set("divs",o.projects)},removeProject:function(e,t){var n=e.commit,o=e.getters;return n("removeProject",t),Ma.set("divs",o.projects)},setCurrentProject:function(e,t){var n=e.commit;return n("setCurrentProject",t)}}},Ta=Da,Ba=n(2078),Za=n(3336);n(4747),n(2479),n(7941);function Aa(e){var t=e.left,n=e.shape,o=e.top,a={left:(0,he.Z)({},n.left),top:(0,he.Z)({},n.top),width:(0,he.Z)({},n.width),height:(0,he.Z)({},n.height)};return void 0!==t&&(a.left.value=t.value),void 0!==o&&(a.top.value=o.value),a}function Na(e){var t=e.left,n=e.shape,o=e.top,a={left:(0,he.Z)({},n.left),top:(0,he.Z)({},n.top),width:(0,he.Z)({},n.width),height:(0,he.Z)({},n.height)};return"object"!==(0,Za.Z)(t)||t.units!==a.left.units&&t.units||(a.left.value+=t.value),"object"!==(0,Za.Z)(o)||o.units!==a.top.units&&o.units||(a.top.value+=o.value),a}var Ua=n(6084);n(2707);function Oa(e){var t=e.snapPointsSorted,n=e.point;return{x:za({snapPointsSorted:t.x,point:n.x}),y:za({snapPointsSorted:t.y,point:n.y})}}function za(e){var t=e.snapPointsSorted,n=void 0===t?[]:t,o=e.point,a=e.start,i=void 0===a?0:a,s=e.end,r=void 0===s?n.length-1:s;if(!(r<i)){if(i==r)return n[i];if(r-i===1){var p=n[i],c=n[r],u=qa({snapPoint:p,number:o}),l=qa({snapPoint:c,number:o});return u<=l?p:c}var d=i+Math.floor((r-i)/2),h=d+1,f=n[d],v=n[h],m=qa({snapPoint:f,number:o}),y=qa({snapPoint:v,number:o}),g=m<=y?[i,d]:[h,r],b=(0,Ua.Z)(g,2),w=b[0],S=b[1];return za({snapPointsSorted:n,point:o,start:w,end:S})}}function Ra(e){var t,n=e.shapes,o=e.excluded,a={x:[],y:[]},i=(0,D.Z)(n);try{for(i.s();!(t=i.n()).done;){var s=t.value;s!==o&&(a.x.push({shape:s,value:s.left.value,property:"left"}),a.x.push({shape:s,value:s.left.value+s.width.value,property:"right"}),a.y.push({shape:s,value:s.top.value,property:"top"}),a.y.push({shape:s,value:s.top.value+s.height.value,property:"bottom"}))}}catch(r){i.e(r)}finally{i.f()}return a.x.sort((function(e,t){return e.value-t.value})),a.y.sort((function(e,t){return e.value-t.value})),a}function Wa(e){var t=e.shape,n=e.snapPoints,o=e.threshold;return{x:Va({shape:t,snapPoints:n.x,threshold:o}),y:Ka({shape:t,snapPoints:n.y,threshold:o})}}function Va(e){var t=e.shape,n=e.snapPoints,o=e.threshold;if(n&&n.length){var a=za({snapPointsSorted:n,point:t.left.value}),i=Math.abs(t.left.value-a.value),s=za({snapPointsSorted:n,point:t.left.value+t.width.value}),r=Math.abs(t.left.value+t.width.value-s.value);if(i<=r){if(i<=o)return{location:"left",point:a}}else if(r<=o)return{location:"right",point:s}}}function Ka(e){var t=e.shape,n=e.snapPoints,o=e.threshold;if(n&&n.length){var a=za({snapPointsSorted:n,point:t.top.value}),i=Math.abs(t.top.value-a.value),s=za({snapPointsSorted:n,point:t.top.value+t.height.value}),r=Math.abs(t.top.value+t.height.value-s.value);if(i<=r){if(i<=o)return{location:"top",point:a}}else if(r<=o)return{location:"bottom",point:s}}}function Ea(e){var t=e.shape,n=e.snap,o=(0,he.Z)({},t);if(n)switch(n.location){case"top":o.top.value=n.point.value;break;case"right":o.left.value=n.point.value-t.width.value;break;case"bottom":o.top.value=n.point.value-t.height.value;break;case"left":o.left.value=n.point.value;break}return o}function Ha(e){var t=e.shape,n=e.snaps,o=Ea({shape:t,snap:n.x});return Ea({shape:o,snap:n.y})}function qa(e){var t=e.snapPoint,n=e.number;return Math.abs(t.value-n)}var Fa=["shape"],$a=["shape","stop"],Ga=["shape","propertyNames"],Ja=["shape","round"],Ya=["shape","stop"];function Xa(){return{main:{active:!0,extraStyles:"width: 100%;\nheight: 100%;\nposition: relative;\nmargin: 0 auto;\nbackground-color: white;\n",shapes:[]},before:{active:!1,extraStyles:'position: absolute;\ntop: 0;\nleft: 0;\nright: 0;\nbottom: 0;\ndisplay: block;\ncontent: "";\n',shapes:[]},after:{active:!1,extraStyles:'position: absolute;\ntop: 0;\nleft: 0;\nright: 0;\nbottom: 0;\ndisplay: block;\ncontent: "";\n',shapes:[]}}}var Qa={state:{layers:Xa(),round:!0,shapeToBeAdded:null},mutations:{addNewStop:function(e,t){var n=t.shape,o=t.index,a=n.stops[n.stops.length-1],i={color:a.color,id:ka()(),position:""};"number"===typeof o?n.stops.splice(o,0,i):n.stops.push(i)},addShape:function(e,t){var n=t.layerName,o=t.shape;(0,se.get)(o,"stops",[]).forEach((function(e){return e.id=ka()()})),e.layers[n].shapes.push(o)},moveShapeBy:function(e,t){var n=t.shape,o=t.left,a=t.top;"object"===(0,Za.Z)(o)&&o.units===n.left.units&&(n.left.value+=o.value),"object"===(0,Za.Z)(a)&&a.units===n.top.units&&(n.top.value+=a.value),e.layers=(0,he.Z)({},e.layers)},removeShape:function(e,t){for(var n=0,o=Object.values(e.layers);n<o.length;n++){var a=o[n],i=a.shapes.findIndex((function(e){return e===t}));if(-1!==i){a.shapes.splice(i,1);break}}e.layers=(0,he.Z)({},e.layers)},removeStop:function(e,t){var n=t.shape,o=t.index;n.stops.splice(o,1)},resizeShape:function(e,t){var n=t.shape,o=t.initialShapeProps,a=void 0===o?(0,he.Z)({},n):o,i=t.direction,s=t.diff;if(i.includes("top")){var r=a.top.value+a.height.value;n.top.value=Math.min(a.top.value+s.top,r),n.height.value=r-n.top.value}if(i.includes("left")){var p=a.left.value+a.width.value;n.left.value=Math.min(a.left.value+s.left,p),n.width.value=p-n.left.value}i.includes("right")&&(n.width.value=Math.max(0,a.width.value+s.left)),i.includes("bottom")&&(n.height.value=Math.max(0,a.height.value+s.top)),e.layers=(0,he.Z)({},e.layers)},roundShapeProperty:function(e,t){var n=t.shape,o=t.propertyName;if(e.round){var a=(0,se.get)(n,o);a&&(0,se.isObject)(a)?a.value=Math.round(a.value):Pa("Property ".concat(o," of shape is not an object"))}},setExtraStyles:function(e,t){var n=t.layerName,o=t.styles;e.layers[n].extraStyles=o},setLayers:function(e,t){e.layers=t},setShapes:function(e,t){e.layers=(0,he.Z)((0,he.Z)({},Xa()),t)},setShapeToBeAdded:function(e,t){e.shapeToBeAdded=ei(t)},swapLayerShapes:function(e,t){var n=t.layerName,o=t.sourceIndex,a=t.targetIndex,i=e.layers[n].shapes,s=i[o],r=i[a];i[o]=r,i[a]=s,e.layers[n].shapes=(0,T.Z)(i)},swapStops:function(e,t){var n=t.shape,o=t.sourceIndex,a=t.targetIndex,i=n.stops,s=i[o],r=i[a];i[o]=r,i[a]=s,e.layers=(0,he.Z)({},e.layers)},toggleLayer:function(e,t){e.layers[t].active=!e.layers[t].active},unsetShapeToBeAdded:function(e){e.shapeToBeAdded=null},updateShape:function(e,t){var n=t.shape,o=(0,Ba.Z)(t,Fa);for(var a in o)(0,se.isObject)(n[a])&&(0,se.isObject)(o[a])?n[a]=(0,he.Z)((0,he.Z)({},n[a]),o[a]):n[a]=o[a]},updateShapeStop:function(e,t){var n=t.shape,o=t.stop,a=(0,Ba.Z)(t,$a);for(var i in a)(0,se.isObject)(o[i])&&(0,se.isObject)(a[i])?o[i]=(0,he.Z)((0,he.Z)({},o[i]),a[i]):o[i]=a[i];n.stops=(0,T.Z)(n.stops)}},getters:{allLayers:function(e){return e.layers},extraStyles:function(e){return function(t){return e.layers[t].extraStyles||""}},isLayerActive:function(e){return function(t){return(0,se.get)(e,"layers[".concat(t,"].active"),!1)}},layerIdFromShape:function(e){return function(t){return Object.keys(e.layers).find((function(n){return e.layers[n].shapes.includes(t)}))}},layerShapes:function(e){return function(t){return(0,se.get)(e,"layers[".concat(t,"].shapes"),[])}},shapes:function(e,t){for(var n=[],o=0,a=["main","before","active"];o<a.length;o++){var i=a[o],s=t.isLayerActive(i);s&&(n=n.concat(t.layerShapes(i)))}return n},shapeToBeAdded:function(e){return e.shapeToBeAdded},visibleShapes:function(e,t){for(var n=[],o=0,a=["main","before","active"];o<a.length;o++){var i=a[o],s=t.isLayerActive(i);s&&(n=n.concat(t.layerShapes(i)))}return e.shapeToBeAdded&&"number"===typeof(0,se.get)(e,"shapeToBeAdded.top.value")&&"number"===typeof(0,se.get)(e,"shapeToBeAdded.left.value")&&"number"===typeof(0,se.get)(e,"shapeToBeAdded.width.value")&&"number"===typeof(0,se.get)(e,"shapeToBeAdded.height.value")&&n.push(e.shapeToBeAdded),n}},actions:{addNewStop:function(e,t){var n=e.commit,o=e.dispatch,a=t.shape,i=t.index;n("addNewStop",{shape:a,index:i}),o("updateProject")},addShape:function(e,t){var n=e.commit,o=e.dispatch,a=e.getters,i=t.layerName,s=void 0===i?a.selectedLayer:i,r=t.shape,p=void 0===r?a.shapeToBeAdded:r,c=ti(p);return n("addShape",{layerName:s,shape:c}),n("unsetShapeToBeAdded"),o("updateProject"),c},addShapes:function(e,t){var n,o=e.commit,a=e.getters,i=t.layerName,s=void 0===i?a.selectedLayer:i,r=t.shapes,p=[],c=(0,D.Z)(r);try{for(c.s();!(n=c.n()).done;){var u=n.value,l=ti(u);o("addShape",{layerName:s,shape:l}),p.push(l)}}catch(d){c.e(d)}finally{c.f()}return p},duplicateSelectedShapes:function(e){var t,n=e.dispatch,o=e.getters,a=[],i=(0,D.Z)(o.selectedShapes);try{for(i.s();!(t=i.n()).done;){var s=t.value,r=ti(ei(s)),p=Na({shape:r,top:{value:10},left:{value:10}});r.left=p.left,r.top=p.top,a.push(r)}}catch(c){i.e(c)}finally{i.f()}n("addShapes",{shapes:a}).then((function(e){n("commitChange"),n("selectShapes",{shapes:e})}))},moveShape:function(e,t){var n=e.commit,o=e.dispatch,a=e.getters,i=t.shape,s=t.left,r=t.top,p=Aa({left:s,shape:i,top:r});if(a.snap&&a.snapPoints&&a.snapPoints.x.length){var c=Wa({shape:p,snapPoints:a.snapPoints,threshold:a.snapThreshold});o("setCurrentSnaps",c);var u=Ha({shape:p,snaps:c}),l=[];p.left.value===u.left.value&&l.push("left"),p.top.value===u.top.value&&l.push("top"),l.length?o("roundShapeProperties",{shape:u,propertyNames:l}).then((function(){n("updateShape",{shape:i,left:u.left,top:u.top})})):n("updateShape",{shape:i,left:u.left,top:u.top})}else o("roundShapeProperties",{shape:p,propertyNames:["top","left"]}).then((function(){n("updateShape",{shape:i,left:p.left,top:p.top})}))},moveShapeBy:function(e,t){var n=e.commit,o=e.dispatch,a=t.shape,i=t.left,s=t.top;a&&(n("moveShapeBy",{shape:a,left:i,top:s}),o("roundShapeProperties",{shape:a,left:i,top:s}).then((function(){o("setCurrentSnaps"),o("commitChange")})))},moveShapesBy:function(e,t){var n,o=e.commit,a=e.dispatch,i=t.shapes,s=t.left,r=t.top,p=(0,D.Z)(i);try{for(p.s();!(n=p.n()).done;){var c=n.value;o("moveShapeBy",{shape:c,left:s,top:r})}}catch(u){p.e(u)}finally{p.f()}a("setCurrentSnaps"),a("commitChange")},removeSelectedShape:function(e){var t=e.dispatch,n=e.getters;t("removeShape",n.selectedShape),t("unselectShape")},removeSelectedShapes:function(e){var t,n=e.commit,o=e.dispatch,a=e.getters,i=(0,D.Z)(a.selectedShapes);try{for(i.s();!(t=i.n()).done;){var s=t.value;n("removeShape",s)}}catch(r){i.e(r)}finally{i.f()}o("unselectShape"),o("commitChange")},removeShape:function(e,t){var n=e.commit,o=e.dispatch;n("removeShape",t),o("commitChange")},removeStop:function(e,t){var n=e.commit,o=e.dispatch,a=t.shape,i=t.index;n("removeStop",{shape:a,index:i}),o("commitChange")},resizeShape:function(e,t){var n=e.commit,o=e.dispatch,a=t.diff,i=t.direction,s=t.initialShapeProps,r=t.shape;n("resizeShape",{diff:a,direction:i,initialShapeProps:s,shape:r}),o("roundShapeProperties",(0,he.Z)({shape:r},s))},roundShapeProperties:function(e,t){var n=e.commit,o=t.shape,a=t.propertyNames,i=(0,Ba.Z)(t,Ga);if(a instanceof Array){var s,r=(0,D.Z)(a);try{for(r.s();!(s=r.n()).done;){var p=s.value;n("roundShapeProperty",{shape:o,propertyName:p})}}catch(u){r.e(u)}finally{r.f()}}if(i)for(var c in i)void 0!==i[c]&&n("roundShapeProperty",{shape:o,propertyName:c})},setExtraStyles:function(e,t){var n=e.commit,o=t.layerName,a=t.styles;n("setExtraStyles",{layerName:o,styles:a})},setLayers:function(e,t){var n=e.commit;n("setLayers",t)},setShapes:function(e,t){var n=e.commit;n("setShapes",t)},setShapeToBeAdded:function(e,t){var n=e.commit;n("setShapeToBeAdded",t)},swapLayerShapes:function(e,t){var n=e.commit,o=t.layerName,a=t.sourceIndex,i=t.targetIndex;n("swapLayerShapes",{layerName:o,sourceIndex:a,targetIndex:i})},swapStops:function(e,t){var n=e.commit,o=t.shape,a=t.sourceIndex,i=t.targetIndex;n("swapStops",{shape:o,sourceIndex:a,targetIndex:i})},toggleLayer:function(e,t){var n=e.commit,o=e.dispatch;n("toggleLayer",t),o("updateProject")},updateShape:function(e,t){var n=e.commit,o=e.dispatch,a=t.shape,i=t.round,s=void 0===i||i,r=(0,Ba.Z)(t,Ja);n("updateShape",(0,he.Z)({shape:a},r)),s?o("roundShapeProperties",{shape:a,propertyNames:["left","top"]}).then((function(){return o("updateProject")})):o("updateProject")},updateShapeStop:function(e,t){var n=e.commit,o=e.dispatch,a=t.shape,i=t.stop,s=(0,Ba.Z)(t,Ya);n("updateShapeStop",(0,he.Z)({shape:a,stop:i},s)),o("updateProject")}}};function ei(e){return JSON.parse(JSON.stringify(e))}function ti(e){return(0,he.Z)((0,he.Z)({},e),{},{id:ka()()})}var ni=Qa,oi={state:{currentSnaps:{},snap:!0,snapPoints:{x:[],y:[]},snapThreshold:5},getters:{currentSnaps:function(e){return e.currentSnaps},snap:function(e){return e.snap},snapPoint:function(e){return function(t){return Oa({snapPointsSorted:e.snapPoints,point:t})}},snapPoints:function(e){return e.snapPoints},snapThreshold:function(e){return e.snapThreshold}},mutations:{generateSnapPoints:function(e,t){var n=t.shapes,o=t.excluded;e.snapPoints=Ra({shapes:n,excluded:o})},setCurrentSnaps:function(e,t){e.currentSnaps=t},setSnapThreshold:function(e,t){e.snapThreshold=t},toggleSnap:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!e.snap;e.snap=t}},actions:{generateSnapPoints:function(e){var t=e.commit,n=e.getters;t("generateSnapPoints",{shapes:n.shapes,excluded:n.selectedShape})},setCurrentProject:function(e){var t=e.dispatch;t("generateSnapPoints")},setCurrentSnaps:function(e,t){var n=e.commit;n("setCurrentSnaps",t)},setSnapThreshold:function(e,t){var n=e.commit;n("setSnapThreshold",t)},toggleSnap:function(e,t){var n=e.commit;n("toggleSnap",t)},updateProject:function(e){var t=e.dispatch;t("generateSnapPoints")}}},ai=(n(1038),{state:{colorPickerPosition:null,copiedShapes:[],currentColor:"black",lineThickness:"4px",openColorPickerId:null,pressedKeys:new Set,selectedLayer:"main",selectedShape:null,selectedShapes:new Set,showOutput:!1},mutations:{addPressedKey:function(e,t){e.pressedKeys.add(t),e.pressedKeys=new Set(e.pressedKeys)},copyShapes:function(e,t){e.copiedShapes=t.map((function(e){return ge(e)}))},removePressedKey:function(e,t){e.pressedKeys.delete(t),e.pressedKeys=new Set(e.pressedKeys)},selectColor:function(e,t){e.currentColor=t},selectLayer:function(e,t){e.selectedLayer=t},selectShape:function(e,t){var n=t.shape,o=t.keepSelection;o?e.selectedShapes.has(n)?e.selectedShapes.delete(n):e.selectedShapes.add(n):(e.selectedShapes=new Set,n&&e.selectedShapes.add(n)),e.selectedShapes=new Set(e.selectedShapes)},selectShapes:function(e,t){var n=t.shapes,o=t.keepSelection,a=void 0!==o&&o;a||(e.selectedShapes=new Set);var i,s=(0,D.Z)(n);try{for(s.s();!(i=s.n()).done;){var r=i.value;e.selectedShapes.add(r)}}catch(p){s.e(p)}finally{s.f()}e.selectedShapes=new Set(e.selectedShapes)},setColorPickerPosition:function(e,t){e.colorPickerPosition=t},setLineThickness:function(e,t){e.lineThickness=t},setOpenColorPickerId:function(e,t){e.openColorPickerId=t},toggleOutput:function(e,t){e.showOutput=void 0===t?!e.showOutput:t},unselectShape:function(e,t){e.selectedShapes.delete(t)}},getters:{colorPickerPosition:function(e){return e.colorPickerPosition},copiedShapes:function(e){return e.copiedShapes},currentColor:function(e){return e.currentColor},isKeyPressed:function(e){return function(t){return e.pressedKeys.has(t)}},isShapeSelected:function(e){return function(t){return e.selectedShapes.has(t)}},lineThickness:function(e){return e.lineThickness},openColorPickerId:function(e){return e.openColorPickerId},selectedLayer:function(e){return e.selectedLayer},selectedShape:function(e){return 1===e.selectedShapes.size?Array.from(e.selectedShapes)[0]:void 0},selectedShapes:function(e){return Array.from(e.selectedShapes)},selectMultiple:function(e){return e.pressedKeys.has("Shift")},showOutput:function(e){return e.showOutput}},actions:{addPressedKey:function(e,t){var n=e.commit;n("addPressedKey",t)},copyShapes:function(e){var t=e.commit,n=e.getters,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.selectedShapes;t("copyShapes",o)},cutShapes:function(e){var t=e.commit,n=e.dispatch,o=e.getters,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedShapes;t("copyShapes",a),n("removeSelectedShapes")},pasteShapes:function(e){var t=e.dispatch,n=e.getters;t("addShapes",{shapes:n.copiedShapes}).then((function(e){t("commitChange"),t("selectShapes",{shapes:e})}))},removePressedKey:function(e,t){var n=e.commit;n("removePressedKey",t)},setColorPickerPosition:function(e,t){var n=e.commit;n("setColorPickerPosition",t)},selectAllShapes:function(e){var t=e.commit,n=e.getters,o=n.selectedLayer;if(n.isLayerActive(o)){var a=n.layerShapes(o);t("selectShapes",{shapes:a})}},selectColor:function(e,t){var n=e.commit;n("selectColor",t)},selectLayer:function(e,t){var n=e.commit;n("selectLayer",t)},selectShape:function(e,t){var n=e.commit,o=e.getters,a=e.dispatch,i=t.shape,s=t.keepSelection;n("selectShape",{shape:i,keepSelection:s});var r=o.layerIdFromShape(i);return a("selectLayer",r)},selectShapes:function(e,t){var n=e.commit,o=t.shapes,a=t.keepSelection;n("selectShapes",{shapes:o,keepSelection:a})},setLineThickness:function(e,t){var n=e.commit;n("setLineThickness",t)},setOpenColorPickerId:function(e,t){var n=e.commit;n("setOpenColorPickerId",t)},toggleOutput:function(e,t){var n=e.commit;n("toggleOutput",t)},unselectShape:function(e){var t=e.commit;t("selectShape",{shape:null})}}}),ii=ai,si=(n(7042),{state:{snapshots:[],snapshotIndex:-1},getters:{canUndo:function(e){return 0<e.snapshotIndex&&0<e.snapshots.length},canRedo:function(e){return e.snapshotIndex<e.snapshots.length-1},currentSnapshot:function(e){return e.snapshots[e.snapshotIndex]},nextSnapshot:function(e){return e.snapshots[e.snapshotIndex+1]},previousSnapshot:function(e){return e.snapshots[e.snapshotIndex-1]},snapshots:function(e){return e.snapshots}},mutations:{addSnapshot:function(e,t){e.snapshots.push(ge(t)),e.snapshotIndex+=1},undo:function(e){e.snapshotIndex-=1},redo:function(e){e.snapshotIndex+=1},resetSnapshots:function(e){e.snapshots=[],e.snapshotIndex=-1},trimSnaphots:function(e){e.snapshots=e.snapshots.slice(0,e.snapshotIndex+1)}},actions:{addSnapshot:function(e){var t=e.commit,n=e.getters;n.canRedo&&t("trimSnaphots"),t("addSnapshot",n.allLayers)},undo:function(e){var t=e.commit,n=e.dispatch,o=e.getters;o.canUndo&&(n("setLayers",ge(o.previousSnapshot)),t("undo"))},redo:function(e){var t=e.commit,n=e.dispatch,o=e.getters;o.canRedo&&(n("setLayers",ge(o.nextSnapshot)),t("redo"))},resetSnapshots:function(e){var t=e.commit;t("resetSnapshots")}}}),ri=(0,d.MT)({get route(){return Sa.currentRoute.value},state:{},mutations:{},getters:{},actions:{commitChange:function(e){var t=e.dispatch;return t("addSnapshot"),t("updateProject")}},modules:{projects:Ta,shapes:ni,snap:oi,ui:ii,undoRedo:si}}),pi={computed:{currentProject:function(){return ri.getters.currentProject},projectName:{get:function(){return this.currentProject.name||""},set:function(e){ri.dispatch("updateProject",{project:this.currentProject,newProps:{name:e}})}}},methods:{toggleOutput:function(){this.$router.push({name:"result"})}}};const ci=(0,F.Z)(pi,[["render",l],["__scopeId","data-v-5faf536f"]]);var ui=ci,li={components:{Nav:ui},computed:{mode:function(){return"gallery"===this.$route.name||"about"===this.$route.name?"at-root":""}}};const di=(0,F.Z)(li,[["render",r]]);var hi=di,fi=n(1803),vi=(0,o.ri)(hi);vi.use(ri),vi.use(Sa),vi.use(fi.Z,{autoSetContainer:!0}),vi.config.productionTip=!1,vi.mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,i){if(!o){var s=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],i=e[u][2];for(var r=!0,p=0;p<o.length;p++)(!1&i||s>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[p])}))?o.splice(p--,1):(r=!1,i<s&&(s=i));if(r){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,i,s=o[0],r=o[1],p=o[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(p)var u=p(n)}for(t&&t(o);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},o=self["webpackChunkzerodivs"]=self["webpackChunkzerodivs"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(3045)}));o=n.O(o)})();
//# sourceMappingURL=app-legacy.7e7d25bb.js.map